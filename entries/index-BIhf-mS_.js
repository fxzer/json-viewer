const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/NodeDialog-7GoB_PKX.js","chunks/element-plus-BNby0U7X.js","chunks/vendor-DpL_3BW5.js","assets/css/vendor-Cv0uBr4-.css","assets/css/element-plus-B1Ol2fap.css","chunks/useDialogWidth-CmLne35L.js","chunks/antv-g6-B4EAt4K8.js","chunks/codemirror-BlILQCPe.js","chunks/ExportImage-CEOVAnE9.js","chunks/ConfigDrawer-DdzGkI2x.js","assets/css/ConfigDrawer-7v6nSIIC.css"])))=>i.map(i=>d[i]);
import{bZ as We,b_ as le,aN as v,b$ as Re,c0 as B,c1 as de,c2 as X,bb as Ke,c3 as qe,c4 as Ze,c5 as Ye,c6 as $e,c7 as Xe,aG as W,T as Qe,bK as P,c8 as et,bH as tt,aJ as M,aD as z,c9 as ue,aI as nt,aK as ot,b1 as V,b2 as N,bg as K,b5 as y,bl as b,aO as c,ca as pe,aS as q,bp as ae,cb as rt,bD as Le,bn as De,cc as at,bi as fe,bf as Pe,bj as E,bo as Ve,bh as D,cd as je,ce as st,cf as it,bC as ct,cg as lt,ch as xe,ci as dt,cj as ut,ck as pt,cl as _e}from"../chunks/vendor-DpL_3BW5.js";import{E as ft,a as Ie,b as gt}from"../chunks/element-plus-BNby0U7X.js";import{r as mt,E as ht,R as yt,B as bt,C as vt,t as xt,G as _t,a as wt,N as Ct}from"../chunks/antv-g6-B4EAt4K8.js";import{j as we,o as St,T as kt}from"../chunks/codemirror-BlILQCPe.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();const Et={language:"简体中文",zoomIn:"ZoomIn",zoomOut:"ZoomOut",exit:"Exit ",enter:"Enter ",fullscreen:"Fullscreen",expand:"Expand ",collapse:"Collapse ",editor:"Editor",saveImage:"Save as Image",center:"Center",nodes:"Nodes",autoRender:"Auto Render",manualRender:"Manual Render",execute:"Render",import:"Import",export:"Export",clear:"Clear JSON",parseField:"Parse field",config:"Config",layoutConfig:"Layout Config",inputPlaceholder:"Please enter content",editorPlaceholder:"Please enter JSON",imageName:"Name",saveImagePlaceholder:"Please enter the exported image name",saveFormat:"Format",nodeDetail:"Node Detail",indented:"Indented","compact-box":"CompactBox",mindmap:"MindMap",dendrogram:"Dendrogram",direction:"Direction",nodeWrap:"NodeWrap",indentDistance:"Indent",nodeWrapInfo:"After opening, the child nodes start rendering from the next line of the parent node in turn",levelSpacing:"LevelGap",nodeSpacing:"NodeGap",getHGap:"HGap",getVGap:"VGap",assignField:"Assign Field",fieldPlaceholder:"Please enter the field name and press Enter to confirm",infoName:"Extra parse field:",info:"The specified field is processed. If the value can be parsed as JSON, recursive processing is continued and converted into a subtree. Otherwise, no processing is performed."},Nt={language:"English",zoomIn:"放大",zoomOut:"缩小",exit:"退出",enter:"进入",fullscreen:"全屏",expand:"展开",collapse:"收起",editor:"编辑器",saveImage:"存为图片",center:"居中",nodes:"节点",autoRender:"自动渲染",manualRender:"手动渲染",execute:"渲染",import:"导入",export:"导出",clear:"清空JSON",parseField:"解析字段",config:"配置",layoutConfig:"布局配置",inputPlaceholder:"请输入内容",editorPlaceholder:"请输入JSON",imageName:"图片名称",saveFormat:"导出格式",saveImagePlaceholder:"请输入导出图片名",nodeDetail:"节点详情",indented:"缩进树","compact-box":"紧凑树",mindmap:"脑图树",dendrogram:"生态树",direction:"布局方向",nodeWrap:"节点换行",indentDistance:"缩进距离",nodeWrapInfo:"开启后子节点从父节点下一行开始依次渲染",levelSpacing:"层级间距",nodeSpacing:"节点间距",getHGap:"水平间距",getVGap:"垂直间距",assignField:"指定额外解析字段",fieldPlaceholder:"请输入字段名,可按回车确认",infoName:"额外解析字段：",info:"处理指定字段是，若可将其值解析为JSON，则继续递归处理，并转化为子树，否则不处理。"};var Oe;const Ot=((Oe=JSON.parse(localStorage.getItem("global")))==null?void 0:Oe.language)||"zh-CN",Rt=We({legacy:!1,locale:Ot,messages:{zh:Nt,en:Et}});function $t(n){n.use(Rt)}const Lt="modulepreload",Dt=function(n){return"/json-viewer/"+n},Ce={},ge=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let i=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=i(t.map(d=>{if(d=Dt(d),d in Ce)return;Ce[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Lt,f||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((x,S)=>{g.addEventListener("load",x),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Pt="success",Vt=!1,jt=100,It="Jan 10, 2023 1:13:21 PM",Tt="Jan 10, 2023 1:13:21 PM",zt=["李四","王五","赵六"],At={name:"张三",age:18,height:180,address:"江苏苏州姑苏区",contact:{phone:["19988886666","010-88889999"],eamil:["300100999@qq.com","g123456@gamil.com"]}},Gt='{"code": 200, "message": "success"}',Mt={state:Pt,error:Vt,total:jt,createdDate:It,finishedDate:Tt,friends:zt,person:At,result:Gt},Ut=new URLSearchParams(window.location.search||""),se="code",me=le("code",()=>{const n=JSON.stringify(Mt,null,2),e=v(Re.decompressFromEncodedURIComponent(Ut.get(se)||"")||n),t=v(JSON.parse(e.value)),r=v(!0);return B(e,o=>{if(!o){t.value={};return}try{const a=JSON.parse(o);r.value=!0,t.value=a}catch(a){r.value=!1,ft({type:"error",title:"JSON语法错误",dangerouslyUseHTMLString:!0,message:`<pre style="white-space: normal;">${a.message}</pre>`,duration:2e3})}},{debounce:300}),{rawCode:e,parsedJson:t,isJsonValid:r}}),ie=de(),Se=X(ie),Bt=document.startViewTransition&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches;function ke(n){if(!Bt||!n){Se();return}const e=n.clientX,t=n.clientY,r=Math.hypot(Math.max(e,innerWidth-e),Math.max(t,innerHeight-t));document.startViewTransition(async()=>{Se(),await Ke()}).ready.then(()=>{const a=[`circle(0px at ${e}px ${t}px)`,`circle(${r}px at ${e}px ${t}px)`];document.documentElement.animate({clipPath:ie.value?[...a].reverse():a},{duration:400,easing:"ease-in",pseudoElement:ie.value?"::view-transition-old(root)":"::view-transition-new(root)"})})}const Ee=qe(Ye);function he(){const n=v(Ee.isSmaller("md")),e=$e(()=>{n.value=Ee.isSmaller("md")},300);return Ze(document.body,e),n}const Y={EN:"en-US",CN:"zh-CN"},Q=le("global",()=>{const n=Xe(),e=v(Y.CN),t=de(),r=he();function o(){const u=e.value===Y.CN?Y.EN:Y.CN;e.value=n.locale.value=u}const[a,i]=X(!0),l=W(()=>a.value?r.value?[50,50]:[30,70]:[0,100]);return{isDark:t,currentLanguage:e,isExpandEditor:a,toggleEditor:i,paneSize:l,toggleLanguage:o}},{persist:!0}),ee={array:"#818cf8",string:"#a3e635",boolean:"#fb7185",object:"#fb923c",other:"#c084fc"},Jt={mindmap:{type:"mindmap",direction:"LR",directions:["H","LR","RL","TB","BT"],getWidth:n=>{var e;return(e=n.data)==null?void 0:e.width},getHeight:n=>{var e;return(e=n.data)==null?void 0:e.height},getVGap:40,getHGap:120},"compact-box":{type:"compact-box",direction:"LR",directions:["LR","RL","H","V"],getWidth:n=>{var e;return(e=n.data)==null?void 0:e.width},getHeight:n=>{var e;return(e=n.data)==null?void 0:e.height},getVGap:40,getHGap:120},indented:{type:"indented",direction:"LR",directions:["LR","RL","H"],indent:240,dropCap:!1,getWidth:n=>{var e;return(e=n.data)==null?void 0:e.width},getHeight:n=>{var e;return(e=n.data)==null?void 0:e.height}},dendrogram:{type:"dendrogram",direction:"LR",directions:["LR","RL","H"],nodeSep:100,rankSep:160,radial:!1}};function Ne(n){const e={...n};if(["mindmap","compact-box"].includes(e.type)){const{getVGap:t,getHGap:r}=e;e.getVGap=()=>t,e.getHGap=()=>r}return e.animation=!1,e}const Te=(()=>{const e=document.createElement("canvas").getContext("2d"),t=new Map;return(r,o="normal 16px monospace")=>{const a=`${o}:${r}`;if(t.has(a))return t.get(a);e.font=o;const i=Math.ceil(e.measureText(r).width);return t.set(a,i),i}})();function Ht(n){return Object.prototype.toString.call(n)==="[object Object]"}function Ft(n,e="json-viewer.json"){const t=Ht(n)?JSON.stringify(n,void 0,2):n,r=new Blob([t],{type:"text/plain"}),o=document.createElement("a");o.setAttribute("style","display: none"),o.href=URL.createObjectURL(r),o.download=e,o.click()}function Wt(n){const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept",".json"),e.click(),e.onchange=()=>{var o;const t=(o=e.files)==null?void 0:o[0];if(!t)return;const r=new FileReader;r.readAsText(t),r.onload=()=>{n(r.result)}}}const Kt=50,J=[];function qt(){if(J.length>0)return J.pop();function n(t=8){return Math.random().toString(36).substring(2,2+t)}function e(t){for(let r=0;r<Kt;r++)t.push(n())}return J.length===0&&e(J),n()}const ce=10,Zt=20;function ze(n){return typeof n=="string"?`"${n}"`:String(n)}function H(n,e="object",t,r=40){const o=ee[e];return{id:qt(),content:n,style:{collapsed:!1,stroke:o,fill:o},data:{width:t||Te(n)+ce*2,height:r,badge:e}}}function Ae(n){const e=[],t=[];return Object.entries(n).forEach(([r,o])=>{o===null||typeof o!="object"?e.push([r,o]):t.push([r,o])}),{basicProps:e,complexProps:t}}function Ge(n,e){let t=0;const r=[],o=[];for(const[d,f]of n){if(typeof f=="string"&&e.includes(d))try{const x=JSON.parse(f);if(typeof x=="object"&&x!==null){const S=F(d,x,e);o.push(S);continue}}catch{console.warn("解析失败，作为普通字符串处理",f)}const m=`${d}: ${ze(f)}`;r.push(m);const g=Te(m);t=Math.max(t,g)}const a=r.join(`
`),i=t+ce*2,l=r.length*Zt+ce*2,u=H(a,"other",i,l);if(r.length>1){const d=Object.fromEntries(n.filter(([f])=>!e.includes(f)));u.obj=d}return{basicNode:u,parsedNodes:o}}function F(n,e,t=[]){let r=String(n),o="object";if(e===null||typeof e!="object")return r=`${n}: ${ze(e)}`,o=typeof e,H(r,o);if(Array.isArray(e)){const a=H(r,"array");return a.children=e.map((i,l)=>F(String(l),i,t)),a}if(typeof e=="object"&&e!==null){const a=H(r,"object"),{basicProps:i,complexProps:l}=Ae(e);if(a.children=[],i.length>0){const{basicNode:u,parsedNodes:d}=Ge(i,t);u.content&&u.content.trim()!==""&&a.children.push(u),d.length>0&&a.children.push(...d)}return l.forEach(([u,d])=>{a.children.push(F(u,d,t))}),a}if(typeof e=="string"&&t.includes(n))try{const a=JSON.parse(e);if(typeof a=="object"&&a!==null)return F(n,a,t)}catch{console.warn("解析失败，作为普通字符串处理",e)}return H(r,o)}function Yt(n,e=[]){J.length=0;const t={id:"ROOT",name:"ROOT",content:"ROOT",style:{collapsed:!1,stroke:ee.object,fill:ee.object},data:{width:56,height:56,badge:"object"}};if(!n||Object.keys(n).length===0)return{};const{basicProps:r,complexProps:o}=Ae(n);if(t.children=[],r.length>0){const{basicNode:a,parsedNodes:i}=Ge(r,e);a.content&&a.content.trim()!==""&&t.children.push(a),i.length>0&&t.children.push(...i)}return o.forEach(([a,i])=>{t.children.push(F(a,i,e))}),t}class Xt extends yt{get data(){return this.context.model.getNodeLikeDatum(this.id)}get childrenData(){return this.context.model.getChildrenData(this.id)}get isDark(){return this.context.graph.getTheme()==="dark"}get textColor(){return this.isDark?"#fff":"#000"}get backgroundColor(){return this.isDark?"#000":"#fff"}getContentStyle(e){const[t]=this.getSize(e),r=this.data.content;return{x:-t/2+8,y:0,text:String(r),fontSize:16,fill:this.textColor,fontFamily:"monospace",opacity:.9,textAlign:"left",textBaseline:"middle"}}drawContentShape(e,t){const r=this.getContentStyle(e);this.upsert("content",Qe,r,t)}getCollapseStyle(e){const t=this.childrenData.length;if(t===0)return!1;const{collapsed:r}=e,o=this.data.data.badge,[a]=this.getSize(e),i=r?o==="object"?`{${t}}`:`[${t}]`:"-";return{backgroundFill:this.backgroundColor,backgroundWidth:16,backgroundHeight:16,backgroundLineWidth:.5,backgroundFillOpacity:.5,backgroundRadius:3,backgroundStroke:this.textColor,backgroundStrokeOpacity:.2,cursor:"pointer",fill:ee[o],fontSize:r?10:18,text:i,textAlign:"center",textBaseline:"middle",x:a/2,y:0}}drawCollapseShape(e,t){const r=this.getCollapseStyle(e),o=this.upsert("collapse",bt,r,t);o&&!Reflect.has(o,"__bind__")&&(Reflect.set(o,"__bind__",!0),o.addEventListener(vt.CLICK,a=>{a.stopPropagation();const{collapsed:i}=this.attributes,l=this.context.graph;i?l.expandElement(this.id):l.collapseElement(this.id)}))}getKeyStyle(e){return{...super.getKeyStyle(e)}}render(e=this.parsedAttributes,t){super.render(e,t),this.drawContentShape(e,t),this.drawCollapseShape(e,t)}}mt(ht.NODE,"flow-rect",Xt);async function Qt(n,e="json-viewer",t="image/png"){if(n)try{const r=await n.toDataURL({mode:"overall",type:t,encoderOptions:1}),[o,a]=r.split(","),i=o.match(/:(.*?);/)[1],l=atob(a);let u=l.length;const d=new Uint8Array(u);for(;u--;)d[u]=l.charCodeAt(u);const f=new Blob([d],{type:i}),m=URL.createObjectURL(f),g=document.createElement("a");g.href=m,g.download=`${e}.${t.split("/")[1]}`,g.click(),URL.revokeObjectURL(m)}catch(r){console.error("导出图片失败:",r)}}function re(n,e){document.documentElement.style.setProperty(n,e)}const en="/json-viewer/",U=new URL(en,window.location.origin),j=le("graph",()=>{const{parsedJson:n,rawCode:e}=P(me()),{isDark:t}=P(Q()),[r,o]=X(!0),a=v(0),i=v(""),l=v(["result"]),u=v(null),{width:d,height:f}=et(u),m=v(1),g=W(()=>`${(m.value*100).toFixed(2)}%`),x=v(!0),[S,_]=X(!0),I=v("mindmap"),k=tt(Jt),w=W(()=>k[I.value]),$=v(!1),Z=v({});let s=null;const L=$e(Ue,300);function Ue(){if(!(!n.value||!u.value||!u.value.offsetParent))try{if(!s&&(s=ve(u.value),!s))return;s.clear();const p=Yt(n.value,l.value),C=xt(p);s.setData(C),s.render().then(()=>{i.value&&s&&ne(i.value)}).catch(T=>{console.error("图形渲染失败:",T)})}catch(p){console.error("渲染图失败:",p)}}function ve(p){if(s)return s;if(!p||!p.offsetParent)return console.error("容器元素无效或未挂载到DOM"),null;try{const C=Ne(w.value);return s=new _t({container:p,autoFit:"view",theme:t.value?"dark":"light",padding:[30,30,30,30],zoomRange:[.1,3],animation:!0,layout:C,node:{type:"flow-rect",style:{cursor:"pointer",size:T=>{const{data:h}=T;return[h.width,h.height]},ports:[{placement:"left"},{placement:"right"}],radius:4,fillOpacity:.1,lineWidth:1},state:{focused:{haloStroke:"#4ac666",halo:!0,stroke:"#4ac666"}}},edge:{type:"cubic-horizontal",style:{strokeOpacity:.5}},behaviors:["zoom-canvas","drag-canvas"]}),Be(),s}catch(C){return console.error("初始化图实例出错:",C),null}}function Be(){s&&(s.on(wt.AFTER_TRANSFORM,()=>{s&&te()}),s.on(Ct.CLICK,p=>{if(!s)return;const{targetType:C,target:T}=p;C==="node"&&(Z.value=s.getNodeData(T.id),$.value=!0)}))}function te(){if(!s){m.value=1;return}try{m.value=s.getZoom()||1}catch{m.value=1}}function Je(p){s&&(s.zoomBy(p),te())}function A(){s&&(s.fitView({when:"always",direction:"both"},{duration:1e3}),te())}function ne(p){if(console.warn("执行focusNode",{newKeyword:p,hasGraph:!!s}),!s){console.warn("图形未初始化，无法执行搜索");return}function C(h,oe=[]){if(!(!h||!h.length))try{const O=h.reduce((G,R)=>(G[R.id]=oe,G),{});s.setElementState(O,!0)}catch(O){console.warn("设置节点状态失败:",O)}}if((()=>{try{const h=s.getElementDataByState("node","focused");h&&h.length&&C(h,[])}catch(h){console.warn("清除节点聚焦状态失败:",h)}})(),!p){a.value=0,A();return}try{let h=[];try{h=s.getNodeData()||[]}catch(R){console.warn("获取节点数据失败:",R),h=[]}if(!h.length){console.warn("图形没有节点数据，可能渲染未完成"),a.value=0,setTimeout(()=>{console.warn("延迟重试搜索"),ne(p)},500);return}const oe=p.toLowerCase(),O=h.filter(R=>!R||!R.data?!1:String(R.content).toLowerCase().includes(oe));a.value=O.length,console.warn("找到匹配节点数量:",O.length);const G=O.length;if(G>0)if(C(O,["focused"]),G===1)try{s.focusElement(O[0].id,{duration:300,easing:"ease"})}catch(R){console.warn("聚焦到节点失败:",R),A()}else A();else A()}catch(h){console.warn("节点聚焦失败:",h),a.value=0}}function He(p,C){s&&Qt(s,p,C)}function Fe(){try{s&&(s.off(),s.destroy(),s=null)}catch(p){console.warn("销毁图实例出错:",p),s=null}}return M(n,p=>{S.value&&L(),x.value=!1,Object.keys(p).length===0?(U.searchParams.delete(se),window.history.replaceState("","",`${U.pathname}`)):x.value||(U.searchParams.set(se,Re.compressToEncodedURIComponent(e.value)),window.history.replaceState("","",`${U.pathname}${U.search}`))}),B(S,()=>L(),{debounce:300}),M(t,()=>L()),M(l,()=>S.value&&L(),{deep:!0}),B(()=>i.value,p=>{s&&s.rendered&&ne(p)},{debounce:300}),B(()=>w.value,()=>{if(s){const p=Ne(w.value);s.layout(p),s.fitView({when:"always",direction:"both"})}},{debounce:400,deep:!0}),M(t,()=>{s&&s.setTheme(t.value?"dark":"light")}),M(r,p=>{s&&(p?s.expandElement("ROOT",{align:!0,animation:!0}):s.collapseElement("ROOT",{align:!0,animation:!0}))}),B([d,f],([p,C])=>{s&&s.setSize(p,C)},{debounce:300}),{ratio:m,ratioText:g,isExpandNode:r,nodeDetailVisible:$,nodeDetail:Z,activeLayout:I,activeConfig:w,keyword:i,fields:l,focusCount:a,autoRender:S,jsonCanvasRef:u,initGraph:ve,destroyGraph:Fe,render:L,zoomBy:Je,fitView:A,exportImage:He,toggleNode:o,toggleExecuteMode:_}},{persist:!0}),tn=z({__name:"JsonCanvas",setup(n){const e=pe(()=>ge(()=>import("../chunks/NodeDialog-7GoB_PKX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),{jsonCanvasRef:t,nodeDetailVisible:r,nodeDetail:o}=ue(j()),{render:a,destroyGraph:i}=j();return nt(a),ot(i),(l,u)=>(N(),V(K,null,[y("div",{ref_key:"jsonCanvasRef",ref:t,class:"wh-full"},null,512),b(c(e),{modelValue:c(r),"onUpdate:modelValue":u[0]||(u[0]=d=>q(r)?r.value=d:null),"node-detail":c(o)},null,8,["modelValue","node-detail"])],64))}}),nn={class:"flex-y-center gap-2"},on={class:"h-30px flex-y-center flex-nowrap gap-1 rounded bg-white px1 lt-md:my-2 dark:bg-white/20"},rn=["placeholder"],an={class:"text-nowrap text-primary"},sn=z({__name:"SearchInput",setup(n){const{keyword:e,focusCount:t}=P(j());return(r,o)=>(N(),V("div",nn,[y("div",on,[o[2]||(o[2]=y("span",{class:"iconfont icon-search text-gray"},null,-1)),ae(y("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>q(e)?e.value=a:null),class:"flex-1 bg-transparent outline-none",text:"gray-500 dark:gray-300",type:"text",placeholder:r.$t("inputPlaceholder")},null,8,rn),[[rt,c(e),void 0,{trim:!0}]]),ae(y("span",{class:"iconfont icon-clear cursor-pointer text-gray/60 hover:text-gray",onClick:o[1]||(o[1]=a=>e.value="")},null,512),[[Le,c(e)]])]),y("span",an,De(c(t)),1)]))}}),cn={border:"b gray/20",class:"bg-gray/10 px-2 md:h-10 md:flex-between-center"},ln={class:"flex-y-center space-x-3"},dn=["onClick"],un={op60:""},pn=z({__name:"CanvasToolBar",setup(n){const e=pe(()=>ge(()=>import("../chunks/ExportImage-CEOVAnE9.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]))),{zoomBy:t,fitView:r,toggleNode:o}=j(),{ratioText:a,isExpandNode:i}=ue(j()),{toggleEditor:l,toggleLanguage:u}=Q(),{isDark:d,isExpandEditor:f}=P(Q()),m=he(),g=W(()=>({transform:`rotate(${m.value?f.value?"90deg":"270deg":f.value?"0deg":"180deg"})`})),{isFullscreen:x,toggle:S}=at(),_=v(!1),I=[{icon:"icon-jia",content:"zoomIn",onClick:()=>t(1.2)},{icon:"icon-jian",content:"zoomOut",onClick:()=>t(.8)},{icon:"icon-center-focus",content:"center",onClick:r},{icon:"icon-save-image",content:"saveImage",onClick:()=>_.value=!0},{icon:"icon-language",content:"language",onClick:u}];return(k,w)=>{const $=Ie,Z=sn;return N(),V(K,null,[y("div",cn,[y("div",ln,[b($,{content:`${c(f)?k.$t("collapse"):k.$t("expand")}${k.$t("editor")}`},{default:E(()=>[y("span",{class:"iconfont icon-editor-expand",style:Ve(c(g)),onClick:w[0]||(w[0]=s=>c(l)())},null,4)]),_:1},8,["content"]),b($,{content:`${c(i)?k.$t("collapse"):k.$t("expand")}${k.$t("nodes")}`},{default:E(()=>[y("span",{class:D(["iconfont",c(i)?"icon-node-collapse":"icon-node-expand"]),onClick:w[1]||(w[1]=s=>c(o)())},null,2)]),_:1},8,["content"]),(N(),V(K,null,je(I,(s,L)=>b($,{key:L,content:k.$t(s.content)},{default:E(()=>[y("span",{class:D(["iconfont",s.icon]),onClick:s.onClick},null,10,dn)]),_:2},1032,["content"])),64)),b($,{content:`${c(x)?k.$t("exit"):k.$t("enter")}${k.$t("fullscreen")}`},{default:E(()=>[y("span",{class:D(["iconfont",c(x)?"icon-exit-fullscreen":"icon-enter-fullscreen"]),onClick:w[2]||(w[2]=(...s)=>c(S)&&c(S)(...s))},null,2)]),_:1},8,["content"]),y("span",{class:D(["iconfont",c(d)?"icon-night":"icon-day"]),onClick:w[3]||(w[3]=(...s)=>c(ke)&&c(ke)(...s))},null,2),y("div",un,De(c(a)),1)]),b(Z)]),c(_)?(N(),fe(c(e),{key:0,modelValue:c(_),"onUpdate:modelValue":w[4]||(w[4]=s=>q(_)?_.value=s:null)},null,8,["modelValue"])):Pe("",!0)],64)}}}),fn=z({__name:"VueCodeMirror",props:st({style:{type:Object,default:()=>({height:"100%"})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=it(n,"modelValue"),t=de(),r=W(()=>t.value?[we(),St]:[we()]);return(o,a)=>(N(),fe(c(kt),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=i=>e.value=i),placeholder:o.$t("editorPlaceholder"),style:Ve(n.style),"indent-with-tab":!0,"tab-size":2,extensions:c(r)},null,8,["modelValue","placeholder","style","extensions"]))}}),ye=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},gn=ye(fn,[["__scopeId","data-v-010f2782"]]),mn={border:"b gray/20",class:"h-10 flex items-center bg-gray/10 px-2 space-x-3"},hn=["onClick"],yn=z({__name:"EditorToolBar",setup(n){const e=pe(()=>ge(()=>import("../chunks/ConfigDrawer-DdzGkI2x.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,10]))),t=v(!1);function r(){t.value=!t.value}const{rawCode:o,parsedJson:a,isJsonValid:i}=P(me()),{autoRender:l}=P(j()),{render:u,toggleExecuteMode:d}=j(),f=[{icon:"icon-config",content:"config",onClick:r},{icon:"icon-import-json",content:"import",onClick:()=>{Wt(m=>{o.value=m})}},{icon:"icon-export-json",content:"export",onClick:()=>Ft(a.value)},{icon:"icon-clear-json",content:"clear",onClick:()=>{o.value=""}}];return(m,g)=>{const x=Ie,S=gt;return N(),V(K,null,[y("div",mn,[(N(),V(K,null,je(f,(_,I)=>b(x,{key:I,content:m.$t(_.content)},{default:E(()=>[y("span",{class:D(["iconfont",_.icon]),onClick:_.onClick},null,10,hn)]),_:2},1032,["content"])),64)),b(x,{content:m.$t(c(l)?"autoRender":"manualRender")},{default:E(()=>[y("span",{class:D(["iconfont icon-auto",c(l)?c(i)?"!text-green-500":"!text-gray-300":""]),onClick:g[0]||(g[0]=_=>c(d)())},null,2)]),_:1},8,["content"]),b(x,{content:"渲染"},{default:E(()=>[b(ct,{name:"slide"},{default:E(()=>[ae(b(S,{class:D(["iconfont icon-execute",[!c(l)&&c(i)?"!text-green-500":"",c(i)?"":"!text-gray-300"]]),link:"",disabled:!c(i),onClick:g[1]||(g[1]=_=>c(u)())},null,8,["class","disabled"]),[[Le,!c(l)]])]),_:1})]),_:1})]),c(t)?(N(),fe(c(e),{key:0,modelValue:c(t),"onUpdate:modelValue":g[2]||(g[2]=_=>q(t)?t.value=_:null)},null,8,["modelValue"])):Pe("",!0)],64)}}}),bn=ye(yn,[["__scopeId","data-v-84460618"]]),vn={"h-full":""},xn=z({__name:"App",setup(n){const e=he(),{paneSize:t}=ue(Q()),{rawCode:r}=P(me());return(o,a)=>{const i=bn,l=gn,u=pn,d=tn;return N(),V("div",null,[b(c(lt),{class:"default-theme",style:{height:"100vh"},horizontal:c(e)},{default:E(()=>[b(c(xe),{"max-size":"50",size:c(t)[0]},{default:E(()=>[b(i),b(l,{modelValue:c(r),"onUpdate:modelValue":a[0]||(a[0]=f=>q(r)?r.value=f:null),style:{height:"calc(100% - 40px);"}},null,8,["modelValue"])]),_:1},8,["size"]),b(c(xe),{size:c(t)[1]},{default:E(()=>[y("div",vn,[b(u),b(d)])]),_:1},8,["size"])]),_:1},8,["horizontal"])])}}}),_n=ye(xn,[["__scopeId","data-v-2942d655"]]),Me=dt();Me.use(ut);const be=pt(_n);be.use(Me);$t(be);be.mount("#app");function wn(n){re("--el-color-primary",n),re("--el-color-primary-light-9",_e(n).alpha(.1).hex()),re("--el-color-primary-light-7",_e(n).alpha(.3).hex())}wn("#00bd5c");export{gn as _,ye as a,j as u};
