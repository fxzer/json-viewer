var L$=Object.defineProperty;var bE=e=>{throw TypeError(e)};var I$=(e,t,r)=>t in e?L$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qt=(e,t,r)=>I$(e,typeof t!="symbol"?t+"":t,r),Vp=(e,t,r)=>t.has(e)||bE("Cannot "+r);var Oi=(e,t,r)=>(Vp(e,t,"read from private field"),r?r.call(e):t.get(e)),Up=(e,t,r)=>t.has(e)?bE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nf=(e,t,r,n)=>(Vp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Hp=(e,t,r)=>(Vp(e,t,"access private method"),r);/*!
  * shared v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Ih=typeof window<"u",$s=(e,t=!1)=>t?Symbol.for(e):Symbol(e),D$=(e,t,r)=>F$({l:e,k:t,s:r}),F$=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Mr=e=>typeof e=="number"&&isFinite(e),B$=e=>Yx(e)==="[object Date]",El=e=>Yx(e)==="[object RegExp]",Fd=e=>bt(e)&&Object.keys(e).length===0,qr=Object.assign,$$=Object.create,Bt=(e=null)=>$$(e);let wE;const go=()=>wE||(wE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Bt());function xE(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const q$=Object.prototype.hasOwnProperty;function Di(e,t){return q$.call(e,t)}const Ar=Array.isArray,nr=e=>typeof e=="function",Ve=e=>typeof e=="string",Tt=e=>typeof e=="boolean",At=e=>e!==null&&typeof e=="object",z$=e=>At(e)&&nr(e.then)&&nr(e.catch),AL=Object.prototype.toString,Yx=e=>AL.call(e),bt=e=>Yx(e)==="[object Object]",j$=e=>e==null?"":Ar(e)||bt(e)&&e.toString===AL?JSON.stringify(e,null,2):String(e);function Xx(e,t=""){return e.reduce((r,n,i)=>i===0?r+n:r+t+n,"")}function G$(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const af=e=>!At(e)||Ar(e);function mh(e,t){if(af(e)||af(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(a=>{a!=="__proto__"&&(At(n[a])&&!At(i[a])&&(i[a]=Array.isArray(n[a])?[]:Bt()),af(i[a])||af(n[a])?i[a]=n[a]:r.push({src:n[a],des:i[a]}))})}}/*!
  * message-compiler v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function W$(e,t,r){return{line:e,column:t,offset:r}}function nw(e,t,r){return{start:e,end:t}}const Ct={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},V$=17;function Bd(e,t,r={}){const{domain:n,messages:i,args:a}=r,s=e,o=new SyntaxError(String(s));return o.code=e,t&&(o.location=t),o.domain=n,o}function U$(e){throw e}const Ta=" ",H$="\r",wn=`
`,Y$="\u2028",X$="\u2029";function K$(e){const t=e;let r=0,n=1,i=1,a=0;const s=_=>t[_]===H$&&t[_+1]===wn,o=_=>t[_]===wn,l=_=>t[_]===X$,u=_=>t[_]===Y$,c=_=>s(_)||o(_)||l(_)||u(_),f=()=>r,h=()=>n,d=()=>i,p=()=>a,v=_=>s(_)||l(_)||u(_)?wn:t[_],g=()=>v(r),m=()=>v(r+a);function y(){return a=0,c(r)&&(n++,i=0),s(r)&&r++,r++,i++,t[r]}function b(){return s(r+a)&&a++,a++,t[r+a]}function x(){r=0,n=1,i=1,a=0}function E(_=0){a=_}function S(){const _=r+a;for(;_!==r;)y();a=0}return{index:f,line:h,column:d,peekOffset:p,charAt:v,currentChar:g,currentPeek:m,next:y,peek:b,reset:x,resetPeek:E,skipToPeek:S}}const is=void 0,Z$=".",_E="'",Q$="tokenizer";function J$(e,t={}){const r=t.location!==!1,n=K$(e),i=()=>n.index(),a=()=>W$(n.line(),n.column(),n.index()),s=a(),o=i(),l={currentType:13,offset:o,startLoc:s,endLoc:s,lastType:13,lastOffset:o,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function f(G,j,re,...ue){const Pe=u();if(j.column+=re,j.offset+=re,c){const me=r?nw(Pe.startLoc,j):null,te=Bd(G,me,{domain:Q$,args:ue});c(te)}}function h(G,j,re){G.endLoc=a(),G.currentType=j;const ue={type:j};return r&&(ue.loc=nw(G.startLoc,G.endLoc)),re!=null&&(ue.value=re),ue}const d=G=>h(G,13);function p(G,j){return G.currentChar()===j?(G.next(),j):(f(Ct.EXPECTED_TOKEN,a(),0,j),"")}function v(G){let j="";for(;G.currentPeek()===Ta||G.currentPeek()===wn;)j+=G.currentPeek(),G.peek();return j}function g(G){const j=v(G);return G.skipToPeek(),j}function m(G){if(G===is)return!1;const j=G.charCodeAt(0);return j>=97&&j<=122||j>=65&&j<=90||j===95}function y(G){if(G===is)return!1;const j=G.charCodeAt(0);return j>=48&&j<=57}function b(G,j){const{currentType:re}=j;if(re!==2)return!1;v(G);const ue=m(G.currentPeek());return G.resetPeek(),ue}function x(G,j){const{currentType:re}=j;if(re!==2)return!1;v(G);const ue=G.currentPeek()==="-"?G.peek():G.currentPeek(),Pe=y(ue);return G.resetPeek(),Pe}function E(G,j){const{currentType:re}=j;if(re!==2)return!1;v(G);const ue=G.currentPeek()===_E;return G.resetPeek(),ue}function S(G,j){const{currentType:re}=j;if(re!==7)return!1;v(G);const ue=G.currentPeek()===".";return G.resetPeek(),ue}function _(G,j){const{currentType:re}=j;if(re!==8)return!1;v(G);const ue=m(G.currentPeek());return G.resetPeek(),ue}function k(G,j){const{currentType:re}=j;if(!(re===7||re===11))return!1;v(G);const ue=G.currentPeek()===":";return G.resetPeek(),ue}function O(G,j){const{currentType:re}=j;if(re!==9)return!1;const ue=()=>{const me=G.currentPeek();return me==="{"?m(G.peek()):me==="@"||me==="|"||me===":"||me==="."||me===Ta||!me?!1:me===wn?(G.peek(),ue()):N(G,!1)},Pe=ue();return G.resetPeek(),Pe}function P(G){v(G);const j=G.currentPeek()==="|";return G.resetPeek(),j}function N(G,j=!0){const re=(Pe=!1,me="")=>{const te=G.currentPeek();return te==="{"||te==="@"||!te?Pe:te==="|"?!(me===Ta||me===wn):te===Ta?(G.peek(),re(!0,Ta)):te===wn?(G.peek(),re(!0,wn)):!0},ue=re();return j&&G.resetPeek(),ue}function R(G,j){const re=G.currentChar();return re===is?is:j(re)?(G.next(),re):null}function L(G){const j=G.charCodeAt(0);return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===95||j===36}function D(G){return R(G,L)}function $(G){const j=G.charCodeAt(0);return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===95||j===36||j===45}function X(G){return R(G,$)}function K(G){const j=G.charCodeAt(0);return j>=48&&j<=57}function V(G){return R(G,K)}function ne(G){const j=G.charCodeAt(0);return j>=48&&j<=57||j>=65&&j<=70||j>=97&&j<=102}function we(G){return R(G,ne)}function Se(G){let j="",re="";for(;j=V(G);)re+=j;return re}function pe(G){let j="";for(;;){const re=G.currentChar();if(re==="{"||re==="}"||re==="@"||re==="|"||!re)break;if(re===Ta||re===wn)if(N(G))j+=re,G.next();else{if(P(G))break;j+=re,G.next()}else j+=re,G.next()}return j}function qe(G){g(G);let j="",re="";for(;j=X(G);)re+=j;return G.currentChar()===is&&f(Ct.UNTERMINATED_CLOSING_BRACE,a(),0),re}function ee(G){g(G);let j="";return G.currentChar()==="-"?(G.next(),j+=`-${Se(G)}`):j+=Se(G),G.currentChar()===is&&f(Ct.UNTERMINATED_CLOSING_BRACE,a(),0),j}function U(G){return G!==_E&&G!==wn}function le(G){g(G),p(G,"'");let j="",re="";for(;j=R(G,U);)j==="\\"?re+=Z(G):re+=j;const ue=G.currentChar();return ue===wn||ue===is?(f(Ct.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),ue===wn&&(G.next(),p(G,"'")),re):(p(G,"'"),re)}function Z(G){const j=G.currentChar();switch(j){case"\\":case"'":return G.next(),`\\${j}`;case"u":return se(G,j,4);case"U":return se(G,j,6);default:return f(Ct.UNKNOWN_ESCAPE_SEQUENCE,a(),0,j),""}}function se(G,j,re){p(G,j);let ue="";for(let Pe=0;Pe<re;Pe++){const me=we(G);if(!me){f(Ct.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${j}${ue}${G.currentChar()}`);break}ue+=me}return`\\${j}${ue}`}function ve(G){return G!=="{"&&G!=="}"&&G!==Ta&&G!==wn}function ge(G){g(G);let j="",re="";for(;j=R(G,ve);)re+=j;return re}function Me(G){let j="",re="";for(;j=D(G);)re+=j;return re}function W(G){const j=re=>{const ue=G.currentChar();return ue==="{"||ue==="@"||ue==="|"||ue==="("||ue===")"||!ue||ue===Ta?re:(re+=ue,G.next(),j(re))};return j("")}function H(G){g(G);const j=p(G,"|");return g(G),j}function oe(G,j){let re=null;switch(G.currentChar()){case"{":return j.braceNest>=1&&f(Ct.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),G.next(),re=h(j,2,"{"),g(G),j.braceNest++,re;case"}":return j.braceNest>0&&j.currentType===2&&f(Ct.EMPTY_PLACEHOLDER,a(),0),G.next(),re=h(j,3,"}"),j.braceNest--,j.braceNest>0&&g(G),j.inLinked&&j.braceNest===0&&(j.inLinked=!1),re;case"@":return j.braceNest>0&&f(Ct.UNTERMINATED_CLOSING_BRACE,a(),0),re=ce(G,j)||d(j),j.braceNest=0,re;default:{let Pe=!0,me=!0,te=!0;if(P(G))return j.braceNest>0&&f(Ct.UNTERMINATED_CLOSING_BRACE,a(),0),re=h(j,1,H(G)),j.braceNest=0,j.inLinked=!1,re;if(j.braceNest>0&&(j.currentType===4||j.currentType===5||j.currentType===6))return f(Ct.UNTERMINATED_CLOSING_BRACE,a(),0),j.braceNest=0,xe(G,j);if(Pe=b(G,j))return re=h(j,4,qe(G)),g(G),re;if(me=x(G,j))return re=h(j,5,ee(G)),g(G),re;if(te=E(G,j))return re=h(j,6,le(G)),g(G),re;if(!Pe&&!me&&!te)return re=h(j,12,ge(G)),f(Ct.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,re.value),g(G),re;break}}return re}function ce(G,j){const{currentType:re}=j;let ue=null;const Pe=G.currentChar();switch((re===7||re===8||re===11||re===9)&&(Pe===wn||Pe===Ta)&&f(Ct.INVALID_LINKED_FORMAT,a(),0),Pe){case"@":return G.next(),ue=h(j,7,"@"),j.inLinked=!0,ue;case".":return g(G),G.next(),h(j,8,".");case":":return g(G),G.next(),h(j,9,":");default:return P(G)?(ue=h(j,1,H(G)),j.braceNest=0,j.inLinked=!1,ue):S(G,j)||k(G,j)?(g(G),ce(G,j)):_(G,j)?(g(G),h(j,11,Me(G))):O(G,j)?(g(G),Pe==="{"?oe(G,j)||ue:h(j,10,W(G))):(re===7&&f(Ct.INVALID_LINKED_FORMAT,a(),0),j.braceNest=0,j.inLinked=!1,xe(G,j))}}function xe(G,j){let re={type:13};if(j.braceNest>0)return oe(G,j)||d(j);if(j.inLinked)return ce(G,j)||d(j);switch(G.currentChar()){case"{":return oe(G,j)||d(j);case"}":return f(Ct.UNBALANCED_CLOSING_BRACE,a(),0),G.next(),h(j,3,"}");case"@":return ce(G,j)||d(j);default:{if(P(G))return re=h(j,1,H(G)),j.braceNest=0,j.inLinked=!1,re;if(N(G))return h(j,0,pe(G));break}}return re}function de(){const{currentType:G,offset:j,startLoc:re,endLoc:ue}=l;return l.lastType=G,l.lastOffset=j,l.lastStartLoc=re,l.lastEndLoc=ue,l.offset=i(),l.startLoc=a(),n.currentChar()===is?h(l,13):xe(n,l)}return{nextToken:de,currentOffset:i,currentPosition:a,context:u}}const e6="parser",t6=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function r6(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(t||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function n6(e={}){const t=e.location!==!1,{onError:r}=e;function n(m,y,b,x,...E){const S=m.currentPosition();if(S.offset+=x,S.column+=x,r){const _=t?nw(b,S):null,k=Bd(y,_,{domain:e6,args:E});r(k)}}function i(m,y,b){const x={type:m};return t&&(x.start=y,x.end=y,x.loc={start:b,end:b}),x}function a(m,y,b,x){t&&(m.end=y,m.loc&&(m.loc.end=b))}function s(m,y){const b=m.context(),x=i(3,b.offset,b.startLoc);return x.value=y,a(x,m.currentOffset(),m.currentPosition()),x}function o(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:E}=b,S=i(5,x,E);return S.index=parseInt(y,10),m.nextToken(),a(S,m.currentOffset(),m.currentPosition()),S}function l(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:E}=b,S=i(4,x,E);return S.key=y,m.nextToken(),a(S,m.currentOffset(),m.currentPosition()),S}function u(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:E}=b,S=i(9,x,E);return S.value=y.replace(t6,r6),m.nextToken(),a(S,m.currentOffset(),m.currentPosition()),S}function c(m){const y=m.nextToken(),b=m.context(),{lastOffset:x,lastStartLoc:E}=b,S=i(8,x,E);return y.type!==11?(n(m,Ct.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),S.value="",a(S,x,E),{nextConsumeToken:y,node:S}):(y.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qi(y)),S.value=y.value||"",a(S,m.currentOffset(),m.currentPosition()),{node:S})}function f(m,y){const b=m.context(),x=i(7,b.offset,b.startLoc);return x.value=y,a(x,m.currentOffset(),m.currentPosition()),x}function h(m){const y=m.context(),b=i(6,y.offset,y.startLoc);let x=m.nextToken();if(x.type===8){const E=c(m);b.modifier=E.node,x=E.nextConsumeToken||m.nextToken()}switch(x.type!==9&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(x)),x=m.nextToken(),x.type===2&&(x=m.nextToken()),x.type){case 10:x.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(x)),b.key=f(m,x.value||"");break;case 4:x.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(x)),b.key=l(m,x.value||"");break;case 5:x.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(x)),b.key=o(m,x.value||"");break;case 6:x.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(x)),b.key=u(m,x.value||"");break;default:{n(m,Ct.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const E=m.context(),S=i(7,E.offset,E.startLoc);return S.value="",a(S,E.offset,E.startLoc),b.key=S,a(b,E.offset,E.startLoc),{nextConsumeToken:x,node:b}}}return a(b,m.currentOffset(),m.currentPosition()),{node:b}}function d(m){const y=m.context(),b=y.currentType===1?m.currentOffset():y.offset,x=y.currentType===1?y.endLoc:y.startLoc,E=i(2,b,x);E.items=[];let S=null;do{const O=S||m.nextToken();switch(S=null,O.type){case 0:O.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(O)),E.items.push(s(m,O.value||""));break;case 5:O.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(O)),E.items.push(o(m,O.value||""));break;case 4:O.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(O)),E.items.push(l(m,O.value||""));break;case 6:O.value==null&&n(m,Ct.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Qi(O)),E.items.push(u(m,O.value||""));break;case 7:{const P=h(m);E.items.push(P.node),S=P.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const _=y.currentType===1?y.lastOffset:m.currentOffset(),k=y.currentType===1?y.lastEndLoc:m.currentPosition();return a(E,_,k),E}function p(m,y,b,x){const E=m.context();let S=x.items.length===0;const _=i(1,y,b);_.cases=[],_.cases.push(x);do{const k=d(m);S||(S=k.items.length===0),_.cases.push(k)}while(E.currentType!==13);return S&&n(m,Ct.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),a(_,m.currentOffset(),m.currentPosition()),_}function v(m){const y=m.context(),{offset:b,startLoc:x}=y,E=d(m);return y.currentType===13?E:p(m,b,x,E)}function g(m){const y=J$(m,qr({},e)),b=y.context(),x=i(0,b.offset,b.startLoc);return t&&x.loc&&(x.loc.source=m),x.body=v(y),e.onCacheKey&&(x.cacheKey=e.onCacheKey(m)),b.currentType!==13&&n(y,Ct.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,m[b.offset]||""),a(x,y.currentOffset(),y.currentPosition()),x}return{parse:g}}function Qi(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function i6(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:a=>(r.helpers.add(a),a)}}function EE(e,t){for(let r=0;r<e.length;r++)Kx(e[r],t)}function Kx(e,t){switch(e.type){case 1:EE(e.cases,t),t.helper("plural");break;case 2:EE(e.items,t);break;case 6:{Kx(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function a6(e,t={}){const r=i6(e);r.helper("normalize"),e.body&&Kx(e.body,r);const n=r.context();e.helpers=Array.from(n.helpers)}function s6(e){const t=e.body;return t.type===2?SE(t):t.cases.forEach(r=>SE(r)),e}function SE(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const n=e.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;t.push(n.value)}if(t.length===e.items.length){e.static=Xx(t);for(let r=0;r<e.items.length;r++){const n=e.items[r];(n.type===3||n.type===9)&&delete n.value}}}}function al(e){switch(e.t=e.type,e.type){case 0:{const t=e;al(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let n=0;n<r.length;n++)al(r[n]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let n=0;n<r.length;n++)al(r[n]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;al(t.key),t.k=t.key,delete t.key,t.modifier&&(al(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function o6(e,t){const{filename:r,breakLineCode:n,needIndent:i}=t,a=t.location!==!1,s={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:i,indentLevel:0};a&&e.loc&&(s.source=e.loc.source);const o=()=>s;function l(v,g){s.code+=v}function u(v,g=!0){const m=g?n:"";l(i?m+"  ".repeat(v):m)}function c(v=!0){const g=++s.indentLevel;v&&u(g)}function f(v=!0){const g=--s.indentLevel;v&&u(g)}function h(){u(s.indentLevel)}return{context:o,push:l,indent:c,deindent:f,newline:h,helper:v=>`_${v}`,needIndent:()=>s.needIndent}}function l6(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),Sl(e,t.key),t.modifier?(e.push(", "),Sl(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function u6(e,t){const{helper:r,needIndent:n}=e;e.push(`${r("normalize")}([`),e.indent(n());const i=t.items.length;for(let a=0;a<i&&(Sl(e,t.items[a]),a!==i-1);a++)e.push(", ");e.deindent(n()),e.push("])")}function c6(e,t){const{helper:r,needIndent:n}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(n());const i=t.cases.length;for(let a=0;a<i&&(Sl(e,t.cases[a]),a!==i-1);a++)e.push(", ");e.deindent(n()),e.push("])")}}function f6(e,t){t.body?Sl(e,t.body):e.push("null")}function Sl(e,t){const{helper:r}=e;switch(t.type){case 0:f6(e,t);break;case 1:c6(e,t);break;case 2:u6(e,t);break;case 6:l6(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const h6=(e,t={})=>{const r=Ve(t.mode)?t.mode:"normal",n=Ve(t.filename)?t.filename:"message.intl";t.sourceMap;const i=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,a=t.needIndent?t.needIndent:r!=="arrow",s=e.helpers||[],o=o6(e,{filename:n,breakLineCode:i,needIndent:a});o.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),o.indent(a),s.length>0&&(o.push(`const { ${Xx(s.map(c=>`${c}: _${c}`),", ")} } = ctx`),o.newline()),o.push("return "),Sl(o,e),o.deindent(a),o.push("}"),delete e.helpers;const{code:l,map:u}=o.context();return{ast:e,code:l,map:u?u.toJSON():void 0}};function d6(e,t={}){const r=qr({},t),n=!!r.jit,i=!!r.minify,a=r.optimize==null?!0:r.optimize,o=n6(r).parse(e);return n?(a&&s6(o),i&&al(o),{ast:o,code:""}):(a6(o,r),h6(o,r))}/*!
  * core-base v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function p6(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(go().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(go().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function va(e){return At(e)&&Zx(e)===0&&(Di(e,"b")||Di(e,"body"))}const OL=["b","body"];function v6(e){return qs(e,OL)}const PL=["c","cases"];function g6(e){return qs(e,PL,[])}const NL=["s","static"];function m6(e){return qs(e,NL)}const CL=["i","items"];function y6(e){return qs(e,CL,[])}const RL=["t","type"];function Zx(e){return qs(e,RL)}const LL=["v","value"];function sf(e,t){const r=qs(e,LL);if(r!=null)return r;throw ec(t)}const IL=["m","modifier"];function b6(e){return qs(e,IL)}const DL=["k","key"];function w6(e){const t=qs(e,DL);if(t)return t;throw ec(6)}function qs(e,t,r){for(let n=0;n<t.length;n++){const i=t[n];if(Di(e,i)&&e[i]!=null)return e[i]}return r}const FL=[...OL,...PL,...NL,...CL,...DL,...IL,...LL,...RL];function ec(e){return new Error(`unhandled node type: ${e}`)}function Yp(e){return r=>x6(r,e)}function x6(e,t){const r=v6(t);if(r==null)throw ec(0);if(Zx(r)===1){const a=g6(r);return e.plural(a.reduce((s,o)=>[...s,kE(e,o)],[]))}else return kE(e,r)}function kE(e,t){const r=m6(t);if(r!=null)return e.type==="text"?r:e.normalize([r]);{const n=y6(t).reduce((i,a)=>[...i,iw(e,a)],[]);return e.normalize(n)}}function iw(e,t){const r=Zx(t);switch(r){case 3:return sf(t,r);case 9:return sf(t,r);case 4:{const n=t;if(Di(n,"k")&&n.k)return e.interpolate(e.named(n.k));if(Di(n,"key")&&n.key)return e.interpolate(e.named(n.key));throw ec(r)}case 5:{const n=t;if(Di(n,"i")&&Mr(n.i))return e.interpolate(e.list(n.i));if(Di(n,"index")&&Mr(n.index))return e.interpolate(e.list(n.index));throw ec(r)}case 6:{const n=t,i=b6(n),a=w6(n);return e.linked(iw(e,a),i?iw(e,i):void 0,e.type)}case 7:return sf(t,r);case 8:return sf(t,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const _6=e=>e;let of=Bt();function E6(e,t={}){let r=!1;const n=t.onError||U$;return t.onError=i=>{r=!0,n(i)},{...d6(e,t),detectError:r}}function S6(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ve(e)){Tt(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||_6)(e),i=of[n];if(i)return i;const{ast:a,detectError:s}=E6(e,{...t,location:!1,jit:!0}),o=Yp(a);return s?o:of[n]=o}else{const r=e.cacheKey;if(r){const n=of[r];return n||(of[r]=Yp(e))}else return Yp(e)}}let tc=null;function k6(e){tc=e}function T6(e,t,r){tc&&tc.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const M6=A6("function:translate");function A6(e){return t=>tc&&tc.emit(e,t)}const qa={INVALID_ARGUMENT:V$,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},O6=24;function za(e){return Bd(e,null,void 0)}function Qx(e,t){return t.locale!=null?TE(t.locale):TE(e.locale)}let Xp;function TE(e){if(Ve(e))return e;if(nr(e)){if(e.resolvedOnce&&Xp!=null)return Xp;if(e.constructor.name==="Function"){const t=e();if(z$(t))throw za(qa.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Xp=t}else throw za(qa.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw za(qa.NOT_SUPPORT_LOCALE_TYPE)}function P6(e,t,r){return[...new Set([r,...Ar(t)?t:At(t)?Object.keys(t):Ve(t)?[t]:[r]])]}function BL(e,t,r){const n=Ve(r)?r:rc,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let a=i.__localeChainCache.get(n);if(!a){a=[];let s=[r];for(;Ar(s);)s=ME(a,s,t);const o=Ar(t)||!bt(t)?t:t.default?t.default:null;s=Ve(o)?[o]:o,Ar(s)&&ME(a,s,!1),i.__localeChainCache.set(n,a)}return a}function ME(e,t,r){let n=!0;for(let i=0;i<t.length&&Tt(n);i++){const a=t[i];Ve(a)&&(n=N6(e,t[i],r))}return n}function N6(e,t,r){let n;const i=t.split("-");do{const a=i.join("-");n=C6(e,a,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function C6(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(Ar(r)||bt(r))&&r[i]&&(n=r[i])}return n}const zs=[];zs[0]={w:[0],i:[3,0],"[":[4],o:[7]};zs[1]={w:[1],".":[2],"[":[4],o:[7]};zs[2]={w:[2],i:[3,0],0:[3,0]};zs[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};zs[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};zs[5]={"'":[4,0],o:8,l:[5,0]};zs[6]={'"':[4,0],o:8,l:[6,0]};const R6=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function L6(e){return R6.test(e)}function I6(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function D6(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function F6(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:L6(t)?I6(t):"*"+t}function B6(e){const t=[];let r=-1,n=0,i=0,a,s,o,l,u,c,f;const h=[];h[0]=()=>{s===void 0?s=o:s+=o},h[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,s===void 0||(s=F6(s),s===!1))return!1;h[1]()}};function d(){const p=e[r+1];if(n===5&&p==="'"||n===6&&p==='"')return r++,o="\\"+p,h[0](),!0}for(;n!==null;)if(r++,a=e[r],!(a==="\\"&&d())){if(l=D6(a),f=zs[n],u=f[l]||f.l||8,u===8||(n=u[0],u[1]!==void 0&&(c=h[u[1]],c&&(o=a,c()===!1))))return;if(n===7)return t}}const AE=new Map;function $6(e,t){return At(e)?e[t]:null}function q6(e,t){if(!At(e))return null;let r=AE.get(t);if(r||(r=B6(t),r&&AE.set(t,r)),!r)return null;const n=r.length;let i=e,a=0;for(;a<n;){const s=r[a];if(FL.includes(s)&&va(i))return null;const o=i[s];if(o===void 0||nr(i))return null;i=o,a++}return i}const z6="11.1.3",$d=-1,rc="en-US",OE="",PE=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function j6(){return{upper:(e,t)=>t==="text"&&Ve(e)?e.toUpperCase():t==="vnode"&&At(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Ve(e)?e.toLowerCase():t==="vnode"&&At(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Ve(e)?PE(e):t==="vnode"&&At(e)&&"__v_isVNode"in e?PE(e.children):e}}let $L;function G6(e){$L=e}let qL;function W6(e){qL=e}let zL;function V6(e){zL=e}let jL=null;const U6=e=>{jL=e},H6=()=>jL;let GL=null;const NE=e=>{GL=e},Y6=()=>GL;let CE=0;function X6(e={}){const t=nr(e.onWarn)?e.onWarn:G$,r=Ve(e.version)?e.version:z6,n=Ve(e.locale)||nr(e.locale)?e.locale:rc,i=nr(n)?rc:n,a=Ar(e.fallbackLocale)||bt(e.fallbackLocale)||Ve(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,s=bt(e.messages)?e.messages:Kp(i),o=bt(e.datetimeFormats)?e.datetimeFormats:Kp(i),l=bt(e.numberFormats)?e.numberFormats:Kp(i),u=qr(Bt(),e.modifiers,j6()),c=e.pluralRules||Bt(),f=nr(e.missing)?e.missing:null,h=Tt(e.missingWarn)||El(e.missingWarn)?e.missingWarn:!0,d=Tt(e.fallbackWarn)||El(e.fallbackWarn)?e.fallbackWarn:!0,p=!!e.fallbackFormat,v=!!e.unresolving,g=nr(e.postTranslation)?e.postTranslation:null,m=bt(e.processor)?e.processor:null,y=Tt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,x=nr(e.messageCompiler)?e.messageCompiler:$L,E=nr(e.messageResolver)?e.messageResolver:qL||$6,S=nr(e.localeFallbacker)?e.localeFallbacker:zL||P6,_=At(e.fallbackContext)?e.fallbackContext:void 0,k=e,O=At(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,P=At(k.__numberFormatters)?k.__numberFormatters:new Map,N=At(k.__meta)?k.__meta:{};CE++;const R={version:r,cid:CE,locale:n,fallbackLocale:a,messages:s,modifiers:u,pluralRules:c,missing:f,missingWarn:h,fallbackWarn:d,fallbackFormat:p,unresolving:v,postTranslation:g,processor:m,warnHtmlMessage:y,escapeParameter:b,messageCompiler:x,messageResolver:E,localeFallbacker:S,fallbackContext:_,onWarn:t,__meta:N};return R.datetimeFormats=o,R.numberFormats=l,R.__datetimeFormatters=O,R.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&T6(R,r,N),R}const Kp=e=>({[e]:Bt()});function Jx(e,t,r,n,i){const{missing:a,onWarn:s}=e;if(a!==null){const o=a(e,r,t,i);return Ve(o)?o:t}else return t}function ou(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function K6(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Z6(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let n=r+1;n<t.length;n++)if(K6(e,t[n]))return!0;return!1}function RE(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:a,localeFallbacker:s}=e,{__datetimeFormatters:o}=e,[l,u,c,f]=aw(...t),h=Tt(c.missingWarn)?c.missingWarn:e.missingWarn;Tt(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const d=!!c.part,p=Qx(e,c),v=s(e,i,p);if(!Ve(l)||l==="")return new Intl.DateTimeFormat(p,f).format(u);let g={},m,y=null;const b="datetime format";for(let S=0;S<v.length&&(m=v[S],g=r[m]||{},y=g[l],!bt(y));S++)Jx(e,l,m,h,b);if(!bt(y)||!Ve(m))return n?$d:l;let x=`${m}__${l}`;Fd(f)||(x=`${x}__${JSON.stringify(f)}`);let E=o.get(x);return E||(E=new Intl.DateTimeFormat(m,qr({},y,f)),o.set(x,E)),d?E.formatToParts(u):E.format(u)}const WL=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function aw(...e){const[t,r,n,i]=e,a=Bt();let s=Bt(),o;if(Ve(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw za(qa.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(u);try{o.toISOString()}catch{throw za(qa.INVALID_ISO_DATE_ARGUMENT)}}else if(B$(t)){if(isNaN(t.getTime()))throw za(qa.INVALID_DATE_ARGUMENT);o=t}else if(Mr(t))o=t;else throw za(qa.INVALID_ARGUMENT);return Ve(r)?a.key=r:bt(r)&&Object.keys(r).forEach(l=>{WL.includes(l)?s[l]=r[l]:a[l]=r[l]}),Ve(n)?a.locale=n:bt(n)&&(s=n),bt(i)&&(s=i),[a.key||"",o,a,s]}function LE(e,t,r){const n=e;for(const i in r){const a=`${t}__${i}`;n.__datetimeFormatters.has(a)&&n.__datetimeFormatters.delete(a)}}function IE(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:a,localeFallbacker:s}=e,{__numberFormatters:o}=e,[l,u,c,f]=sw(...t),h=Tt(c.missingWarn)?c.missingWarn:e.missingWarn;Tt(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const d=!!c.part,p=Qx(e,c),v=s(e,i,p);if(!Ve(l)||l==="")return new Intl.NumberFormat(p,f).format(u);let g={},m,y=null;const b="number format";for(let S=0;S<v.length&&(m=v[S],g=r[m]||{},y=g[l],!bt(y));S++)Jx(e,l,m,h,b);if(!bt(y)||!Ve(m))return n?$d:l;let x=`${m}__${l}`;Fd(f)||(x=`${x}__${JSON.stringify(f)}`);let E=o.get(x);return E||(E=new Intl.NumberFormat(m,qr({},y,f)),o.set(x,E)),d?E.formatToParts(u):E.format(u)}const VL=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function sw(...e){const[t,r,n,i]=e,a=Bt();let s=Bt();if(!Mr(t))throw za(qa.INVALID_ARGUMENT);const o=t;return Ve(r)?a.key=r:bt(r)&&Object.keys(r).forEach(l=>{VL.includes(l)?s[l]=r[l]:a[l]=r[l]}),Ve(n)?a.locale=n:bt(n)&&(s=n),bt(i)&&(s=i),[a.key||"",o,a,s]}function DE(e,t,r){const n=e;for(const i in r){const a=`${t}__${i}`;n.__numberFormatters.has(a)&&n.__numberFormatters.delete(a)}}const Q6=e=>e,J6=e=>"",eq="text",tq=e=>e.length===0?"":Xx(e),rq=j$;function FE(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function nq(e){const t=Mr(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Mr(e.named.count)||Mr(e.named.n))?Mr(e.named.count)?e.named.count:Mr(e.named.n)?e.named.n:t:t}function iq(e,t){t.count||(t.count=e),t.n||(t.n=e)}function aq(e={}){const t=e.locale,r=nq(e),n=At(e.pluralRules)&&Ve(t)&&nr(e.pluralRules[t])?e.pluralRules[t]:FE,i=At(e.pluralRules)&&Ve(t)&&nr(e.pluralRules[t])?FE:void 0,a=m=>m[n(r,m.length,i)],s=e.list||[],o=m=>s[m],l=e.named||Bt();Mr(e.pluralIndex)&&iq(r,l);const u=m=>l[m];function c(m,y){const b=nr(e.messages)?e.messages(m,!!y):At(e.messages)?e.messages[m]:!1;return b||(e.parent?e.parent.message(m):J6)}const f=m=>e.modifiers?e.modifiers[m]:Q6,h=bt(e.processor)&&nr(e.processor.normalize)?e.processor.normalize:tq,d=bt(e.processor)&&nr(e.processor.interpolate)?e.processor.interpolate:rq,p=bt(e.processor)&&Ve(e.processor.type)?e.processor.type:eq,g={list:o,named:u,plural:a,linked:(m,...y)=>{const[b,x]=y;let E="text",S="";y.length===1?At(b)?(S=b.modifier||S,E=b.type||E):Ve(b)&&(S=b||S):y.length===2&&(Ve(b)&&(S=b||S),Ve(x)&&(E=x||E));const _=c(m,!0)(g),k=E==="vnode"&&Ar(_)&&S?_[0]:_;return S?f(S)(k,E):k},message:c,type:p,interpolate:d,normalize:h,values:qr(Bt(),s,l)};return g}const BE=()=>"",di=e=>nr(e);function $E(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:a,fallbackLocale:s,messages:o}=e,[l,u]=ow(...t),c=Tt(u.missingWarn)?u.missingWarn:e.missingWarn,f=Tt(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,h=Tt(u.escapeParameter)?u.escapeParameter:e.escapeParameter,d=!!u.resolvedMessage,p=Ve(u.default)||Tt(u.default)?Tt(u.default)?a?l:()=>l:u.default:r?a?l:()=>l:null,v=r||p!=null&&(Ve(p)||nr(p)),g=Qx(e,u);h&&sq(u);let[m,y,b]=d?[l,g,o[g]||Bt()]:UL(e,l,g,s,f,c),x=m,E=l;if(!d&&!(Ve(x)||va(x)||di(x))&&v&&(x=p,E=x),!d&&(!(Ve(x)||va(x)||di(x))||!Ve(y)))return i?$d:l;let S=!1;const _=()=>{S=!0},k=di(x)?x:HL(e,l,y,x,E,_);if(S)return x;const O=uq(e,y,b,u),P=aq(O),N=oq(e,k,P),R=n?n(N,l):N;if(__INTLIFY_PROD_DEVTOOLS__){const L={timestamp:Date.now(),key:Ve(l)?l:di(x)?x.key:"",locale:y||(di(x)?x.locale:""),format:Ve(x)?x:di(x)?x.source:"",message:R};L.meta=qr({},e.__meta,H6()||{}),M6(L)}return R}function sq(e){Ar(e.list)?e.list=e.list.map(t=>Ve(t)?xE(t):t):At(e.named)&&Object.keys(e.named).forEach(t=>{Ve(e.named[t])&&(e.named[t]=xE(e.named[t]))})}function UL(e,t,r,n,i,a){const{messages:s,onWarn:o,messageResolver:l,localeFallbacker:u}=e,c=u(e,n,r);let f=Bt(),h,d=null;const p="translate";for(let v=0;v<c.length&&(h=c[v],f=s[h]||Bt(),(d=l(f,t))===null&&(d=f[t]),!(Ve(d)||va(d)||di(d)));v++)if(!Z6(h,c)){const g=Jx(e,t,h,a,p);g!==t&&(d=g)}return[d,h,f]}function HL(e,t,r,n,i,a){const{messageCompiler:s,warnHtmlMessage:o}=e;if(di(n)){const u=n;return u.locale=u.locale||r,u.key=u.key||t,u}if(s==null){const u=()=>n;return u.locale=r,u.key=t,u}const l=s(n,lq(e,r,i,n,o,a));return l.locale=r,l.key=t,l.source=n,l}function oq(e,t,r){return t(r)}function ow(...e){const[t,r,n]=e,i=Bt();if(!Ve(t)&&!Mr(t)&&!di(t)&&!va(t))throw za(qa.INVALID_ARGUMENT);const a=Mr(t)?String(t):(di(t),t);return Mr(r)?i.plural=r:Ve(r)?i.default=r:bt(r)&&!Fd(r)?i.named=r:Ar(r)&&(i.list=r),Mr(n)?i.plural=n:Ve(n)?i.default=n:bt(n)&&qr(i,n),[a,i]}function lq(e,t,r,n,i,a){return{locale:t,key:r,warnHtmlMessage:i,onError:s=>{throw a&&a(s),s},onCacheKey:s=>D$(t,r,s)}}function uq(e,t,r,n){const{modifiers:i,pluralRules:a,messageResolver:s,fallbackLocale:o,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,h={locale:t,modifiers:i,pluralRules:a,messages:(d,p)=>{let v=s(r,d);if(v==null&&(c||p)){const[,,g]=UL(c||e,d,t,o,l,u);v=s(g,d)}if(Ve(v)||va(v)){let g=!1;const y=HL(e,d,t,v,d,()=>{g=!0});return g?BE:y}else return di(v)?v:BE}};return e.processor&&(h.processor=e.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),Mr(n.plural)&&(h.pluralIndex=n.plural),h}p6();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function e_(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Mt={},hl=[],Bi=()=>{},cq=()=>!1,qd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),t_=e=>e.startsWith("onUpdate:"),Pr=Object.assign,r_=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},fq=Object.prototype.hasOwnProperty,Ot=(e,t)=>fq.call(e,t),Ke=Array.isArray,dl=e=>Oc(e)==="[object Map]",YL=e=>Oc(e)==="[object Set]",qE=e=>Oc(e)==="[object Date]",nt=e=>typeof e=="function",dr=e=>typeof e=="string",ji=e=>typeof e=="symbol",qt=e=>e!==null&&typeof e=="object",XL=e=>(qt(e)||nt(e))&&nt(e.then)&&nt(e.catch),KL=Object.prototype.toString,Oc=e=>KL.call(e),hq=e=>Oc(e).slice(8,-1),ZL=e=>Oc(e)==="[object Object]",n_=e=>dr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Du=e_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zd=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},dq=/-(\w)/g,ni=zd(e=>e.replace(dq,(t,r)=>r?r.toUpperCase():"")),pq=/\B([A-Z])/g,Qa=zd(e=>e.replace(pq,"-$1").toLowerCase()),jd=zd(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zp=zd(e=>e?`on${jd(e)}`:""),In=(e,t)=>!Object.is(e,t),yh=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},QL=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},lw=e=>{const t=parseFloat(e);return isNaN(t)?e:t},vq=e=>{const t=dr(e)?Number(e):NaN;return isNaN(t)?e:t};let zE;const Gd=()=>zE||(zE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wd(e){if(Ke(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=dr(n)?bq(n):Wd(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(dr(e)||qt(e))return e}const gq=/;(?![^(]*\))/g,mq=/:([^]+)/,yq=/\/\*[^]*?\*\//g;function bq(e){const t={};return e.replace(yq,"").split(gq).forEach(r=>{if(r){const n=r.split(mq);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function i_(e){let t="";if(dr(e))t=e;else if(Ke(e))for(let r=0;r<e.length;r++){const n=i_(e[r]);n&&(t+=n+" ")}else if(qt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const wq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xq=e_(wq);function JL(e){return!!e||e===""}function _q(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Dh(e[n],t[n]);return r}function Dh(e,t){if(e===t)return!0;let r=qE(e),n=qE(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=ji(e),n=ji(t),r||n)return e===t;if(r=Ke(e),n=Ke(t),r||n)return r&&n?_q(e,t):!1;if(r=qt(e),n=qt(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const s in e){const o=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(o&&!l||!o&&l||!Dh(e[s],t[s]))return!1}}return String(e)===String(t)}const eI=e=>!!(e&&e.__v_isRef===!0),Eq=e=>dr(e)?e:e==null?"":Ke(e)||qt(e)&&(e.toString===KL||!nt(e.toString))?eI(e)?Eq(e.value):JSON.stringify(e,tI,2):String(e),tI=(e,t)=>eI(t)?tI(e,t.value):dl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[Qp(n,a)+" =>"]=i,r),{})}:YL(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Qp(r))}:ji(t)?Qp(t):qt(t)&&!Ke(t)&&!ZL(t)?String(t):t,Qp=(e,t="")=>{var r;return ji(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _n;class rI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_n,!t&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=_n;try{return _n=this,t()}finally{_n=r}}}on(){_n=this}off(){_n=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function a_(e){return new rI(e)}function Vd(){return _n}function s_(e,t=!1){_n&&_n.cleanups.push(e)}let Vt;const Jp=new WeakSet;class nI{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_n&&_n.active&&_n.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Jp.has(this)&&(Jp.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||aI(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jE(this),sI(this);const t=Vt,r=$i;Vt=this,$i=!0;try{return this.fn()}finally{oI(this),Vt=t,$i=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)u_(t);this.deps=this.depsTail=void 0,jE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Jp.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uw(this)&&this.run()}get dirty(){return uw(this)}}let iI=0,Fu,Bu;function aI(e,t=!1){if(e.flags|=8,t){e.next=Bu,Bu=e;return}e.next=Fu,Fu=e}function o_(){iI++}function l_(){if(--iI>0)return;if(Bu){let t=Bu;for(Bu=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Fu;){let t=Fu;for(Fu=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function sI(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function oI(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),u_(n),Sq(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function uw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lI(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function lI(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===nc))return;e.globalVersion=nc;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!uw(e)){e.flags&=-3;return}const r=Vt,n=$i;Vt=e,$i=!0;try{sI(e);const i=e.fn(e._value);(t.version===0||In(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Vt=r,$i=n,oI(e),e.flags&=-3}}function u_(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)u_(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Sq(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let $i=!0;const uI=[];function js(){uI.push($i),$i=!1}function Gs(){const e=uI.pop();$i=e===void 0?!0:e}function jE(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Vt;Vt=void 0;try{t()}finally{Vt=r}}}let nc=0;class kq{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ud{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Vt||!$i||Vt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Vt)r=this.activeLink=new kq(Vt,this),Vt.deps?(r.prevDep=Vt.depsTail,Vt.depsTail.nextDep=r,Vt.depsTail=r):Vt.deps=Vt.depsTail=r,cI(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Vt.depsTail,r.nextDep=void 0,Vt.depsTail.nextDep=r,Vt.depsTail=r,Vt.deps===r&&(Vt.deps=n)}return r}trigger(t){this.version++,nc++,this.notify(t)}notify(t){o_();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{l_()}}}function cI(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)cI(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Fh=new WeakMap,xo=Symbol(""),cw=Symbol(""),ic=Symbol("");function un(e,t,r){if($i&&Vt){let n=Fh.get(e);n||Fh.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new Ud),i.map=n,i.key=r),i.track()}}function Ia(e,t,r,n,i,a){const s=Fh.get(e);if(!s){nc++;return}const o=l=>{l&&l.trigger()};if(o_(),t==="clear")s.forEach(o);else{const l=Ke(e),u=l&&n_(r);if(l&&r==="length"){const c=Number(n);s.forEach((f,h)=>{(h==="length"||h===ic||!ji(h)&&h>=c)&&o(f)})}else switch((r!==void 0||s.has(void 0))&&o(s.get(r)),u&&o(s.get(ic)),t){case"add":l?u&&o(s.get("length")):(o(s.get(xo)),dl(e)&&o(s.get(cw)));break;case"delete":l||(o(s.get(xo)),dl(e)&&o(s.get(cw)));break;case"set":dl(e)&&o(s.get(xo));break}}l_()}function Tq(e,t){const r=Fh.get(e);return r&&r.get(t)}function Yo(e){const t=_t(e);return t===e?t:(un(t,"iterate",ic),gi(e)?t:t.map(cn))}function Hd(e){return un(e=_t(e),"iterate",ic),e}const Mq={__proto__:null,[Symbol.iterator](){return ev(this,Symbol.iterator,cn)},concat(...e){return Yo(this).concat(...e.map(t=>Ke(t)?Yo(t):t))},entries(){return ev(this,"entries",e=>(e[1]=cn(e[1]),e))},every(e,t){return Ma(this,"every",e,t,void 0,arguments)},filter(e,t){return Ma(this,"filter",e,t,r=>r.map(cn),arguments)},find(e,t){return Ma(this,"find",e,t,cn,arguments)},findIndex(e,t){return Ma(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ma(this,"findLast",e,t,cn,arguments)},findLastIndex(e,t){return Ma(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ma(this,"forEach",e,t,void 0,arguments)},includes(...e){return tv(this,"includes",e)},indexOf(...e){return tv(this,"indexOf",e)},join(e){return Yo(this).join(e)},lastIndexOf(...e){return tv(this,"lastIndexOf",e)},map(e,t){return Ma(this,"map",e,t,void 0,arguments)},pop(){return lu(this,"pop")},push(...e){return lu(this,"push",e)},reduce(e,...t){return GE(this,"reduce",e,t)},reduceRight(e,...t){return GE(this,"reduceRight",e,t)},shift(){return lu(this,"shift")},some(e,t){return Ma(this,"some",e,t,void 0,arguments)},splice(...e){return lu(this,"splice",e)},toReversed(){return Yo(this).toReversed()},toSorted(e){return Yo(this).toSorted(e)},toSpliced(...e){return Yo(this).toSpliced(...e)},unshift(...e){return lu(this,"unshift",e)},values(){return ev(this,"values",cn)}};function ev(e,t,r){const n=Hd(e),i=n[t]();return n!==e&&!gi(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=r(a.value)),a}),i}const Aq=Array.prototype;function Ma(e,t,r,n,i,a){const s=Hd(e),o=s!==e&&!gi(e),l=s[t];if(l!==Aq[t]){const f=l.apply(e,a);return o?cn(f):f}let u=r;s!==e&&(o?u=function(f,h){return r.call(this,cn(f),h,e)}:r.length>2&&(u=function(f,h){return r.call(this,f,h,e)}));const c=l.call(s,u,n);return o&&i?i(c):c}function GE(e,t,r,n){const i=Hd(e);let a=r;return i!==e&&(gi(e)?r.length>3&&(a=function(s,o,l){return r.call(this,s,o,l,e)}):a=function(s,o,l){return r.call(this,s,cn(o),l,e)}),i[t](a,...n)}function tv(e,t,r){const n=_t(e);un(n,"iterate",ic);const i=n[t](...r);return(i===-1||i===!1)&&h_(r[0])?(r[0]=_t(r[0]),n[t](...r)):i}function lu(e,t,r=[]){js(),o_();const n=_t(e)[t].apply(e,r);return l_(),Gs(),n}const Oq=e_("__proto__,__v_isRef,__isVue"),fI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ji));function Pq(e){ji(e)||(e=String(e));const t=_t(this);return un(t,"has",e),t.hasOwnProperty(e)}class hI{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?qq:gI:a?vI:pI).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=Ke(t);if(!i){let l;if(s&&(l=Mq[r]))return l;if(r==="hasOwnProperty")return Pq}const o=Reflect.get(t,r,ar(t)?t:n);return(ji(r)?fI.has(r):Oq(r))||(i||un(t,"get",r),a)?o:ar(o)?s&&n_(r)?o:o.value:qt(o)?i?Wl(o):Yd(o):o}}class dI extends hI{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=Oo(a);if(!gi(n)&&!Oo(n)&&(a=_t(a),n=_t(n)),!Ke(t)&&ar(a)&&!ar(n))return l?!1:(a.value=n,!0)}const s=Ke(t)&&n_(r)?Number(r)<t.length:Ot(t,r),o=Reflect.set(t,r,n,ar(t)?t:i);return t===_t(i)&&(s?In(n,a)&&Ia(t,"set",r,n):Ia(t,"add",r,n)),o}deleteProperty(t,r){const n=Ot(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Ia(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!ji(r)||!fI.has(r))&&un(t,"has",r),n}ownKeys(t){return un(t,"iterate",Ke(t)?"length":xo),Reflect.ownKeys(t)}}class Nq extends hI{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Cq=new dI,Rq=new Nq,Lq=new dI(!0);const fw=e=>e,lf=e=>Reflect.getPrototypeOf(e);function Iq(e,t,r){return function(...n){const i=this.__v_raw,a=_t(i),s=dl(a),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...n),c=r?fw:t?hw:cn;return!t&&un(a,"iterate",l?cw:xo),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:o?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function uf(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Dq(e,t){const r={get(i){const a=this.__v_raw,s=_t(a),o=_t(i);e||(In(i,o)&&un(s,"get",i),un(s,"get",o));const{has:l}=lf(s),u=t?fw:e?hw:cn;if(l.call(s,i))return u(a.get(i));if(l.call(s,o))return u(a.get(o));a!==s&&a.get(i)},get size(){const i=this.__v_raw;return!e&&un(_t(i),"iterate",xo),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,s=_t(a),o=_t(i);return e||(In(i,o)&&un(s,"has",i),un(s,"has",o)),i===o?a.has(i):a.has(i)||a.has(o)},forEach(i,a){const s=this,o=s.__v_raw,l=_t(o),u=t?fw:e?hw:cn;return!e&&un(l,"iterate",xo),o.forEach((c,f)=>i.call(a,u(c),u(f),s))}};return Pr(r,e?{add:uf("add"),set:uf("set"),delete:uf("delete"),clear:uf("clear")}:{add(i){!t&&!gi(i)&&!Oo(i)&&(i=_t(i));const a=_t(this);return lf(a).has.call(a,i)||(a.add(i),Ia(a,"add",i,i)),this},set(i,a){!t&&!gi(a)&&!Oo(a)&&(a=_t(a));const s=_t(this),{has:o,get:l}=lf(s);let u=o.call(s,i);u||(i=_t(i),u=o.call(s,i));const c=l.call(s,i);return s.set(i,a),u?In(a,c)&&Ia(s,"set",i,a):Ia(s,"add",i,a),this},delete(i){const a=_t(this),{has:s,get:o}=lf(a);let l=s.call(a,i);l||(i=_t(i),l=s.call(a,i)),o&&o.call(a,i);const u=a.delete(i);return l&&Ia(a,"delete",i,void 0),u},clear(){const i=_t(this),a=i.size!==0,s=i.clear();return a&&Ia(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Iq(i,e,t)}),r}function c_(e,t){const r=Dq(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ot(r,i)&&i in n?r:n,i,a)}const Fq={get:c_(!1,!1)},Bq={get:c_(!1,!0)},$q={get:c_(!0,!1)};const pI=new WeakMap,vI=new WeakMap,gI=new WeakMap,qq=new WeakMap;function zq(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jq(e){return e.__v_skip||!Object.isExtensible(e)?0:zq(hq(e))}function Yd(e){return Oo(e)?e:f_(e,!1,Cq,Fq,pI)}function Gq(e){return f_(e,!1,Lq,Bq,vI)}function Wl(e){return f_(e,!0,Rq,$q,gI)}function f_(e,t,r,n,i){if(!qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=jq(e);if(s===0)return e;const o=new Proxy(e,s===2?n:r);return i.set(e,o),o}function Wa(e){return Oo(e)?Wa(e.__v_raw):!!(e&&e.__v_isReactive)}function Oo(e){return!!(e&&e.__v_isReadonly)}function gi(e){return!!(e&&e.__v_isShallow)}function h_(e){return e?!!e.__v_raw:!1}function _t(e){const t=e&&e.__v_raw;return t?_t(t):e}function d_(e){return!Ot(e,"__v_skip")&&Object.isExtensible(e)&&QL(e,"__v_skip",!0),e}const cn=e=>qt(e)?Yd(e):e,hw=e=>qt(e)?Wl(e):e;function ar(e){return e?e.__v_isRef===!0:!1}function Gr(e){return mI(e,!1)}function Fn(e){return mI(e,!0)}function mI(e,t){return ar(e)?e:new Wq(e,t)}class Wq{constructor(t,r){this.dep=new Ud,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:_t(t),this._value=r?t:cn(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||gi(t)||Oo(t);t=n?t:_t(t),In(t,r)&&(this._rawValue=t,this._value=n?t:cn(t),this.dep.trigger())}}function Pc(e){return ar(e)?e.value:e}function On(e){return nt(e)?e():Pc(e)}const Vq={get:(e,t,r)=>t==="__v_raw"?e:Pc(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return ar(i)&&!ar(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function yI(e){return Wa(e)?e:new Proxy(e,Vq)}class Uq{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new Ud,{get:n,set:i}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function bI(e){return new Uq(e)}function Hq(e){const t=Ke(e)?new Array(e.length):{};for(const r in e)t[r]=xI(e,r);return t}class Yq{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Tq(_t(this._object),this._key)}}class Xq{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function wI(e,t,r){return ar(e)?e:nt(e)?new Xq(e):qt(e)&&arguments.length>1?xI(e,t,r):Gr(e)}function xI(e,t,r){const n=e[t];return ar(n)?n:new Yq(e,t,r)}class Kq{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Ud(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=nc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Vt!==this)return aI(this,!0),!0}get value(){const t=this.dep.track();return lI(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Zq(e,t,r=!1){let n,i;return nt(e)?n=e:(n=e.get,i=e.set),new Kq(n,i,r)}const cf={},Bh=new WeakMap;let lo;function Qq(e,t=!1,r=lo){if(r){let n=Bh.get(r);n||Bh.set(r,n=[]),n.push(e)}}function Jq(e,t,r=Mt){const{immediate:n,deep:i,once:a,scheduler:s,augmentJob:o,call:l}=r,u=x=>i?x:gi(x)||i===!1||i===0?Da(x,1):Da(x);let c,f,h,d,p=!1,v=!1;if(ar(e)?(f=()=>e.value,p=gi(e)):Wa(e)?(f=()=>u(e),p=!0):Ke(e)?(v=!0,p=e.some(x=>Wa(x)||gi(x)),f=()=>e.map(x=>{if(ar(x))return x.value;if(Wa(x))return u(x);if(nt(x))return l?l(x,2):x()})):nt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){js();try{h()}finally{Gs()}}const x=lo;lo=c;try{return l?l(e,3,[d]):e(d)}finally{lo=x}}:f=Bi,t&&i){const x=f,E=i===!0?1/0:i;f=()=>Da(x(),E)}const g=Vd(),m=()=>{c.stop(),g&&g.active&&r_(g.effects,c)};if(a&&t){const x=t;t=(...E)=>{x(...E),m()}}let y=v?new Array(e.length).fill(cf):cf;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const E=c.run();if(i||p||(v?E.some((S,_)=>In(S,y[_])):In(E,y))){h&&h();const S=lo;lo=c;try{const _=[E,y===cf?void 0:v&&y[0]===cf?[]:y,d];l?l(t,3,_):t(..._),y=E}finally{lo=S}}}else c.run()};return o&&o(b),c=new nI(f),c.scheduler=s?()=>s(b,!1):b,d=x=>Qq(x,!1,c),h=c.onStop=()=>{const x=Bh.get(c);if(x){if(l)l(x,4);else for(const E of x)E();Bh.delete(c)}},t?n?b(!0):y=c.run():s?s(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Da(e,t=1/0,r){if(t<=0||!qt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,ar(e))Da(e.value,t,r);else if(Ke(e))for(let n=0;n<e.length;n++)Da(e[n],t,r);else if(YL(e)||dl(e))e.forEach(n=>{Da(n,t,r)});else if(ZL(e)){for(const n in e)Da(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Da(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nc(e,t,r,n){try{return n?e(...n):e()}catch(i){Cc(i,t,r)}}function Gi(e,t,r,n){if(nt(e)){const i=Nc(e,t,r,n);return i&&XL(i)&&i.catch(a=>{Cc(a,t,r)}),i}if(Ke(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Gi(e[a],t,r,n));return i}}function Cc(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Mt;if(t){let o=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}o=o.parent}if(a){js(),Nc(a,null,10,[e,l,u]),Gs();return}}ez(e,r,i,n,s)}function ez(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const kn=[];let la=-1;const pl=[];let hs=null,sl=0;const _I=Promise.resolve();let $h=null;function As(e){const t=$h||_I;return e?t.then(this?e.bind(this):e):t}function tz(e){let t=la+1,r=kn.length;for(;t<r;){const n=t+r>>>1,i=kn[n],a=ac(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function p_(e){if(!(e.flags&1)){const t=ac(e),r=kn[kn.length-1];!r||!(e.flags&2)&&t>=ac(r)?kn.push(e):kn.splice(tz(t),0,e),e.flags|=1,EI()}}function EI(){$h||($h=_I.then(kI))}function rz(e){Ke(e)?pl.push(...e):hs&&e.id===-1?hs.splice(sl+1,0,e):e.flags&1||(pl.push(e),e.flags|=1),EI()}function WE(e,t,r=la+1){for(;r<kn.length;r++){const n=kn[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;kn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function SI(e){if(pl.length){const t=[...new Set(pl)].sort((r,n)=>ac(r)-ac(n));if(pl.length=0,hs){hs.push(...t);return}for(hs=t,sl=0;sl<hs.length;sl++){const r=hs[sl];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}hs=null,sl=0}}const ac=e=>e.id==null?e.flags&2?-1:1/0:e.id;function kI(e){try{for(la=0;la<kn.length;la++){const t=kn[la];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Nc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;la<kn.length;la++){const t=kn[la];t&&(t.flags&=-2)}la=-1,kn.length=0,SI(),$h=null,(kn.length||pl.length)&&kI()}}let Br=null,TI=null;function qh(e){const t=Br;return Br=e,TI=e&&e.type.__scopeId||null,t}function nz(e,t=Br,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&iS(-1);const a=qh(t);let s;try{s=e(...i)}finally{qh(a),n._d&&iS(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Rpe(e,t){if(Br===null)return e;const r=ep(Br),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,o,l=Mt]=t[i];a&&(nt(a)&&(a={mounted:a,updated:a}),a.deep&&Da(s),n.push({dir:a,instance:r,value:s,oldValue:void 0,arg:o,modifiers:l}))}return e}function Qs(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[n];l&&(js(),Gi(l,r,8,[e.el,o,e,t]),Gs())}}const MI=Symbol("_vte"),AI=e=>e.__isTeleport,$u=e=>e&&(e.disabled||e.disabled===""),VE=e=>e&&(e.defer||e.defer===""),UE=e=>typeof SVGElement<"u"&&e instanceof SVGElement,HE=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,dw=(e,t)=>{const r=e&&e.to;return dr(r)?t?t(r):null:r},OI={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,a,s,o,l,u){const{mc:c,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:v,createComment:g}}=u,m=$u(t.props);let{shapeFlag:y,children:b,dynamicChildren:x}=t;if(e==null){const E=t.el=v(""),S=t.anchor=v("");d(E,r,n),d(S,r,n);const _=(O,P)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=O),c(b,O,P,i,a,s,o,l))},k=()=>{const O=t.target=dw(t.props,p),P=PI(O,t,v,d);O&&(s!=="svg"&&UE(O)?s="svg":s!=="mathml"&&HE(O)&&(s="mathml"),m||(_(O,P),bh(t,!1)))};m&&(_(r,S),bh(t,!0)),VE(t.props)?xn(()=>{k(),t.el.__isMounted=!0},a):k()}else{if(VE(t.props)&&!e.el.__isMounted){xn(()=>{OI.process(e,t,r,n,i,a,s,o,l,u),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const E=t.anchor=e.anchor,S=t.target=e.target,_=t.targetAnchor=e.targetAnchor,k=$u(e.props),O=k?r:S,P=k?E:_;if(s==="svg"||UE(S)?s="svg":(s==="mathml"||HE(S))&&(s="mathml"),x?(h(e.dynamicChildren,x,O,i,a,s,o),w_(e,t,!0)):l||f(e,t,O,P,i,a,s,o,!1),m)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ff(t,r,E,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const N=t.target=dw(t.props,p);N&&ff(t,N,null,u,0)}else k&&ff(t,S,_,u,1);bh(t,m)}},remove(e,t,r,{um:n,o:{remove:i}},a){const{shapeFlag:s,children:o,anchor:l,targetStart:u,targetAnchor:c,target:f,props:h}=e;if(f&&(i(u),i(c)),a&&i(l),s&16){const d=a||!$u(h);for(let p=0;p<o.length;p++){const v=o[p];n(v,t,r,d,!!v.dynamicChildren)}}},move:ff,hydrate:iz};function ff(e,t,r,{o:{insert:n},m:i},a=2){a===0&&n(e.targetAnchor,t,r);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=e,f=a===2;if(f&&n(s,t,r),(!f||$u(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],t,r,2);f&&n(o,t,r)}function iz(e,t,r,n,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:u,createText:c}},f){const h=t.target=dw(t.props,l);if(h){const d=$u(t.props),p=h._lpa||h.firstChild;if(t.shapeFlag&16)if(d)t.anchor=f(s(e),t,o(e),r,n,i,a),t.targetStart=p,t.targetAnchor=p&&s(p);else{t.anchor=s(e);let v=p;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,h._lpa=t.targetAnchor&&s(t.targetAnchor);break}}v=s(v)}t.targetAnchor||PI(h,t,c,u),f(p&&s(p),t,h,r,n,i,a)}bh(t,d)}return t.anchor&&s(t.anchor)}const Lpe=OI;function bh(e,t){const r=e.ctx;if(r&&r.ut){let n,i;for(t?(n=e.el,i=e.anchor):(n=e.targetStart,i=e.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function PI(e,t,r,n){const i=t.targetStart=r(""),a=t.targetAnchor=r("");return i[MI]=a,e&&(n(i,e),n(a,e)),a}const ds=Symbol("_leaveCb"),hf=Symbol("_enterCb");function NI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ws(()=>{e.isMounted=!0}),Zd(()=>{e.isUnmounting=!0}),e}const si=[Function,Array],CI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:si,onEnter:si,onAfterEnter:si,onEnterCancelled:si,onBeforeLeave:si,onLeave:si,onAfterLeave:si,onLeaveCancelled:si,onBeforeAppear:si,onAppear:si,onAfterAppear:si,onAppearCancelled:si},RI=e=>{const t=e.subTree;return t.component?RI(t.component):t},az={name:"BaseTransition",props:CI,setup(e,{slots:t}){const r=jn(),n=NI();return()=>{const i=t.default&&v_(t.default(),!0);if(!i||!i.length)return;const a=LI(i),s=_t(e),{mode:o}=s;if(n.isLeaving)return rv(a);const l=YE(a);if(!l)return rv(a);let u=sc(l,s,n,r,f=>u=f);l.type!==Tn&&Po(l,u);let c=r.subTree&&YE(r.subTree);if(c&&c.type!==Tn&&!uo(l,c)&&RI(r).type!==Tn){let f=sc(c,s,n,r);if(Po(c,f),o==="out-in"&&l.type!==Tn)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},rv(a);o==="in-out"&&l.type!==Tn?f.delayLeave=(h,d,p)=>{const v=II(n,c);v[String(c.key)]=c,h[ds]=()=>{d(),h[ds]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function LI(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Tn){t=r;break}}return t}const sz=az;function II(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function sc(e,t,r,n,i){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=t,x=String(e.key),E=II(r,e),S=(O,P)=>{O&&Gi(O,n,9,P)},_=(O,P)=>{const N=P[1];S(O,P),Ke(O)?O.every(R=>R.length<=1)&&N():O.length<=1&&N()},k={mode:s,persisted:o,beforeEnter(O){let P=l;if(!r.isMounted)if(a)P=g||l;else return;O[ds]&&O[ds](!0);const N=E[x];N&&uo(e,N)&&N.el[ds]&&N.el[ds](),S(P,[O])},enter(O){let P=u,N=c,R=f;if(!r.isMounted)if(a)P=m||u,N=y||c,R=b||f;else return;let L=!1;const D=O[hf]=$=>{L||(L=!0,$?S(R,[O]):S(N,[O]),k.delayedLeave&&k.delayedLeave(),O[hf]=void 0)};P?_(P,[O,D]):D()},leave(O,P){const N=String(e.key);if(O[hf]&&O[hf](!0),r.isUnmounting)return P();S(h,[O]);let R=!1;const L=O[ds]=D=>{R||(R=!0,P(),D?S(v,[O]):S(p,[O]),O[ds]=void 0,E[N]===e&&delete E[N])};E[N]=e,d?_(d,[O,L]):L()},clone(O){const P=sc(O,t,r,n,i);return i&&i(P),P}};return k}function rv(e){if(Rc(e))return e=Ns(e),e.children=null,e}function YE(e){if(!Rc(e))return AI(e.type)&&e.children?LI(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&nt(r.default))return r.default()}}function Po(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Po(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function v_(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===fn?(s.patchFlag&128&&i++,n=n.concat(v_(s.children,t,o))):(t||s.type!==Tn)&&n.push(o!=null?Ns(s,{key:o}):s)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Xd(e,t){return nt(e)?Pr({name:e.name},t,{setup:e}):e}function g_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function zh(e,t,r,n,i=!1){if(Ke(e)){e.forEach((p,v)=>zh(p,t&&(Ke(t)?t[v]:t),r,n,i));return}if(vl(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&zh(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?ep(n.component):n.el,s=i?null:a,{i:o,r:l}=e,u=t&&t.r,c=o.refs===Mt?o.refs={}:o.refs,f=o.setupState,h=_t(f),d=f===Mt?()=>!1:p=>Ot(h,p);if(u!=null&&u!==l&&(dr(u)?(c[u]=null,d(u)&&(f[u]=null)):ar(u)&&(u.value=null)),nt(l))Nc(l,o,12,[s,c]);else{const p=dr(l),v=ar(l);if(p||v){const g=()=>{if(e.f){const m=p?d(l)?f[l]:c[l]:l.value;i?Ke(m)&&r_(m,a):Ke(m)?m.includes(a)||m.push(a):p?(c[l]=[a],d(l)&&(f[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else p?(c[l]=s,d(l)&&(f[l]=s)):v&&(l.value=s,e.k&&(c[e.k]=s))};s?(g.id=-1,xn(g,r)):g()}}}const XE=e=>e.nodeType===8;Gd().requestIdleCallback;Gd().cancelIdleCallback;function oz(e,t){if(XE(e)&&e.data==="["){let r=1,n=e.nextSibling;for(;n;){if(n.nodeType===1){if(t(n)===!1)break}else if(XE(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else t(e)}const vl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Ipe(e){nt(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,hydrate:a,timeout:s,suspensible:o=!0,onError:l}=e;let u=null,c,f=0;const h=()=>(f++,u=null,d()),d=()=>{let p;return u||(p=u=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),l)return new Promise((g,m)=>{l(v,()=>g(h()),()=>m(v),f+1)});throw v}).then(v=>p!==u&&u?u:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),c=v,v)))};return Xd({name:"AsyncComponentWrapper",__asyncLoader:d,__asyncHydrate(p,v,g){const m=a?()=>{const y=a(g,b=>oz(p,b));y&&(v.bum||(v.bum=[])).push(y)}:g;c?m():d().then(()=>!v.isUnmounted&&m())},get __asyncResolved(){return c},setup(){const p=Fr;if(g_(p),c)return()=>nv(c,p);const v=b=>{u=null,Cc(b,p,13,!n)};if(o&&p.suspense||kl)return d().then(b=>()=>nv(b,p)).catch(b=>(v(b),()=>n?Or(n,{error:b}):null));const g=Gr(!1),m=Gr(),y=Gr(!!i);return i&&setTimeout(()=>{y.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!m.value){const b=new Error(`Async component timed out after ${s}ms.`);v(b),m.value=b}},s),d().then(()=>{g.value=!0,p.parent&&Rc(p.parent.vnode)&&p.parent.update()}).catch(b=>{v(b),m.value=b}),()=>{if(g.value&&c)return nv(c,p);if(m.value&&n)return Or(n,{error:m.value});if(r&&!y.value)return Or(r)}}})}function nv(e,t){const{ref:r,props:n,children:i,ce:a}=t.vnode,s=Or(e,n,i);return s.ref=r,s.ce=a,delete t.vnode.ce,s}const Rc=e=>e.type.__isKeepAlive;function lz(e,t){DI(e,"a",t)}function uz(e,t){DI(e,"da",t)}function DI(e,t,r=Fr){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Kd(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Rc(i.parent.vnode)&&cz(n,t,r,i),i=i.parent}}function cz(e,t,r,n){const i=Kd(t,e,n,!0);m_(()=>{r_(n[t],i)},r)}function Kd(e,t,r=Fr,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...s)=>{js();const o=Ic(r),l=Gi(t,r,e,s);return o(),Gs(),l});return n?i.unshift(a):i.push(a),a}}const Ja=e=>(t,r=Fr)=>{(!kl||e==="sp")&&Kd(e,(...n)=>t(...n),r)},fz=Ja("bm"),Ws=Ja("m"),hz=Ja("bu"),FI=Ja("u"),Zd=Ja("bum"),m_=Ja("um"),dz=Ja("sp"),pz=Ja("rtg"),vz=Ja("rtc");function gz(e,t=Fr){Kd("ec",e,t)}const mz="components",BI=Symbol.for("v-ndc");function yz(e){return dr(e)?bz(mz,e,!1)||e:e||BI}function bz(e,t,r=!0,n=!1){const i=Br||Fr;if(i){const a=i.type;{const o=lj(a,!1);if(o&&(o===t||o===ni(t)||o===jd(ni(t))))return a}const s=KE(i[e]||a[e],t)||KE(i.appContext[e],t);return!s&&n?a:s}}function KE(e,t){return e&&(e[t]||e[ni(t)]||e[jd(ni(t))])}function Dpe(e,t,r,n){let i;const a=r,s=Ke(e);if(s||dr(e)){const o=s&&Wa(e);let l=!1;o&&(l=!gi(e),e=Hd(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?cn(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,a)}else if(qt(e))if(e[Symbol.iterator])i=Array.from(e,(o,l)=>t(o,l,void 0,a));else{const o=Object.keys(e);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];i[l]=t(e[c],c,l,a)}}else i=[];return i}function Fpe(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Ke(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const a=n.fn(...i);return a&&(a.key=n.key),a}:n.fn)}return e}function wz(e,t,r={},n,i){if(Br.ce||Br.parent&&vl(Br.parent)&&Br.parent.ce)return t!=="default"&&(r.name=t),oc(),Wh(fn,null,[Or("slot",r,n&&n())],64);let a=e[t];a&&a._c&&(a._d=!1),oc();const s=a&&$I(a(r)),o=r.key||s&&s.key,l=Wh(fn,{key:(o&&!ji(o)?o:`_${t}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function $I(e){return e.some(t=>uc(t)?!(t.type===Tn||t.type===fn&&!$I(t.children)):!0)?e:null}const pw=e=>e?l3(e)?ep(e):pw(e.parent):null,qu=Pr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pw(e.parent),$root:e=>pw(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>jI(e),$forceUpdate:e=>e.f||(e.f=()=>{p_(e.update)}),$nextTick:e=>e.n||(e.n=As.bind(e.proxy)),$watch:e=>Gz.bind(e)}),iv=(e,t)=>e!==Mt&&!e.__isScriptSetup&&Ot(e,t),xz={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:s,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(iv(n,t))return s[t]=1,n[t];if(i!==Mt&&Ot(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&Ot(u,t))return s[t]=3,a[t];if(r!==Mt&&Ot(r,t))return s[t]=4,r[t];vw&&(s[t]=0)}}const c=qu[t];let f,h;if(c)return t==="$attrs"&&un(e.attrs,"get",""),c(e);if((f=o.__cssModules)&&(f=f[t]))return f;if(r!==Mt&&Ot(r,t))return s[t]=4,r[t];if(h=l.config.globalProperties,Ot(h,t))return h[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return iv(i,t)?(i[t]=r,!0):n!==Mt&&Ot(n,t)?(n[t]=r,!0):Ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},s){let o;return!!r[s]||e!==Mt&&Ot(e,s)||iv(t,s)||(o=a[0])&&Ot(o,s)||Ot(n,s)||Ot(qu,s)||Ot(i.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ot(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function _z(){return qI().slots}function Bpe(){return qI().attrs}function qI(){const e=jn();return e.setupContext||(e.setupContext=c3(e))}function jh(e){return Ke(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function $pe(e,t){return!e||!t?e||t:Ke(e)&&Ke(t)?e.concat(t):Pr({},jh(e),jh(t))}let vw=!0;function Ez(e){const t=jI(e),r=e.proxy,n=e.ctx;vw=!1,t.beforeCreate&&ZE(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:x,render:E,renderTracked:S,renderTriggered:_,errorCaptured:k,serverPrefetch:O,expose:P,inheritAttrs:N,components:R,directives:L,filters:D}=t;if(u&&Sz(u,n,null),s)for(const K in s){const V=s[K];nt(V)&&(n[K]=V.bind(r))}if(i){const K=i.call(r,r);qt(K)&&(e.data=Yd(K))}if(vw=!0,a)for(const K in a){const V=a[K],ne=nt(V)?V.bind(r,r):nt(V.get)?V.get.bind(r,r):Bi,we=!nt(V)&&nt(V.set)?V.set.bind(r):Bi,Se=kt({get:ne,set:we});Object.defineProperty(n,K,{enumerable:!0,configurable:!0,get:()=>Se.value,set:pe=>Se.value=pe})}if(o)for(const K in o)zI(o[K],n,r,K);if(l){const K=nt(l)?l.call(r):l;Reflect.ownKeys(K).forEach(V=>{us(V,K[V])})}c&&ZE(c,e,"c");function X(K,V){Ke(V)?V.forEach(ne=>K(ne.bind(r))):V&&K(V.bind(r))}if(X(fz,f),X(Ws,h),X(hz,d),X(FI,p),X(lz,v),X(uz,g),X(gz,k),X(vz,S),X(pz,_),X(Zd,y),X(m_,x),X(dz,O),Ke(P))if(P.length){const K=e.exposed||(e.exposed={});P.forEach(V=>{Object.defineProperty(K,V,{get:()=>r[V],set:ne=>r[V]=ne})})}else e.exposed||(e.exposed={});E&&e.render===Bi&&(e.render=E),N!=null&&(e.inheritAttrs=N),R&&(e.components=R),L&&(e.directives=L),O&&g_(e)}function Sz(e,t,r=Bi){Ke(e)&&(e=gw(e));for(const n in e){const i=e[n];let a;qt(i)?"default"in i?a=Qn(i.from||n,i.default,!0):a=Qn(i.from||n):a=Qn(i),ar(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[n]=a}}function ZE(e,t,r){Gi(Ke(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function zI(e,t,r,n){let i=n.includes(".")?t3(r,n):()=>r[n];if(dr(e)){const a=t[e];nt(a)&&xr(i,a)}else if(nt(e))xr(i,e.bind(r));else if(qt(e))if(Ke(e))e.forEach(a=>zI(a,t,r,n));else{const a=nt(e.handler)?e.handler.bind(r):t[e.handler];nt(a)&&xr(i,a,e)}}function jI(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>Gh(l,u,s,!0)),Gh(l,t,s)),qt(t)&&a.set(t,l),l}function Gh(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&Gh(e,a,r,!0),i&&i.forEach(s=>Gh(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const o=kz[s]||r&&r[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const kz={data:QE,props:JE,emits:JE,methods:Eu,computed:Eu,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,beforeUnmount:bn,destroyed:bn,unmounted:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:Eu,directives:Eu,watch:Mz,provide:QE,inject:Tz};function QE(e,t){return t?e?function(){return Pr(nt(e)?e.call(this,this):e,nt(t)?t.call(this,this):t)}:t:e}function Tz(e,t){return Eu(gw(e),gw(t))}function gw(e){if(Ke(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function bn(e,t){return e?[...new Set([].concat(e,t))]:t}function Eu(e,t){return e?Pr(Object.create(null),e,t):t}function JE(e,t){return e?Ke(e)&&Ke(t)?[...new Set([...e,...t])]:Pr(Object.create(null),jh(e),jh(t??{})):t}function Mz(e,t){if(!e)return t;if(!t)return e;const r=Pr(Object.create(null),e);for(const n in t)r[n]=bn(e[n],t[n]);return r}function GI(){return{app:null,config:{isNativeTag:cq,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Az=0;function Oz(e,t){return function(n,i=null){nt(n)||(n=Pr({},n)),i!=null&&!qt(i)&&(i=null);const a=GI(),s=new WeakSet,o=[];let l=!1;const u=a.app={_uid:Az++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:cj,get config(){return a.config},set config(c){},use(c,...f){return s.has(c)||(c&&nt(c.install)?(s.add(c),c.install(u,...f)):nt(c)&&(s.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||Or(n,i);return d.appContext=a,h===!0?h="svg":h===!1&&(h=void 0),e(d,c,h),l=!0,u._container=c,c.__vue_app__=u,ep(d.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Gi(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u},runWithContext(c){const f=_o;_o=u;try{return c()}finally{_o=f}}};return u}}let _o=null;function us(e,t){if(Fr){let r=Fr.provides;const n=Fr.parent&&Fr.parent.provides;n===r&&(r=Fr.provides=Object.create(n)),r[e]=t}}function Qn(e,t,r=!1){const n=Fr||Br;if(n||_o){const i=_o?_o._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&nt(t)?t.call(n&&n.proxy):t}}function y_(){return!!(Fr||Br||_o)}const WI={},VI=()=>Object.create(WI),UI=e=>Object.getPrototypeOf(e)===WI;function Pz(e,t,r,n=!1){const i={},a=VI();e.propsDefaults=Object.create(null),HI(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:Gq(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Nz(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=_t(i),[l]=e.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Jd(e.emitsOptions,h))continue;const d=t[h];if(l)if(Ot(a,h))d!==a[h]&&(a[h]=d,u=!0);else{const p=ni(h);i[p]=mw(l,o,p,d,e,!1)}else d!==a[h]&&(a[h]=d,u=!0)}}}else{HI(e,t,i,a)&&(u=!0);let c;for(const f in o)(!t||!Ot(t,f)&&((c=Qa(f))===f||!Ot(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(i[f]=mw(l,o,f,void 0,e,!0)):delete i[f]);if(a!==o)for(const f in a)(!t||!Ot(t,f))&&(delete a[f],u=!0)}u&&Ia(e.attrs,"set","")}function HI(e,t,r,n){const[i,a]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(Du(l))continue;const u=t[l];let c;i&&Ot(i,c=ni(l))?!a||!a.includes(c)?r[c]=u:(o||(o={}))[c]=u:Jd(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(a){const l=_t(r),u=o||Mt;for(let c=0;c<a.length;c++){const f=a[c];r[f]=mw(i,l,f,u[f],e,!Ot(u,f))}}return s}function mw(e,t,r,n,i,a){const s=e[r];if(s!=null){const o=Ot(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&nt(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=Ic(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}s[0]&&(a&&!o?n=!1:s[1]&&(n===""||n===Qa(r))&&(n=!0))}return n}const Cz=new WeakMap;function YI(e,t,r=!1){const n=r?Cz:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,s={},o=[];let l=!1;if(!nt(e)){const c=f=>{l=!0;const[h,d]=YI(f,t,!0);Pr(s,h),d&&o.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return qt(e)&&n.set(e,hl),hl;if(Ke(a))for(let c=0;c<a.length;c++){const f=ni(a[c]);eS(f)&&(s[f]=Mt)}else if(a)for(const c in a){const f=ni(c);if(eS(f)){const h=a[c],d=s[f]=Ke(h)||nt(h)?{type:h}:Pr({},h),p=d.type;let v=!1,g=!0;if(Ke(p))for(let m=0;m<p.length;++m){const y=p[m],b=nt(y)&&y.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(g=!1)}else v=nt(p)&&p.name==="Boolean";d[0]=v,d[1]=g,(v||Ot(d,"default"))&&o.push(f)}}const u=[s,o];return qt(e)&&n.set(e,u),u}function eS(e){return e[0]!=="$"&&!Du(e)}const XI=e=>e[0]==="_"||e==="$stable",b_=e=>Ke(e)?e.map(ua):[ua(e)],Rz=(e,t,r)=>{if(t._n)return t;const n=nz((...i)=>b_(t(...i)),r);return n._c=!1,n},KI=(e,t,r)=>{const n=e._ctx;for(const i in e){if(XI(i))continue;const a=e[i];if(nt(a))t[i]=Rz(i,a,n);else if(a!=null){const s=b_(a);t[i]=()=>s}}},ZI=(e,t)=>{const r=b_(t);e.slots.default=()=>r},QI=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},Lz=(e,t,r)=>{const n=e.slots=VI();if(e.vnode.shapeFlag&32){const i=t._;i?(QI(n,t,r),r&&QL(n,"_",i,!0)):KI(t,n)}else t&&ZI(e,t)},Iz=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,s=Mt;if(n.shapeFlag&32){const o=t._;o?r&&o===1?a=!1:QI(i,t,r):(a=!t.$stable,KI(t,i)),s=t}else t&&(ZI(e,t),s={default:1});if(a)for(const o in i)!XI(o)&&s[o]==null&&delete i[o]},xn=Xz;function Dz(e){return Fz(e)}function Fz(e,t){const r=Gd();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=Bi,insertStaticContent:p}=e,v=(W,H,oe,ce=null,xe=null,de=null,G=void 0,j=null,re=!!H.dynamicChildren)=>{if(W===H)return;W&&!uo(W,H)&&(ce=Z(W),pe(W,xe,de,!0),W=null),H.patchFlag===-2&&(re=!1,H.dynamicChildren=null);const{type:ue,ref:Pe,shapeFlag:me}=H;switch(ue){case Lc:g(W,H,oe,ce);break;case Tn:m(W,H,oe,ce);break;case sv:W==null&&y(H,oe,ce,G);break;case fn:R(W,H,oe,ce,xe,de,G,j,re);break;default:me&1?E(W,H,oe,ce,xe,de,G,j,re):me&6?L(W,H,oe,ce,xe,de,G,j,re):(me&64||me&128)&&ue.process(W,H,oe,ce,xe,de,G,j,re,ge)}Pe!=null&&xe&&zh(Pe,W&&W.ref,de,H||W,!H)},g=(W,H,oe,ce)=>{if(W==null)n(H.el=o(H.children),oe,ce);else{const xe=H.el=W.el;H.children!==W.children&&u(xe,H.children)}},m=(W,H,oe,ce)=>{W==null?n(H.el=l(H.children||""),oe,ce):H.el=W.el},y=(W,H,oe,ce)=>{[W.el,W.anchor]=p(W.children,H,oe,ce,W.el,W.anchor)},b=({el:W,anchor:H},oe,ce)=>{let xe;for(;W&&W!==H;)xe=h(W),n(W,oe,ce),W=xe;n(H,oe,ce)},x=({el:W,anchor:H})=>{let oe;for(;W&&W!==H;)oe=h(W),i(W),W=oe;i(H)},E=(W,H,oe,ce,xe,de,G,j,re)=>{H.type==="svg"?G="svg":H.type==="math"&&(G="mathml"),W==null?S(H,oe,ce,xe,de,G,j,re):O(W,H,xe,de,G,j,re)},S=(W,H,oe,ce,xe,de,G,j)=>{let re,ue;const{props:Pe,shapeFlag:me,transition:te,dirs:fe}=W;if(re=W.el=s(W.type,de,Pe&&Pe.is,Pe),me&8?c(re,W.children):me&16&&k(W.children,re,null,ce,xe,av(W,de),G,j),fe&&Qs(W,null,ce,"created"),_(re,W,W.scopeId,G,ce),Pe){for(const He in Pe)He!=="value"&&!Du(He)&&a(re,He,null,Pe[He],de,ce);"value"in Pe&&a(re,"value",null,Pe.value,de),(ue=Pe.onVnodeBeforeMount)&&Ji(ue,ce,W)}fe&&Qs(W,null,ce,"beforeMount");const Fe=Bz(xe,te);Fe&&te.beforeEnter(re),n(re,H,oe),((ue=Pe&&Pe.onVnodeMounted)||Fe||fe)&&xn(()=>{ue&&Ji(ue,ce,W),Fe&&te.enter(re),fe&&Qs(W,null,ce,"mounted")},xe)},_=(W,H,oe,ce,xe)=>{if(oe&&d(W,oe),ce)for(let de=0;de<ce.length;de++)d(W,ce[de]);if(xe){let de=xe.subTree;if(H===de||i3(de.type)&&(de.ssContent===H||de.ssFallback===H)){const G=xe.vnode;_(W,G,G.scopeId,G.slotScopeIds,xe.parent)}}},k=(W,H,oe,ce,xe,de,G,j,re=0)=>{for(let ue=re;ue<W.length;ue++){const Pe=W[ue]=j?ps(W[ue]):ua(W[ue]);v(null,Pe,H,oe,ce,xe,de,G,j)}},O=(W,H,oe,ce,xe,de,G)=>{const j=H.el=W.el;let{patchFlag:re,dynamicChildren:ue,dirs:Pe}=H;re|=W.patchFlag&16;const me=W.props||Mt,te=H.props||Mt;let fe;if(oe&&Js(oe,!1),(fe=te.onVnodeBeforeUpdate)&&Ji(fe,oe,H,W),Pe&&Qs(H,W,oe,"beforeUpdate"),oe&&Js(oe,!0),(me.innerHTML&&te.innerHTML==null||me.textContent&&te.textContent==null)&&c(j,""),ue?P(W.dynamicChildren,ue,j,oe,ce,av(H,xe),de):G||V(W,H,j,null,oe,ce,av(H,xe),de,!1),re>0){if(re&16)N(j,me,te,oe,xe);else if(re&2&&me.class!==te.class&&a(j,"class",null,te.class,xe),re&4&&a(j,"style",me.style,te.style,xe),re&8){const Fe=H.dynamicProps;for(let He=0;He<Fe.length;He++){const Je=Fe[He],Kt=me[Je],Dt=te[Je];(Dt!==Kt||Je==="value")&&a(j,Je,Kt,Dt,xe,oe)}}re&1&&W.children!==H.children&&c(j,H.children)}else!G&&ue==null&&N(j,me,te,oe,xe);((fe=te.onVnodeUpdated)||Pe)&&xn(()=>{fe&&Ji(fe,oe,H,W),Pe&&Qs(H,W,oe,"updated")},ce)},P=(W,H,oe,ce,xe,de,G)=>{for(let j=0;j<H.length;j++){const re=W[j],ue=H[j],Pe=re.el&&(re.type===fn||!uo(re,ue)||re.shapeFlag&70)?f(re.el):oe;v(re,ue,Pe,null,ce,xe,de,G,!0)}},N=(W,H,oe,ce,xe)=>{if(H!==oe){if(H!==Mt)for(const de in H)!Du(de)&&!(de in oe)&&a(W,de,H[de],null,xe,ce);for(const de in oe){if(Du(de))continue;const G=oe[de],j=H[de];G!==j&&de!=="value"&&a(W,de,j,G,xe,ce)}"value"in oe&&a(W,"value",H.value,oe.value,xe)}},R=(W,H,oe,ce,xe,de,G,j,re)=>{const ue=H.el=W?W.el:o(""),Pe=H.anchor=W?W.anchor:o("");let{patchFlag:me,dynamicChildren:te,slotScopeIds:fe}=H;fe&&(j=j?j.concat(fe):fe),W==null?(n(ue,oe,ce),n(Pe,oe,ce),k(H.children||[],oe,Pe,xe,de,G,j,re)):me>0&&me&64&&te&&W.dynamicChildren?(P(W.dynamicChildren,te,oe,xe,de,G,j),(H.key!=null||xe&&H===xe.subTree)&&w_(W,H,!0)):V(W,H,oe,Pe,xe,de,G,j,re)},L=(W,H,oe,ce,xe,de,G,j,re)=>{H.slotScopeIds=j,W==null?H.shapeFlag&512?xe.ctx.activate(H,oe,ce,G,re):D(H,oe,ce,xe,de,G,re):$(W,H,re)},D=(W,H,oe,ce,xe,de,G)=>{const j=W.component=ij(W,ce,xe);if(Rc(W)&&(j.ctx.renderer=ge),aj(j,!1,G),j.asyncDep){if(xe&&xe.registerDep(j,X,G),!W.el){const re=j.subTree=Or(Tn);m(null,re,H,oe)}}else X(j,W,H,oe,xe,de,G)},$=(W,H,oe)=>{const ce=H.component=W.component;if(Hz(W,H,oe))if(ce.asyncDep&&!ce.asyncResolved){K(ce,H,oe);return}else ce.next=H,ce.update();else H.el=W.el,ce.vnode=H},X=(W,H,oe,ce,xe,de,G)=>{const j=()=>{if(W.isMounted){let{next:me,bu:te,u:fe,parent:Fe,vnode:He}=W;{const sn=JI(W);if(sn){me&&(me.el=He.el,K(W,me,G)),sn.asyncDep.then(()=>{W.isUnmounted||j()});return}}let Je=me,Kt;Js(W,!1),me?(me.el=He.el,K(W,me,G)):me=He,te&&yh(te),(Kt=me.props&&me.props.onVnodeBeforeUpdate)&&Ji(Kt,Fe,me,He),Js(W,!0);const Dt=rS(W),an=W.subTree;W.subTree=Dt,v(an,Dt,f(an.el),Z(an),W,xe,de),me.el=Dt.el,Je===null&&Yz(W,Dt.el),fe&&xn(fe,xe),(Kt=me.props&&me.props.onVnodeUpdated)&&xn(()=>Ji(Kt,Fe,me,He),xe)}else{let me;const{el:te,props:fe}=H,{bm:Fe,m:He,parent:Je,root:Kt,type:Dt}=W,an=vl(H);Js(W,!1),Fe&&yh(Fe),!an&&(me=fe&&fe.onVnodeBeforeMount)&&Ji(me,Je,H),Js(W,!0);{Kt.ce&&Kt.ce._injectChildStyle(Dt);const sn=W.subTree=rS(W);v(null,sn,oe,ce,W,xe,de),H.el=sn.el}if(He&&xn(He,xe),!an&&(me=fe&&fe.onVnodeMounted)){const sn=H;xn(()=>Ji(me,Je,sn),xe)}(H.shapeFlag&256||Je&&vl(Je.vnode)&&Je.vnode.shapeFlag&256)&&W.a&&xn(W.a,xe),W.isMounted=!0,H=oe=ce=null}};W.scope.on();const re=W.effect=new nI(j);W.scope.off();const ue=W.update=re.run.bind(re),Pe=W.job=re.runIfDirty.bind(re);Pe.i=W,Pe.id=W.uid,re.scheduler=()=>p_(Pe),Js(W,!0),ue()},K=(W,H,oe)=>{H.component=W;const ce=W.vnode.props;W.vnode=H,W.next=null,Nz(W,H.props,ce,oe),Iz(W,H.children,oe),js(),WE(W),Gs()},V=(W,H,oe,ce,xe,de,G,j,re=!1)=>{const ue=W&&W.children,Pe=W?W.shapeFlag:0,me=H.children,{patchFlag:te,shapeFlag:fe}=H;if(te>0){if(te&128){we(ue,me,oe,ce,xe,de,G,j,re);return}else if(te&256){ne(ue,me,oe,ce,xe,de,G,j,re);return}}fe&8?(Pe&16&&le(ue,xe,de),me!==ue&&c(oe,me)):Pe&16?fe&16?we(ue,me,oe,ce,xe,de,G,j,re):le(ue,xe,de,!0):(Pe&8&&c(oe,""),fe&16&&k(me,oe,ce,xe,de,G,j,re))},ne=(W,H,oe,ce,xe,de,G,j,re)=>{W=W||hl,H=H||hl;const ue=W.length,Pe=H.length,me=Math.min(ue,Pe);let te;for(te=0;te<me;te++){const fe=H[te]=re?ps(H[te]):ua(H[te]);v(W[te],fe,oe,null,xe,de,G,j,re)}ue>Pe?le(W,xe,de,!0,!1,me):k(H,oe,ce,xe,de,G,j,re,me)},we=(W,H,oe,ce,xe,de,G,j,re)=>{let ue=0;const Pe=H.length;let me=W.length-1,te=Pe-1;for(;ue<=me&&ue<=te;){const fe=W[ue],Fe=H[ue]=re?ps(H[ue]):ua(H[ue]);if(uo(fe,Fe))v(fe,Fe,oe,null,xe,de,G,j,re);else break;ue++}for(;ue<=me&&ue<=te;){const fe=W[me],Fe=H[te]=re?ps(H[te]):ua(H[te]);if(uo(fe,Fe))v(fe,Fe,oe,null,xe,de,G,j,re);else break;me--,te--}if(ue>me){if(ue<=te){const fe=te+1,Fe=fe<Pe?H[fe].el:ce;for(;ue<=te;)v(null,H[ue]=re?ps(H[ue]):ua(H[ue]),oe,Fe,xe,de,G,j,re),ue++}}else if(ue>te)for(;ue<=me;)pe(W[ue],xe,de,!0),ue++;else{const fe=ue,Fe=ue,He=new Map;for(ue=Fe;ue<=te;ue++){const gn=H[ue]=re?ps(H[ue]):ua(H[ue]);gn.key!=null&&He.set(gn.key,ue)}let Je,Kt=0;const Dt=te-Fe+1;let an=!1,sn=0;const on=new Array(Dt);for(ue=0;ue<Dt;ue++)on[ue]=0;for(ue=fe;ue<=me;ue++){const gn=W[ue];if(Kt>=Dt){pe(gn,xe,de,!0);continue}let ai;if(gn.key!=null)ai=He.get(gn.key);else for(Je=Fe;Je<=te;Je++)if(on[Je-Fe]===0&&uo(gn,H[Je])){ai=Je;break}ai===void 0?pe(gn,xe,de,!0):(on[ai-Fe]=ue+1,ai>=sn?sn=ai:an=!0,v(gn,H[ai],oe,null,xe,de,G,j,re),Kt++)}const Wn=an?$z(on):hl;for(Je=Wn.length-1,ue=Dt-1;ue>=0;ue--){const gn=Fe+ue,ai=H[gn],Jc=gn+1<Pe?H[gn+1].el:ce;on[ue]===0?v(null,ai,oe,Jc,xe,de,G,j,re):an&&(Je<0||ue!==Wn[Je]?Se(ai,oe,Jc,2):Je--)}}},Se=(W,H,oe,ce,xe=null)=>{const{el:de,type:G,transition:j,children:re,shapeFlag:ue}=W;if(ue&6){Se(W.component.subTree,H,oe,ce);return}if(ue&128){W.suspense.move(H,oe,ce);return}if(ue&64){G.move(W,H,oe,ge);return}if(G===fn){n(de,H,oe);for(let me=0;me<re.length;me++)Se(re[me],H,oe,ce);n(W.anchor,H,oe);return}if(G===sv){b(W,H,oe);return}if(ce!==2&&ue&1&&j)if(ce===0)j.beforeEnter(de),n(de,H,oe),xn(()=>j.enter(de),xe);else{const{leave:me,delayLeave:te,afterLeave:fe}=j,Fe=()=>n(de,H,oe),He=()=>{me(de,()=>{Fe(),fe&&fe()})};te?te(de,Fe,He):He()}else n(de,H,oe)},pe=(W,H,oe,ce=!1,xe=!1)=>{const{type:de,props:G,ref:j,children:re,dynamicChildren:ue,shapeFlag:Pe,patchFlag:me,dirs:te,cacheIndex:fe}=W;if(me===-2&&(xe=!1),j!=null&&zh(j,null,oe,W,!0),fe!=null&&(H.renderCache[fe]=void 0),Pe&256){H.ctx.deactivate(W);return}const Fe=Pe&1&&te,He=!vl(W);let Je;if(He&&(Je=G&&G.onVnodeBeforeUnmount)&&Ji(Je,H,W),Pe&6)U(W.component,oe,ce);else{if(Pe&128){W.suspense.unmount(oe,ce);return}Fe&&Qs(W,null,H,"beforeUnmount"),Pe&64?W.type.remove(W,H,oe,ge,ce):ue&&!ue.hasOnce&&(de!==fn||me>0&&me&64)?le(ue,H,oe,!1,!0):(de===fn&&me&384||!xe&&Pe&16)&&le(re,H,oe),ce&&qe(W)}(He&&(Je=G&&G.onVnodeUnmounted)||Fe)&&xn(()=>{Je&&Ji(Je,H,W),Fe&&Qs(W,null,H,"unmounted")},oe)},qe=W=>{const{type:H,el:oe,anchor:ce,transition:xe}=W;if(H===fn){ee(oe,ce);return}if(H===sv){x(W);return}const de=()=>{i(oe),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(W.shapeFlag&1&&xe&&!xe.persisted){const{leave:G,delayLeave:j}=xe,re=()=>G(oe,de);j?j(W.el,de,re):re()}else de()},ee=(W,H)=>{let oe;for(;W!==H;)oe=h(W),i(W),W=oe;i(H)},U=(W,H,oe)=>{const{bum:ce,scope:xe,job:de,subTree:G,um:j,m:re,a:ue}=W;tS(re),tS(ue),ce&&yh(ce),xe.stop(),de&&(de.flags|=8,pe(G,W,H,oe)),j&&xn(j,H),xn(()=>{W.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},le=(W,H,oe,ce=!1,xe=!1,de=0)=>{for(let G=de;G<W.length;G++)pe(W[G],H,oe,ce,xe)},Z=W=>{if(W.shapeFlag&6)return Z(W.component.subTree);if(W.shapeFlag&128)return W.suspense.next();const H=h(W.anchor||W.el),oe=H&&H[MI];return oe?h(oe):H};let se=!1;const ve=(W,H,oe)=>{W==null?H._vnode&&pe(H._vnode,null,null,!0):v(H._vnode||null,W,H,null,null,null,oe),H._vnode=W,se||(se=!0,WE(),SI(),se=!1)},ge={p:v,um:pe,m:Se,r:qe,mt:D,mc:k,pc:V,pbc:P,n:Z,o:e};return{render:ve,hydrate:void 0,createApp:Oz(ve)}}function av({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Js({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bz(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function w_(e,t,r=!1){const n=e.children,i=t.children;if(Ke(n)&&Ke(i))for(let a=0;a<n.length;a++){const s=n[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=ps(i[a]),o.el=s.el),!r&&o.patchFlag!==-2&&w_(s,o)),o.type===Lc&&(o.el=s.el)}}function $z(e){const t=e.slice(),r=[0];let n,i,a,s,o;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,e[r[o]]<u?a=o+1:s=o;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=t[s];return r}function JI(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:JI(t)}function tS(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const qz=Symbol.for("v-scx"),zz=()=>Qn(qz);function e3(e,t){return Qd(e,null,t)}function jz(e,t){return Qd(e,null,{flush:"sync"})}function xr(e,t,r){return Qd(e,t,r)}function Qd(e,t,r=Mt){const{immediate:n,deep:i,flush:a,once:s}=r,o=Pr({},r),l=t&&n||!t&&a!=="post";let u;if(kl){if(a==="sync"){const d=zz();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=Bi,d.resume=Bi,d.pause=Bi,d}}const c=Fr;o.call=(d,p,v)=>Gi(d,c,p,v);let f=!1;a==="post"?o.scheduler=d=>{xn(d,c&&c.suspense)}:a!=="sync"&&(f=!0,o.scheduler=(d,p)=>{p?d():p_(d)}),o.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=Jq(e,t,o);return kl&&(u?u.push(h):l&&h()),h}function Gz(e,t,r){const n=this.proxy,i=dr(e)?e.includes(".")?t3(n,e):()=>n[e]:e.bind(n,n);let a;nt(t)?a=t:(a=t.handler,r=t);const s=Ic(this),o=Qd(i,a.bind(n),r);return s(),o}function t3(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function qpe(e,t,r=Mt){const n=jn(),i=ni(t),a=Qa(t),s=r3(e,i),o=bI((l,u)=>{let c,f=Mt,h;return jz(()=>{const d=e[i];In(c,d)&&(c=d,u())}),{get(){return l(),r.get?r.get(c):c},set(d){const p=r.set?r.set(d):d;if(!In(p,c)&&!(f!==Mt&&In(d,f)))return;const v=n.vnode.props;v&&(t in v||i in v||a in v)&&(`onUpdate:${t}`in v||`onUpdate:${i}`in v||`onUpdate:${a}`in v)||(c=d,u()),n.emit(`update:${t}`,p),In(d,p)&&In(d,f)&&!In(p,h)&&u(),f=d,h=p}}});return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?s||Mt:o,done:!1}:{done:!0}}}},o}const r3=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ni(t)}Modifiers`]||e[`${Qa(t)}Modifiers`];function Wz(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Mt;let i=r;const a=t.startsWith("update:"),s=a&&r3(n,t.slice(7));s&&(s.trim&&(i=r.map(c=>dr(c)?c.trim():c)),s.number&&(i=r.map(lw)));let o,l=n[o=Zp(t)]||n[o=Zp(ni(t))];!l&&a&&(l=n[o=Zp(Qa(t))]),l&&Gi(l,e,6,i);const u=n[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Gi(u,e,6,i)}}function n3(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let s={},o=!1;if(!nt(e)){const l=u=>{const c=n3(u,t,!0);c&&(o=!0,Pr(s,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(qt(e)&&n.set(e,null),null):(Ke(a)?a.forEach(l=>s[l]=null):Pr(s,a),qt(e)&&n.set(e,s),s)}function Jd(e,t){return!e||!qd(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ot(e,t[0].toLowerCase()+t.slice(1))||Ot(e,Qa(t))||Ot(e,t))}function rS(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:s,attrs:o,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:p,inheritAttrs:v}=e,g=qh(e);let m,y;try{if(r.shapeFlag&4){const x=i||n,E=x;m=ua(u.call(E,x,c,f,d,h,p)),y=o}else{const x=t;m=ua(x.length>1?x(f,{attrs:o,slots:s,emit:l}):x(f,null)),y=t.props?o:Vz(o)}}catch(x){zu.length=0,Cc(x,e,1),m=Or(Tn)}let b=m;if(y&&v!==!1){const x=Object.keys(y),{shapeFlag:E}=b;x.length&&E&7&&(a&&x.some(t_)&&(y=Uz(y,a)),b=Ns(b,y,!1,!0))}return r.dirs&&(b=Ns(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&Po(b,r.transition),m=b,qh(g),m}const Vz=e=>{let t;for(const r in e)(r==="class"||r==="style"||qd(r))&&((t||(t={}))[r]=e[r]);return t},Uz=(e,t)=>{const r={};for(const n in e)(!t_(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Hz(e,t,r){const{props:n,children:i,component:a}=e,{props:s,children:o,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?nS(n,s,u):!!s;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(s[h]!==n[h]&&!Jd(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?nS(n,s,u):!0:!!s;return!1}function nS(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Jd(r,a))return!0}return!1}function Yz({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const i3=e=>e.__isSuspense;function Xz(e,t){t&&t.pendingBranch?Ke(e)?t.effects.push(...e):t.effects.push(e):rz(e)}const fn=Symbol.for("v-fgt"),Lc=Symbol.for("v-txt"),Tn=Symbol.for("v-cmt"),sv=Symbol.for("v-stc"),zu=[];let Jn=null;function oc(e=!1){zu.push(Jn=e?null:[])}function Kz(){zu.pop(),Jn=zu[zu.length-1]||null}let lc=1;function iS(e,t=!1){lc+=e,e<0&&Jn&&t&&(Jn.hasOnce=!0)}function a3(e){return e.dynamicChildren=lc>0?Jn||hl:null,Kz(),lc>0&&Jn&&Jn.push(e),e}function Zz(e,t,r,n,i,a){return a3(o3(e,t,r,n,i,a,!0))}function Wh(e,t,r,n,i){return a3(Or(e,t,r,n,i,!0))}function uc(e){return e?e.__v_isVNode===!0:!1}function uo(e,t){return e.type===t.type&&e.key===t.key}const s3=({key:e})=>e??null,wh=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?dr(e)||ar(e)||nt(e)?{i:Br,r:e,k:t,f:!!r}:e:null);function o3(e,t=null,r=null,n=0,i=null,a=e===fn?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&s3(t),ref:t&&wh(t),scopeId:TI,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Br};return o?(x_(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=dr(r)?8:16),lc>0&&!s&&Jn&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Jn.push(l),l}const Or=Qz;function Qz(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===BI)&&(e=Tn),uc(e)){const o=Ns(e,t,!0);return r&&x_(o,r),lc>0&&!a&&Jn&&(o.shapeFlag&6?Jn[Jn.indexOf(e)]=o:Jn.push(o)),o.patchFlag=-2,o}if(uj(e)&&(e=e.__vccOpts),t){t=Jz(t);let{class:o,style:l}=t;o&&!dr(o)&&(t.class=i_(o)),qt(l)&&(h_(l)&&!Ke(l)&&(l=Pr({},l)),t.style=Wd(l))}const s=dr(e)?1:i3(e)?128:AI(e)?64:qt(e)?4:nt(e)?2:0;return o3(e,t,r,n,i,s,a,!0)}function Jz(e){return e?h_(e)||UI(e)?Pr({},e):e:null}function Ns(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:s,children:o,transition:l}=e,u=t?tj(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&s3(u),ref:t&&t.ref?r&&a?Ke(a)?a.concat(wh(t)):[a,wh(t)]:wh(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ns(e.ssContent),ssFallback:e.ssFallback&&Ns(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Po(c,l.clone(c)),c}function ej(e=" ",t=0){return Or(Lc,null,e,t)}function zpe(e="",t=!1){return t?(oc(),Wh(Tn,null,e)):Or(Tn,null,e)}function ua(e){return e==null||typeof e=="boolean"?Or(Tn):Ke(e)?Or(fn,null,e.slice()):uc(e)?ps(e):Or(Lc,null,String(e))}function ps(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ns(e)}function x_(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Ke(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),x_(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!UI(t)?t._ctx=Br:i===3&&Br&&(Br.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else nt(t)?(t={default:t,_ctx:Br},r=32):(t=String(t),n&64?(r=16,t=[ej(t)]):r=8);e.children=t,e.shapeFlag|=r}function tj(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=i_([t.class,n.class]));else if(i==="style")t.style=Wd([t.style,n.style]);else if(qd(i)){const a=t[i],s=n[i];s&&a!==s&&!(Ke(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=n[i])}return t}function Ji(e,t,r,n=null){Gi(e,t,7,[r,n])}const rj=GI();let nj=0;function ij(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||rj,a={uid:nj++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YI(n,i),emitsOptions:n3(n,i),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:n.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Wz.bind(null,a),e.ce&&e.ce(a),a}let Fr=null;const jn=()=>Fr||Br;let Vh,yw;{const e=Gd(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(s=>s(a)):i[0](a)}};Vh=t("__VUE_INSTANCE_SETTERS__",r=>Fr=r),yw=t("__VUE_SSR_SETTERS__",r=>kl=r)}const Ic=e=>{const t=Fr;return Vh(e),e.scope.on(),()=>{e.scope.off(),Vh(t)}},aS=()=>{Fr&&Fr.scope.off(),Vh(null)};function l3(e){return e.vnode.shapeFlag&4}let kl=!1;function aj(e,t=!1,r=!1){t&&yw(t);const{props:n,children:i}=e.vnode,a=l3(e);Pz(e,n,a,t),Lz(e,i,r);const s=a?sj(e,t):void 0;return t&&yw(!1),s}function sj(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xz);const{setup:n}=r;if(n){js();const i=e.setupContext=n.length>1?c3(e):null,a=Ic(e),s=Nc(n,e,0,[e.props,i]),o=XL(s);if(Gs(),a(),(o||e.sp)&&!vl(e)&&g_(e),o){if(s.then(aS,aS),t)return s.then(l=>{sS(e,l)}).catch(l=>{Cc(l,e,0)});e.asyncDep=s}else sS(e,s)}else u3(e)}function sS(e,t,r){nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qt(t)&&(e.setupState=yI(t)),u3(e)}function u3(e,t,r){const n=e.type;e.render||(e.render=n.render||Bi);{const i=Ic(e);js();try{Ez(e)}finally{Gs(),i()}}}const oj={get(e,t){return un(e,"get",""),e[t]}};function c3(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,oj),slots:e.slots,emit:e.emit,expose:t}}function ep(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(yI(d_(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in qu)return qu[r](e)},has(t,r){return r in t||r in qu}})):e.proxy}function lj(e,t=!0){return nt(e)?e.displayName||e.name:e.name||t&&e.__name}function uj(e){return nt(e)&&"__vccOpts"in e}const kt=(e,t)=>Zq(e,t,kl);function tp(e,t,r){const n=arguments.length;return n===2?qt(t)&&!Ke(t)?uc(t)?Or(e,null,[t]):Or(e,t):Or(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&uc(r)&&(r=[r]),Or(e,t,r))}const cj="3.5.13",jpe=Bi;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bw;const oS=typeof window<"u"&&window.trustedTypes;if(oS)try{bw=oS.createPolicy("vue",{createHTML:e=>e})}catch{}const f3=bw?e=>bw.createHTML(e):e=>e,fj="http://www.w3.org/2000/svg",hj="http://www.w3.org/1998/Math/MathML",Na=typeof document<"u"?document:null,lS=Na&&Na.createElement("template"),dj={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?Na.createElementNS(fj,e):t==="mathml"?Na.createElementNS(hj,e):r?Na.createElement(e,{is:r}):Na.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Na.createTextNode(e),createComment:e=>Na.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Na.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const s=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{lS.innerHTML=f3(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=lS.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},as="transition",uu="animation",Tl=Symbol("_vtc"),h3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},d3=Pr({},CI,h3),pj=e=>(e.displayName="Transition",e.props=d3,e),Gpe=pj((e,{slots:t})=>tp(sz,p3(e),t)),eo=(e,t=[])=>{Ke(e)?e.forEach(r=>r(...t)):e&&e(...t)},uS=e=>e?Ke(e)?e.some(t=>t.length>1):e.length>1:!1;function p3(e){const t={};for(const R in e)R in h3||(t[R]=e[R]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=e,p=vj(i),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:E,onBeforeAppear:S=m,onAppear:_=y,onAppearCancelled:k=b}=t,O=(R,L,D,$)=>{R._enterCancelled=$,cs(R,L?c:o),cs(R,L?u:s),D&&D()},P=(R,L)=>{R._isLeaving=!1,cs(R,f),cs(R,d),cs(R,h),L&&L()},N=R=>(L,D)=>{const $=R?_:y,X=()=>O(L,R,D);eo($,[L,X]),cS(()=>{cs(L,R?l:a),aa(L,R?c:o),uS($)||fS(L,n,v,X)})};return Pr(t,{onBeforeEnter(R){eo(m,[R]),aa(R,a),aa(R,s)},onBeforeAppear(R){eo(S,[R]),aa(R,l),aa(R,u)},onEnter:N(!1),onAppear:N(!0),onLeave(R,L){R._isLeaving=!0;const D=()=>P(R,L);aa(R,f),R._enterCancelled?(aa(R,h),ww()):(ww(),aa(R,h)),cS(()=>{R._isLeaving&&(cs(R,f),aa(R,d),uS(x)||fS(R,n,g,D))}),eo(x,[R,D])},onEnterCancelled(R){O(R,!1,void 0,!0),eo(b,[R])},onAppearCancelled(R){O(R,!0,void 0,!0),eo(k,[R])},onLeaveCancelled(R){P(R),eo(E,[R])}})}function vj(e){if(e==null)return null;if(qt(e))return[ov(e.enter),ov(e.leave)];{const t=ov(e);return[t,t]}}function ov(e){return vq(e)}function aa(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Tl]||(e[Tl]=new Set)).add(t)}function cs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Tl];r&&(r.delete(t),r.size||(e[Tl]=void 0))}function cS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let gj=0;function fS(e,t,r,n){const i=e._endId=++gj,a=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(a,r);const{type:s,timeout:o,propCount:l}=v3(e,t);if(!s)return n();const u=s+"end";let c=0;const f=()=>{e.removeEventListener(u,h),a()},h=d=>{d.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},o+1),e.addEventListener(u,h)}function v3(e,t){const r=window.getComputedStyle(e),n=p=>(r[p]||"").split(", "),i=n(`${as}Delay`),a=n(`${as}Duration`),s=hS(i,a),o=n(`${uu}Delay`),l=n(`${uu}Duration`),u=hS(o,l);let c=null,f=0,h=0;t===as?s>0&&(c=as,f=s,h=a.length):t===uu?u>0&&(c=uu,f=u,h=l.length):(f=Math.max(s,u),c=f>0?s>u?as:uu:null,h=c?c===as?a.length:l.length:0);const d=c===as&&/\b(transform|all)(,|$)/.test(n(`${as}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:d}}function hS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>dS(r)+dS(e[n])))}function dS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ww(){return document.body.offsetHeight}function mj(e,t,r){const n=e[Tl];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Uh=Symbol("_vod"),g3=Symbol("_vsh"),Wpe={beforeMount(e,{value:t},{transition:r}){e[Uh]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):cu(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),cu(e,!0),n.enter(e)):n.leave(e,()=>{cu(e,!1)}):cu(e,t))},beforeUnmount(e,{value:t}){cu(e,t)}};function cu(e,t){e.style.display=t?e[Uh]:"none",e[g3]=!t}const yj=Symbol(""),bj=/(^|;)\s*display\s*:/;function wj(e,t,r){const n=e.style,i=dr(r);let a=!1;if(r&&!i){if(t)if(dr(t))for(const s of t.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&xh(n,o,"")}else for(const s in t)r[s]==null&&xh(n,s,"");for(const s in r)s==="display"&&(a=!0),xh(n,s,r[s])}else if(i){if(t!==r){const s=n[yj];s&&(r+=";"+s),n.cssText=r,a=bj.test(r)}}else t&&e.removeAttribute("style");Uh in e&&(e[Uh]=a?n.display:"",e[g3]&&(n.display="none"))}const pS=/\s*!important$/;function xh(e,t,r){if(Ke(r))r.forEach(n=>xh(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=xj(e,t);pS.test(r)?e.setProperty(Qa(n),r.replace(pS,""),"important"):e[n]=r}}const vS=["Webkit","Moz","ms"],lv={};function xj(e,t){const r=lv[t];if(r)return r;let n=ni(t);if(n!=="filter"&&n in e)return lv[t]=n;n=jd(n);for(let i=0;i<vS.length;i++){const a=vS[i]+n;if(a in e)return lv[t]=a}return t}const gS="http://www.w3.org/1999/xlink";function mS(e,t,r,n,i,a=xq(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(gS,t.slice(6,t.length)):e.setAttributeNS(gS,t,r):r==null||a&&!JL(r)?e.removeAttribute(t):e.setAttribute(t,a?"":ji(r)?String(r):r)}function yS(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?f3(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let s=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=JL(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(i||t)}function co(e,t,r,n){e.addEventListener(t,r,n)}function _j(e,t,r,n){e.removeEventListener(t,r,n)}const bS=Symbol("_vei");function Ej(e,t,r,n,i=null){const a=e[bS]||(e[bS]={}),s=a[t];if(n&&s)s.value=n;else{const[o,l]=Sj(t);if(n){const u=a[t]=Mj(n,i);co(e,o,u,l)}else s&&(_j(e,o,s,l),a[t]=void 0)}}const wS=/(?:Once|Passive|Capture)$/;function Sj(e){let t;if(wS.test(e)){t={};let n;for(;n=e.match(wS);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qa(e.slice(2)),t]}let uv=0;const kj=Promise.resolve(),Tj=()=>uv||(kj.then(()=>uv=0),uv=Date.now());function Mj(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Gi(Aj(n,r.value),t,5,[n])};return r.value=e,r.attached=Tj(),r}function Aj(e,t){if(Ke(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const xS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Oj=(e,t,r,n,i,a)=>{const s=i==="svg";t==="class"?mj(e,n,s):t==="style"?wj(e,r,n):qd(t)?t_(t)||Ej(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Pj(e,t,n,s))?(yS(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&mS(e,t,n,s,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!dr(n))?yS(e,ni(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),mS(e,t,n,s))};function Pj(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&xS(t)&&nt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return xS(t)&&dr(r)?!1:t in e}const m3=new WeakMap,y3=new WeakMap,Hh=Symbol("_moveCb"),_S=Symbol("_enterCb"),Nj=e=>(delete e.props.mode,e),Cj=Nj({name:"TransitionGroup",props:Pr({},d3,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=jn(),n=NI();let i,a;return FI(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Dj(i[0].el,r.vnode.el,s))return;i.forEach(Rj),i.forEach(Lj);const o=i.filter(Ij);ww(),o.forEach(l=>{const u=l.el,c=u.style;aa(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Hh]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",f),u[Hh]=null,cs(u,s))};u.addEventListener("transitionend",f)})}),()=>{const s=_t(e),o=p3(s);let l=s.tag||fn;if(i=[],a)for(let u=0;u<a.length;u++){const c=a[u];c.el&&c.el instanceof Element&&(i.push(c),Po(c,sc(c,o,n,r)),m3.set(c,c.el.getBoundingClientRect()))}a=t.default?v_(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&Po(c,sc(c,o,n,r))}return Or(l,null,a)}}}),Vpe=Cj;function Rj(e){const t=e.el;t[Hh]&&t[Hh](),t[_S]&&t[_S]()}function Lj(e){y3.set(e,e.el.getBoundingClientRect())}function Ij(e){const t=m3.get(e),r=y3.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${i}px)`,a.transitionDuration="0s",e}}function Dj(e,t,r){const n=e.cloneNode(),i=e[Tl];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(n);const{hasTransform:s}=v3(n);return a.removeChild(n),s}const Yh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ke(t)?r=>yh(t,r):t};function Fj(e){e.target.composing=!0}function ES(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const gl=Symbol("_assign"),Upe={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[gl]=Yh(i);const a=n||i.props&&i.props.type==="number";co(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;r&&(o=o.trim()),a&&(o=lw(o)),e[gl](o)}),r&&co(e,"change",()=>{e.value=e.value.trim()}),t||(co(e,"compositionstart",Fj),co(e,"compositionend",ES),co(e,"change",ES))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:a}},s){if(e[gl]=Yh(s),e.composing)return;const o=(a||e.type==="number")&&!/^0\d/.test(e.value)?lw(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},Hpe={created(e,{value:t},r){e.checked=Dh(t,r.props.value),e[gl]=Yh(r),co(e,"change",()=>{e[gl](Bj(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e[gl]=Yh(n),t!==r&&(e.checked=Dh(t,n.props.value))}};function Bj(e){return"_value"in e?e._value:e.value}const $j=["ctrl","shift","alt","meta"],qj={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$j.some(r=>e[`${r}Key`]&&!t.includes(r))},Ype=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...a)=>{for(let s=0;s<t.length;s++){const o=qj[t[s]];if(o&&o(i,t))return}return e(i,...a)})},zj={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xpe=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const a=Qa(i.key);if(t.some(s=>s===a||zj[s]===a))return e(i)})},jj=Pr({patchProp:Oj},dj);let SS;function b3(){return SS||(SS=Dz(jj))}const Kpe=(...e)=>{b3().render(...e)},Zpe=(...e)=>{const t=b3().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=Wj(n);if(!i)return;const a=t._component;!nt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=r(i,!1,Gj(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Gj(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Wj(e){return dr(e)?document.querySelector(e):e}/*!
  * vue-i18n v11.1.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Vj="11.1.3";function Uj(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(go().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(go().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(go().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(go().__INTLIFY_PROD_DEVTOOLS__=!1)}const Gn={UNEXPECTED_RETURN_TYPE:O6,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function ii(e,...t){return Bd(e,null,void 0)}const xw=$s("__translateVNode"),_w=$s("__datetimeParts"),Ew=$s("__numberParts"),w3=$s("__setPluralRules"),x3=$s("__injectWithOption"),Sw=$s("__dispose");function cc(e){if(!At(e)||va(e))return e;for(const t in e)if(Di(e,t))if(!t.includes("."))At(e[t])&&cc(e[t]);else{const r=t.split("."),n=r.length-1;let i=e,a=!1;for(let s=0;s<n;s++){if(r[s]==="__proto__")throw new Error(`unsafe key: ${r[s]}`);if(r[s]in i||(i[r[s]]=Bt()),!At(i[r[s]])){a=!0;break}i=i[r[s]]}if(a||(va(i)?FL.includes(r[n])||delete e[t]:(i[r[n]]=e[t],delete e[t])),!va(i)){const s=i[r[n]];At(s)&&cc(s)}}return e}function __(e,t){const{messages:r,__i18n:n,messageResolver:i,flatJson:a}=t,s=bt(r)?r:Ar(n)?Bt():{[e]:Bt()};if(Ar(n)&&n.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:u}=o;l?(s[l]=s[l]||Bt(),mh(u,s[l])):mh(u,s)}else Ve(o)&&mh(JSON.parse(o),s)}),i==null&&a)for(const o in s)Di(s,o)&&cc(s[o]);return s}function _3(e){return e.type}function E3(e,t,r){let n=At(t.messages)?t.messages:Bt();"__i18nGlobal"in r&&(n=__(e.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(a=>{e.mergeLocaleMessage(a,n[a])});{if(At(t.datetimeFormats)){const a=Object.keys(t.datetimeFormats);a.length&&a.forEach(s=>{e.mergeDateTimeFormat(s,t.datetimeFormats[s])})}if(At(t.numberFormats)){const a=Object.keys(t.numberFormats);a.length&&a.forEach(s=>{e.mergeNumberFormat(s,t.numberFormats[s])})}}}function kS(e){return Or(Lc,null,e,0)}const TS="__INTLIFY_META__",MS=()=>[],Hj=()=>!1;let AS=0;function OS(e){return(t,r,n,i)=>e(r,n,jn()||void 0,i)}const Yj=()=>{const e=jn();let t=null;return e&&(t=_3(e)[TS])?{[TS]:t}:null};function E_(e={}){const{__root:t,__injectWithOption:r}=e,n=t===void 0,i=e.flatJson,a=Ih?Gr:Fn;let s=Tt(e.inheritLocale)?e.inheritLocale:!0;const o=a(t&&s?t.locale.value:Ve(e.locale)?e.locale:rc),l=a(t&&s?t.fallbackLocale.value:Ve(e.fallbackLocale)||Ar(e.fallbackLocale)||bt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o.value),u=a(__(o.value,e)),c=a(bt(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),f=a(bt(e.numberFormats)?e.numberFormats:{[o.value]:{}});let h=t?t.missingWarn:Tt(e.missingWarn)||El(e.missingWarn)?e.missingWarn:!0,d=t?t.fallbackWarn:Tt(e.fallbackWarn)||El(e.fallbackWarn)?e.fallbackWarn:!0,p=t?t.fallbackRoot:Tt(e.fallbackRoot)?e.fallbackRoot:!0,v=!!e.fallbackFormat,g=nr(e.missing)?e.missing:null,m=nr(e.missing)?OS(e.missing):null,y=nr(e.postTranslation)?e.postTranslation:null,b=t?t.warnHtmlMessage:Tt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter;const E=t?t.modifiers:bt(e.modifiers)?e.modifiers:{};let S=e.pluralRules||t&&t.pluralRules,_;_=(()=>{n&&NE(null);const te={version:Vj,locale:o.value,fallbackLocale:l.value,messages:u.value,modifiers:E,pluralRules:S,missing:m===null?void 0:m,missingWarn:h,fallbackWarn:d,fallbackFormat:v,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:b,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};te.datetimeFormats=c.value,te.numberFormats=f.value,te.__datetimeFormatters=bt(_)?_.__datetimeFormatters:void 0,te.__numberFormatters=bt(_)?_.__numberFormatters:void 0;const fe=X6(te);return n&&NE(fe),fe})(),ou(_,o.value,l.value);function O(){return[o.value,l.value,u.value,c.value,f.value]}const P=kt({get:()=>o.value,set:te=>{_.locale=te,o.value=te}}),N=kt({get:()=>l.value,set:te=>{_.fallbackLocale=te,l.value=te,ou(_,o.value,te)}}),R=kt(()=>u.value),L=kt(()=>c.value),D=kt(()=>f.value);function $(){return nr(y)?y:null}function X(te){y=te,_.postTranslation=te}function K(){return g}function V(te){te!==null&&(m=OS(te)),g=te,_.missing=m}const ne=(te,fe,Fe,He,Je,Kt)=>{O();let Dt;try{__INTLIFY_PROD_DEVTOOLS__,n||(_.fallbackContext=t?Y6():void 0),Dt=te(_)}finally{__INTLIFY_PROD_DEVTOOLS__,n||(_.fallbackContext=void 0)}if(Fe!=="translate exists"&&Mr(Dt)&&Dt===$d||Fe==="translate exists"&&!Dt){const[an,sn]=fe();return t&&p?He(t):Je(an)}else{if(Kt(Dt))return Dt;throw ii(Gn.UNEXPECTED_RETURN_TYPE)}};function we(...te){return ne(fe=>Reflect.apply($E,null,[fe,...te]),()=>ow(...te),"translate",fe=>Reflect.apply(fe.t,fe,[...te]),fe=>fe,fe=>Ve(fe))}function Se(...te){const[fe,Fe,He]=te;if(He&&!At(He))throw ii(Gn.INVALID_ARGUMENT);return we(fe,Fe,qr({resolvedMessage:!0},He||{}))}function pe(...te){return ne(fe=>Reflect.apply(RE,null,[fe,...te]),()=>aw(...te),"datetime format",fe=>Reflect.apply(fe.d,fe,[...te]),()=>OE,fe=>Ve(fe))}function qe(...te){return ne(fe=>Reflect.apply(IE,null,[fe,...te]),()=>sw(...te),"number format",fe=>Reflect.apply(fe.n,fe,[...te]),()=>OE,fe=>Ve(fe))}function ee(te){return te.map(fe=>Ve(fe)||Mr(fe)||Tt(fe)?kS(String(fe)):fe)}const le={normalize:ee,interpolate:te=>te,type:"vnode"};function Z(...te){return ne(fe=>{let Fe;const He=fe;try{He.processor=le,Fe=Reflect.apply($E,null,[He,...te])}finally{He.processor=null}return Fe},()=>ow(...te),"translate",fe=>fe[xw](...te),fe=>[kS(fe)],fe=>Ar(fe))}function se(...te){return ne(fe=>Reflect.apply(IE,null,[fe,...te]),()=>sw(...te),"number format",fe=>fe[Ew](...te),MS,fe=>Ve(fe)||Ar(fe))}function ve(...te){return ne(fe=>Reflect.apply(RE,null,[fe,...te]),()=>aw(...te),"datetime format",fe=>fe[_w](...te),MS,fe=>Ve(fe)||Ar(fe))}function ge(te){S=te,_.pluralRules=S}function Me(te,fe){return ne(()=>{if(!te)return!1;const Fe=Ve(fe)?fe:o.value,He=oe(Fe),Je=_.messageResolver(He,te);return va(Je)||di(Je)||Ve(Je)},()=>[te],"translate exists",Fe=>Reflect.apply(Fe.te,Fe,[te,fe]),Hj,Fe=>Tt(Fe))}function W(te){let fe=null;const Fe=BL(_,l.value,o.value);for(let He=0;He<Fe.length;He++){const Je=u.value[Fe[He]]||{},Kt=_.messageResolver(Je,te);if(Kt!=null){fe=Kt;break}}return fe}function H(te){const fe=W(te);return fe??(t?t.tm(te)||{}:{})}function oe(te){return u.value[te]||{}}function ce(te,fe){if(i){const Fe={[te]:fe};for(const He in Fe)Di(Fe,He)&&cc(Fe[He]);fe=Fe[te]}u.value[te]=fe,_.messages=u.value}function xe(te,fe){u.value[te]=u.value[te]||{};const Fe={[te]:fe};if(i)for(const He in Fe)Di(Fe,He)&&cc(Fe[He]);fe=Fe[te],mh(fe,u.value[te]),_.messages=u.value}function de(te){return c.value[te]||{}}function G(te,fe){c.value[te]=fe,_.datetimeFormats=c.value,LE(_,te,fe)}function j(te,fe){c.value[te]=qr(c.value[te]||{},fe),_.datetimeFormats=c.value,LE(_,te,fe)}function re(te){return f.value[te]||{}}function ue(te,fe){f.value[te]=fe,_.numberFormats=f.value,DE(_,te,fe)}function Pe(te,fe){f.value[te]=qr(f.value[te]||{},fe),_.numberFormats=f.value,DE(_,te,fe)}AS++,t&&Ih&&(xr(t.locale,te=>{s&&(o.value=te,_.locale=te,ou(_,o.value,l.value))}),xr(t.fallbackLocale,te=>{s&&(l.value=te,_.fallbackLocale=te,ou(_,o.value,l.value))}));const me={id:AS,locale:P,fallbackLocale:N,get inheritLocale(){return s},set inheritLocale(te){s=te,te&&t&&(o.value=t.locale.value,l.value=t.fallbackLocale.value,ou(_,o.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:R,get modifiers(){return E},get pluralRules(){return S||{}},get isGlobal(){return n},get missingWarn(){return h},set missingWarn(te){h=te,_.missingWarn=h},get fallbackWarn(){return d},set fallbackWarn(te){d=te,_.fallbackWarn=d},get fallbackRoot(){return p},set fallbackRoot(te){p=te},get fallbackFormat(){return v},set fallbackFormat(te){v=te,_.fallbackFormat=v},get warnHtmlMessage(){return b},set warnHtmlMessage(te){b=te,_.warnHtmlMessage=te},get escapeParameter(){return x},set escapeParameter(te){x=te,_.escapeParameter=te},t:we,getLocaleMessage:oe,setLocaleMessage:ce,mergeLocaleMessage:xe,getPostTranslationHandler:$,setPostTranslationHandler:X,getMissingHandler:K,setMissingHandler:V,[w3]:ge};return me.datetimeFormats=L,me.numberFormats=D,me.rt=Se,me.te=Me,me.tm=H,me.d=pe,me.n=qe,me.getDateTimeFormat=de,me.setDateTimeFormat=G,me.mergeDateTimeFormat=j,me.getNumberFormat=re,me.setNumberFormat=ue,me.mergeNumberFormat=Pe,me[x3]=r,me[xw]=Z,me[_w]=ve,me[Ew]=se,me}function Xj(e){const t=Ve(e.locale)?e.locale:rc,r=Ve(e.fallbackLocale)||Ar(e.fallbackLocale)||bt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,n=nr(e.missing)?e.missing:void 0,i=Tt(e.silentTranslationWarn)||El(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,a=Tt(e.silentFallbackWarn)||El(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,s=Tt(e.fallbackRoot)?e.fallbackRoot:!0,o=!!e.formatFallbackMessages,l=bt(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=nr(e.postTranslation)?e.postTranslation:void 0,f=Ve(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,h=!!e.escapeParameterHtml,d=Tt(e.sync)?e.sync:!0;let p=e.messages;if(bt(e.sharedMessages)){const E=e.sharedMessages;p=Object.keys(E).reduce((_,k)=>{const O=_[k]||(_[k]={});return qr(O,E[k]),_},p||{})}const{__i18n:v,__root:g,__injectWithOption:m}=e,y=e.datetimeFormats,b=e.numberFormats,x=e.flatJson;return{locale:t,fallbackLocale:r,messages:p,flatJson:x,datetimeFormats:y,numberFormats:b,missing:n,missingWarn:i,fallbackWarn:a,fallbackRoot:s,fallbackFormat:o,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:f,escapeParameter:h,messageResolver:e.messageResolver,inheritLocale:d,__i18n:v,__root:g,__injectWithOption:m}}function kw(e={}){const t=E_(Xj(e)),{__extender:r}=e,n={id:t.id,get locale(){return t.locale.value},set locale(i){t.locale.value=i},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(i){t.fallbackLocale.value=i},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(i){t.setMissingHandler(i)},get silentTranslationWarn(){return Tt(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(i){t.missingWarn=Tt(i)?!i:i},get silentFallbackWarn(){return Tt(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(i){t.fallbackWarn=Tt(i)?!i:i},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(i){t.fallbackFormat=i},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(i){t.setPostTranslationHandler(i)},get sync(){return t.inheritLocale},set sync(i){t.inheritLocale=i},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){t.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(i){t.escapeParameter=i},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...i){return Reflect.apply(t.t,t,[...i])},rt(...i){return Reflect.apply(t.rt,t,[...i])},te(i,a){return t.te(i,a)},tm(i){return t.tm(i)},getLocaleMessage(i){return t.getLocaleMessage(i)},setLocaleMessage(i,a){t.setLocaleMessage(i,a)},mergeLocaleMessage(i,a){t.mergeLocaleMessage(i,a)},d(...i){return Reflect.apply(t.d,t,[...i])},getDateTimeFormat(i){return t.getDateTimeFormat(i)},setDateTimeFormat(i,a){t.setDateTimeFormat(i,a)},mergeDateTimeFormat(i,a){t.mergeDateTimeFormat(i,a)},n(...i){return Reflect.apply(t.n,t,[...i])},getNumberFormat(i){return t.getNumberFormat(i)},setNumberFormat(i,a){t.setNumberFormat(i,a)},mergeNumberFormat(i,a){t.mergeNumberFormat(i,a)}};return n.__extender=r,n}function Kj(e,t,r){return{beforeCreate(){const n=jn();if(!n)throw ii(Gn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const a=i.i18n;if(i.__i18n&&(a.__i18n=i.__i18n),a.__root=t,this===this.$root)this.$i18n=PS(e,a);else{a.__injectWithOption=!0,a.__extender=r.__vueI18nExtend,this.$i18n=kw(a);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=PS(e,i);else{this.$i18n=kw({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&E3(t,i,i),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$te=(a,s)=>this.$i18n.te(a,s),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=jn();if(!n)throw ii(Gn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function PS(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[w3](t.pluralizationRules||e.pluralizationRules);const r=__(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(n=>e.mergeLocaleMessage(n,r[n])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const S_={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Zj({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,i)=>[...n,...i.type===fn?i.children:[i]],[]):t.reduce((r,n)=>{const i=e[n];return i&&(r[n]=i()),r},Bt())}function S3(){return fn}const Qj=Xd({name:"i18n-t",props:qr({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Mr(e)||!isNaN(e)}},S_),setup(e,t){const{slots:r,attrs:n}=t,i=e.i18n||k_({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(r).filter(f=>f!=="_"),s=Bt();e.locale&&(s.locale=e.locale),e.plural!==void 0&&(s.plural=Ve(e.plural)?+e.plural:e.plural);const o=Zj(t,a),l=i[xw](e.keypath,o,s),u=qr(Bt(),n),c=Ve(e.tag)||At(e.tag)?e.tag:S3();return tp(c,u,l)}}}),NS=Qj;function Jj(e){return Ar(e)&&!Ve(e[0])}function k3(e,t,r,n){const{slots:i,attrs:a}=t;return()=>{const s={part:!0};let o=Bt();e.locale&&(s.locale=e.locale),Ve(e.format)?s.key=e.format:At(e.format)&&(Ve(e.format.key)&&(s.key=e.format.key),o=Object.keys(e.format).reduce((h,d)=>r.includes(d)?qr(Bt(),h,{[d]:e.format[d]}):h,Bt()));const l=n(e.value,s,o);let u=[s.key];Ar(l)?u=l.map((h,d)=>{const p=i[h.type],v=p?p({[h.type]:h.value,index:d,parts:l}):[h.value];return Jj(v)&&(v[0].key=`${h.type}-${d}`),v}):Ve(l)&&(u=[l]);const c=qr(Bt(),a),f=Ve(e.tag)||At(e.tag)?e.tag:S3();return tp(f,c,u)}}const e8=Xd({name:"i18n-n",props:qr({value:{type:Number,required:!0},format:{type:[String,Object]}},S_),setup(e,t){const r=e.i18n||k_({useScope:e.scope,__useComponent:!0});return k3(e,t,VL,(...n)=>r[Ew](...n))}}),CS=e8;function t8(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function r8(e){const t=s=>{const{instance:o,value:l}=s;if(!o||!o.$)throw ii(Gn.UNEXPECTED_ERROR);const u=t8(e,o.$),c=RS(l);return[Reflect.apply(u.t,u,[...LS(c)]),u]};return{created:(s,o)=>{const[l,u]=t(o);Ih&&e.global===u&&(s.__i18nWatcher=xr(u.locale,()=>{o.instance&&o.instance.$forceUpdate()})),s.__composer=u,s.textContent=l},unmounted:s=>{Ih&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:o})=>{if(s.__composer){const l=s.__composer,u=RS(o);s.textContent=Reflect.apply(l.t,l,[...LS(u)])}},getSSRProps:s=>{const[o]=t(s);return{textContent:o}}}}function RS(e){if(Ve(e))return{path:e};if(bt(e)){if(!("path"in e))throw ii(Gn.REQUIRED_VALUE,"path");return e}else throw ii(Gn.INVALID_VALUE)}function LS(e){const{path:t,locale:r,args:n,choice:i,plural:a}=e,s={},o=n||{};return Ve(r)&&(s.locale=r),Mr(i)&&(s.plural=i),Mr(a)&&(s.plural=a),[t,o,s]}function n8(e,t,...r){const n=bt(r[0])?r[0]:{};(Tt(n.globalInstall)?n.globalInstall:!0)&&([NS.name,"I18nT"].forEach(a=>e.component(a,NS)),[CS.name,"I18nN"].forEach(a=>e.component(a,CS)),[DS.name,"I18nD"].forEach(a=>e.component(a,DS))),e.directive("t",r8(t))}const i8=$s("global-vue-i18n");function Qpe(e={}){const t=__VUE_I18N_LEGACY_API__&&Tt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=Tt(e.globalInjection)?e.globalInjection:!0,n=new Map,[i,a]=a8(e,t),s=$s("");function o(f){return n.get(f)||null}function l(f,h){n.set(f,h)}function u(f){n.delete(f)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(f,...h){if(f.__VUE_I18N_SYMBOL__=s,f.provide(f.__VUE_I18N_SYMBOL__,c),bt(h[0])){const v=h[0];c.__composerExtend=v.__composerExtend,c.__vueI18nExtend=v.__vueI18nExtend}let d=null;!t&&r&&(d=d8(f,c.global)),__VUE_I18N_FULL_INSTALL__&&n8(f,c,...h),__VUE_I18N_LEGACY_API__&&t&&f.mixin(Kj(a,a.__composer,c));const p=f.unmount;f.unmount=()=>{d&&d(),c.dispose(),p()}},get global(){return a},dispose(){i.stop()},__instances:n,__getInstance:o,__setInstance:l,__deleteInstance:u};return c}function k_(e={}){const t=jn();if(t==null)throw ii(Gn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ii(Gn.NOT_INSTALLED);const r=s8(t),n=l8(r),i=_3(t),a=o8(e,i);if(a==="global")return E3(n,e,i),n;if(a==="parent"){let l=u8(r,t,e.__useComponent);return l==null&&(l=n),l}const s=r;let o=s.__getInstance(t);if(o==null){const l=qr({},e);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),o=E_(l),s.__composerExtend&&(o[Sw]=s.__composerExtend(o)),f8(s,t,o),s.__setInstance(t,o)}return o}function a8(e,t){const r=a_(),n=__VUE_I18N_LEGACY_API__&&t?r.run(()=>kw(e)):r.run(()=>E_(e));if(n==null)throw ii(Gn.UNEXPECTED_ERROR);return[r,n]}function s8(e){const t=Qn(e.isCE?i8:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ii(e.isCE?Gn.NOT_INSTALLED_WITH_PROVIDE:Gn.UNEXPECTED_ERROR);return t}function o8(e,t){return Fd(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function l8(e){return e.mode==="composition"?e.global:e.global.__composer}function u8(e,t,r=!1){let n=null;const i=t.root;let a=c8(t,r);for(;a!=null;){const s=e;if(e.mode==="composition")n=s.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const o=s.__getInstance(a);o!=null&&(n=o.__composer,r&&n&&!n[x3]&&(n=null))}if(n!=null||i===a)break;a=a.parent}return n}function c8(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function f8(e,t,r){Ws(()=>{},t),m_(()=>{const n=r;e.__deleteInstance(t);const i=n[Sw];i&&(i(),delete n[Sw])},t)}const h8=["locale","fallbackLocale","availableLocales"],IS=["t","rt","d","n","tm","te"];function d8(e,t){const r=Object.create(null);return h8.forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);if(!a)throw ii(Gn.UNEXPECTED_ERROR);const s=ar(a.value)?{get(){return a.value.value},set(o){a.value.value=o}}:{get(){return a.get&&a.get()}};Object.defineProperty(r,i,s)}),e.config.globalProperties.$i18n=r,IS.forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);if(!a||!a.value)throw ii(Gn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,a)}),()=>{delete e.config.globalProperties.$i18n,IS.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}const p8=Xd({name:"i18n-d",props:qr({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},S_),setup(e,t){const r=e.i18n||k_({useScope:e.scope,__useComponent:!0});return k3(e,t,WL,(...n)=>r[_w](...n))}}),DS=p8;Uj();G6(S6);W6(q6);V6(BL);if(__INTLIFY_PROD_DEVTOOLS__){const e=go();e.__INTLIFY__=!0,k6(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const{min:v8,max:g8}=Math,Eo=(e,t=0,r=1)=>v8(g8(t,e),r),T_=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=Eo(e[t],0,255)):t===3&&(e[t]=Eo(e[t],0,1));return e},T3={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])T3[`[object ${e}]`]=e.toLowerCase();function yt(e){return T3[Object.prototype.toString.call(e)]||"object"}const ht=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):yt(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0].slice(0),Vl=e=>{if(e.length<2)return null;const t=e.length-1;return yt(e[t])=="string"?e[t].toLowerCase():null},{PI:rp,min:M3,max:A3}=Math,mi=e=>Math.round(e*100)/100,Tw=e=>Math.round(e*100)/100,Ca=rp*2,cv=rp/3,m8=rp/180,y8=180/rp;function O3(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const lt={format:{},autodetect:[]};let Ce=class{constructor(...t){const r=this;if(yt(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=Vl(t),i=!1;if(!n){i=!0,lt.sorted||(lt.autodetect=lt.autodetect.sort((a,s)=>s.p-a.p),lt.sorted=!0);for(let a of lt.autodetect)if(n=a.test(...t),n)break}if(lt.format[n]){const a=lt.format[n].apply(null,i?t:t.slice(0,-1));r._rgb=T_(a)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return yt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}};const b8="3.1.2",Et=(...e)=>new Ce(...e);Et.version=b8;const Ml={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},w8=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,x8=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,P3=e=>{if(e.match(w8)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),r=t>>16,n=t>>8&255,i=t&255;return[r,n,i,1]}if(e.match(x8)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),r=t>>24&255,n=t>>16&255,i=t>>8&255,a=Math.round((t&255)/255*100)/100;return[r,n,i,a]}throw new Error(`unknown hex color: ${e}`)},{round:df}=Math,N3=(...e)=>{let[t,r,n,i]=ht(e,"rgba"),a=Vl(e)||"auto";i===void 0&&(i=1),a==="auto"&&(a=i<1?"rgba":"rgb"),t=df(t),r=df(r),n=df(n);let o="000000"+(t<<16|r<<8|n).toString(16);o=o.substr(o.length-6);let l="0"+df(i*255).toString(16);switch(l=l.substr(l.length-2),a.toLowerCase()){case"rgba":return`#${o}${l}`;case"argb":return`#${l}${o}`;default:return`#${o}`}};Ce.prototype.name=function(){const e=N3(this._rgb,"rgb");for(let t of Object.keys(Ml))if(Ml[t]===e)return t.toLowerCase();return e};lt.format.named=e=>{if(e=e.toLowerCase(),Ml[e])return P3(Ml[e]);throw new Error("unknown color name: "+e)};lt.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&yt(e)==="string"&&Ml[e.toLowerCase()])return"named"}});Ce.prototype.alpha=function(e,t=!1){return e!==void 0&&yt(e)==="number"?t?(this._rgb[3]=e,this):new Ce([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};Ce.prototype.clipped=function(){return this._rgb._clipped||!1};const ga={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},_8=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function ja(e){const t=_8.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);ga.labWhitePoint=e,ga.Xn=t[0],ga.Zn=t[1]}function fc(){return ga.labWhitePoint}const M_=(...e)=>{e=ht(e,"lab");const[t,r,n]=e,[i,a,s]=E8(t,r,n),[o,l,u]=C3(i,a,s);return[o,l,u,e.length>3?e[3]:1]},E8=(e,t,r)=>{const{kE:n,kK:i,kKE:a,Xn:s,Yn:o,Zn:l}=ga,u=(e+16)/116,c=.002*t+u,f=u-.005*r,h=c*c*c,d=f*f*f,p=h>n?h:(116*c-16)/i,v=e>a?Math.pow((e+16)/116,3):e/i,g=d>n?d:(116*f-16)/i,m=p*s,y=v*o,b=g*l;return[m,y,b]},fv=e=>{const t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},C3=(e,t,r)=>{const{MtxAdaptMa:n,MtxAdaptMaI:i,MtxXYZ2RGB:a,RefWhiteRGB:s,Xn:o,Yn:l,Zn:u}=ga,c=o*n.m00+l*n.m10+u*n.m20,f=o*n.m01+l*n.m11+u*n.m21,h=o*n.m02+l*n.m12+u*n.m22,d=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,p=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,v=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,g=(e*n.m00+t*n.m10+r*n.m20)*(d/c),m=(e*n.m01+t*n.m11+r*n.m21)*(p/f),y=(e*n.m02+t*n.m12+r*n.m22)*(v/h),b=g*i.m00+m*i.m10+y*i.m20,x=g*i.m01+m*i.m11+y*i.m21,E=g*i.m02+m*i.m12+y*i.m22,S=fv(b*a.m00+x*a.m10+E*a.m20),_=fv(b*a.m01+x*a.m11+E*a.m21),k=fv(b*a.m02+x*a.m12+E*a.m22);return[S*255,_*255,k*255]},A_=(...e)=>{const[t,r,n,...i]=ht(e,"rgb"),[a,s,o]=R3(t,r,n),[l,u,c]=S8(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]};function S8(e,t,r){const{Xn:n,Yn:i,Zn:a,kE:s,kK:o}=ga,l=e/n,u=t/i,c=r/a,f=l>s?Math.pow(l,1/3):(o*l+16)/116,h=u>s?Math.pow(u,1/3):(o*u+16)/116,d=c>s?Math.pow(c,1/3):(o*c+16)/116;return[116*h-16,500*(f-h),200*(h-d)]}function hv(e){const t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}const R3=(e,t,r)=>{e=hv(e/255),t=hv(t/255),r=hv(r/255);const{MtxRGB2XYZ:n,MtxAdaptMa:i,MtxAdaptMaI:a,Xn:s,Yn:o,Zn:l,As:u,Bs:c,Cs:f}=ga;let h=e*n.m00+t*n.m10+r*n.m20,d=e*n.m01+t*n.m11+r*n.m21,p=e*n.m02+t*n.m12+r*n.m22;const v=s*i.m00+o*i.m10+l*i.m20,g=s*i.m01+o*i.m11+l*i.m21,m=s*i.m02+o*i.m12+l*i.m22;let y=h*i.m00+d*i.m10+p*i.m20,b=h*i.m01+d*i.m11+p*i.m21,x=h*i.m02+d*i.m12+p*i.m22;return y*=v/u,b*=g/c,x*=m/f,h=y*a.m00+b*a.m10+x*a.m20,d=y*a.m01+b*a.m11+x*a.m21,p=y*a.m02+b*a.m12+x*a.m22,[h,d,p]};Ce.prototype.lab=function(){return A_(this._rgb)};const k8=(...e)=>new Ce(...e,"lab");Object.assign(Et,{lab:k8,getLabWhitePoint:fc,setLabWhitePoint:ja});lt.format.lab=M_;lt.autodetect.push({p:2,test:(...e)=>{if(e=ht(e,"lab"),yt(e)==="array"&&e.length===3)return"lab"}});Ce.prototype.darken=function(e=1){const t=this,r=t.lab();return r[0]-=ga.Kn*e,new Ce(r,"lab").alpha(t.alpha(),!0)};Ce.prototype.brighten=function(e=1){return this.darken(-e)};Ce.prototype.darker=Ce.prototype.darken;Ce.prototype.brighter=Ce.prototype.brighten;Ce.prototype.get=function(e){const[t,r]=e.split("."),n=this[t]();if(r){const i=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(i>-1)return n[i];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};const{pow:T8}=Math,M8=1e-7,A8=20;Ce.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&yt(e)==="number"){if(e===0)return new Ce([0,0,0,this._rgb[3]],"rgb");if(e===1)return new Ce([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=A8;const i=(s,o)=>{const l=s.interpolate(o,.5,t),u=l.luminance();return Math.abs(e-u)<M8||!n--?l:u>e?i(s,l):i(l,o)},a=(r>e?i(new Ce([0,0,0]),this):i(this,new Ce([255,255,255]))).rgb();return new Ce([...a,this._rgb[3]])}return O8(...this._rgb.slice(0,3))};const O8=(e,t,r)=>(e=dv(e),t=dv(t),r=dv(r),.2126*e+.7152*t+.0722*r),dv=e=>(e/=255,e<=.03928?e/12.92:T8((e+.055)/1.055,2.4)),dn={},Al=(e,t,r=.5,...n)=>{let i=n[0]||"lrgb";if(!dn[i]&&!n.length&&(i=Object.keys(dn)[0]),!dn[i])throw new Error(`interpolation mode ${i} is not defined`);return yt(e)!=="object"&&(e=new Ce(e)),yt(t)!=="object"&&(t=new Ce(t)),dn[i](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};Ce.prototype.mix=Ce.prototype.interpolate=function(e,t=.5,...r){return Al(this,e,t,...r)};Ce.prototype.premultiply=function(e=!1){const t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new Ce([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};const{sin:P8,cos:N8}=Math,L3=(...e)=>{let[t,r,n]=ht(e,"lch");return isNaN(n)&&(n=0),n=n*m8,[t,N8(n)*r,P8(n)*r]},O_=(...e)=>{e=ht(e,"lch");const[t,r,n]=e,[i,a,s]=L3(t,r,n),[o,l,u]=M_(i,a,s);return[o,l,u,e.length>3?e[3]:1]},C8=(...e)=>{const t=O3(ht(e,"hcl"));return O_(...t)},{sqrt:R8,atan2:L8,round:I8}=Math,I3=(...e)=>{const[t,r,n]=ht(e,"lab"),i=R8(r*r+n*n);let a=(L8(n,r)*y8+360)%360;return I8(i*1e4)===0&&(a=Number.NaN),[t,i,a]},P_=(...e)=>{const[t,r,n,...i]=ht(e,"rgb"),[a,s,o]=A_(t,r,n),[l,u,c]=I3(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]};Ce.prototype.lch=function(){return P_(this._rgb)};Ce.prototype.hcl=function(){return O3(P_(this._rgb))};const D8=(...e)=>new Ce(...e,"lch"),F8=(...e)=>new Ce(...e,"hcl");Object.assign(Et,{lch:D8,hcl:F8});lt.format.lch=O_;lt.format.hcl=C8;["lch","hcl"].forEach(e=>lt.autodetect.push({p:2,test:(...t)=>{if(t=ht(t,e),yt(t)==="array"&&t.length===3)return e}}));Ce.prototype.saturate=function(e=1){const t=this,r=t.lch();return r[1]+=ga.Kn*e,r[1]<0&&(r[1]=0),new Ce(r,"lch").alpha(t.alpha(),!0)};Ce.prototype.desaturate=function(e=1){return this.saturate(-e)};Ce.prototype.set=function(e,t,r=!1){const[n,i]=e.split("."),a=this[n]();if(i){const s=n.indexOf(i)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(yt(t)=="string")switch(t.charAt(0)){case"+":a[s]+=+t;break;case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else if(yt(t)==="number")a[s]=t;else throw new Error("unsupported value for Color.set");const o=new Ce(a,n);return r?(this._rgb=o._rgb,this):o}throw new Error(`unknown channel ${i} in mode ${n}`)}else return a};Ce.prototype.tint=function(e=.5,...t){return Al(this,"white",e,...t)};Ce.prototype.shade=function(e=.5,...t){return Al(this,"black",e,...t)};const B8=(e,t,r)=>{const n=e._rgb,i=t._rgb;return new Ce(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"rgb")};dn.rgb=B8;const{sqrt:pv,pow:Xo}=Math,$8=(e,t,r)=>{const[n,i,a]=e._rgb,[s,o,l]=t._rgb;return new Ce(pv(Xo(n,2)*(1-r)+Xo(s,2)*r),pv(Xo(i,2)*(1-r)+Xo(o,2)*r),pv(Xo(a,2)*(1-r)+Xo(l,2)*r),"rgb")};dn.lrgb=$8;const q8=(e,t,r)=>{const n=e.lab(),i=t.lab();return new Ce(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"lab")};dn.lab=q8;const Ul=(e,t,r,n)=>{let i,a;n==="hsl"?(i=e.hsl(),a=t.hsl()):n==="hsv"?(i=e.hsv(),a=t.hsv()):n==="hcg"?(i=e.hcg(),a=t.hcg()):n==="hsi"?(i=e.hsi(),a=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",i=e.hcl(),a=t.hcl()):n==="oklch"&&(i=e.oklch().reverse(),a=t.oklch().reverse());let s,o,l,u,c,f;(n.substr(0,1)==="h"||n==="oklch")&&([s,l,c]=i,[o,u,f]=a);let h,d,p,v;return!isNaN(s)&&!isNaN(o)?(o>s&&o-s>180?v=o-(s+360):o<s&&s-o>180?v=o+360-s:v=o-s,d=s+r*v):isNaN(s)?isNaN(o)?d=Number.NaN:(d=o,(c==1||c==0)&&n!="hsv"&&(h=u)):(d=s,(f==1||f==0)&&n!="hsv"&&(h=l)),h===void 0&&(h=l+r*(u-l)),p=c+r*(f-c),n==="oklch"?new Ce([p,h,d],n):new Ce([d,h,p],n)},D3=(e,t,r)=>Ul(e,t,r,"lch");dn.lch=D3;dn.hcl=D3;const z8=e=>{if(yt(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},j8=(...e)=>{const[t,r,n]=ht(e,"rgb");return(t<<16)+(r<<8)+n};Ce.prototype.num=function(){return j8(this._rgb)};const G8=(...e)=>new Ce(...e,"num");Object.assign(Et,{num:G8});lt.format.num=z8;lt.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&yt(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const W8=(e,t,r)=>{const n=e.num(),i=t.num();return new Ce(n+r*(i-n),"num")};dn.num=W8;const{floor:V8}=Math,U8=(...e)=>{e=ht(e,"hcg");let[t,r,n]=e,i,a,s;n=n*255;const o=r*255;if(r===0)i=a=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const l=V8(t),u=t-l,c=n*(1-r),f=c+o*(1-u),h=c+o*u,d=c+o;switch(l){case 0:[i,a,s]=[d,h,c];break;case 1:[i,a,s]=[f,d,c];break;case 2:[i,a,s]=[c,d,h];break;case 3:[i,a,s]=[c,f,d];break;case 4:[i,a,s]=[h,c,d];break;case 5:[i,a,s]=[d,c,f];break}}return[i,a,s,e.length>3?e[3]:1]},H8=(...e)=>{const[t,r,n]=ht(e,"rgb"),i=M3(t,r,n),a=A3(t,r,n),s=a-i,o=s*100/255,l=i/(255-s)*100;let u;return s===0?u=Number.NaN:(t===a&&(u=(r-n)/s),r===a&&(u=2+(n-t)/s),n===a&&(u=4+(t-r)/s),u*=60,u<0&&(u+=360)),[u,o,l]};Ce.prototype.hcg=function(){return H8(this._rgb)};const Y8=(...e)=>new Ce(...e,"hcg");Et.hcg=Y8;lt.format.hcg=U8;lt.autodetect.push({p:1,test:(...e)=>{if(e=ht(e,"hcg"),yt(e)==="array"&&e.length===3)return"hcg"}});const X8=(e,t,r)=>Ul(e,t,r,"hcg");dn.hcg=X8;const{cos:Ko}=Math,K8=(...e)=>{e=ht(e,"hsi");let[t,r,n]=e,i,a,s;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-r)/3,i=(1+r*Ko(Ca*t)/Ko(cv-Ca*t))/3,a=1-(s+i)):t<2/3?(t-=1/3,i=(1-r)/3,a=(1+r*Ko(Ca*t)/Ko(cv-Ca*t))/3,s=1-(i+a)):(t-=2/3,a=(1-r)/3,s=(1+r*Ko(Ca*t)/Ko(cv-Ca*t))/3,i=1-(a+s)),i=Eo(n*i*3),a=Eo(n*a*3),s=Eo(n*s*3),[i*255,a*255,s*255,e.length>3?e[3]:1]},{min:Z8,sqrt:Q8,acos:J8}=Math,eG=(...e)=>{let[t,r,n]=ht(e,"rgb");t/=255,r/=255,n/=255;let i;const a=Z8(t,r,n),s=(t+r+n)/3,o=s>0?1-a/s:0;return o===0?i=NaN:(i=(t-r+(t-n))/2,i/=Q8((t-r)*(t-r)+(t-n)*(r-n)),i=J8(i),n>r&&(i=Ca-i),i/=Ca),[i*360,o,s]};Ce.prototype.hsi=function(){return eG(this._rgb)};const tG=(...e)=>new Ce(...e,"hsi");Et.hsi=tG;lt.format.hsi=K8;lt.autodetect.push({p:2,test:(...e)=>{if(e=ht(e,"hsi"),yt(e)==="array"&&e.length===3)return"hsi"}});const rG=(e,t,r)=>Ul(e,t,r,"hsi");dn.hsi=rG;const Mw=(...e)=>{e=ht(e,"hsl");const[t,r,n]=e;let i,a,s;if(r===0)i=a=s=n*255;else{const o=[0,0,0],l=[0,0,0],u=n<.5?n*(1+r):n+r-n*r,c=2*n-u,f=t/360;o[0]=f+1/3,o[1]=f,o[2]=f-1/3;for(let h=0;h<3;h++)o[h]<0&&(o[h]+=1),o[h]>1&&(o[h]-=1),6*o[h]<1?l[h]=c+(u-c)*6*o[h]:2*o[h]<1?l[h]=u:3*o[h]<2?l[h]=c+(u-c)*(2/3-o[h])*6:l[h]=c;[i,a,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[i,a,s,e[3]]:[i,a,s,1]},F3=(...e)=>{e=ht(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;const i=M3(t,r,n),a=A3(t,r,n),s=(a+i)/2;let o,l;return a===i?(o=0,l=Number.NaN):o=s<.5?(a-i)/(a+i):(a-i)/(2-a-i),t==a?l=(r-n)/(a-i):r==a?l=2+(n-t)/(a-i):n==a&&(l=4+(t-r)/(a-i)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,o,s,e[3]]:[l,o,s]};Ce.prototype.hsl=function(){return F3(this._rgb)};const nG=(...e)=>new Ce(...e,"hsl");Et.hsl=nG;lt.format.hsl=Mw;lt.autodetect.push({p:2,test:(...e)=>{if(e=ht(e,"hsl"),yt(e)==="array"&&e.length===3)return"hsl"}});const iG=(e,t,r)=>Ul(e,t,r,"hsl");dn.hsl=iG;const{floor:aG}=Math,sG=(...e)=>{e=ht(e,"hsv");let[t,r,n]=e,i,a,s;if(n*=255,r===0)i=a=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const o=aG(t),l=t-o,u=n*(1-r),c=n*(1-r*l),f=n*(1-r*(1-l));switch(o){case 0:[i,a,s]=[n,f,u];break;case 1:[i,a,s]=[c,n,u];break;case 2:[i,a,s]=[u,n,f];break;case 3:[i,a,s]=[u,c,n];break;case 4:[i,a,s]=[f,u,n];break;case 5:[i,a,s]=[n,u,c];break}}return[i,a,s,e.length>3?e[3]:1]},{min:oG,max:lG}=Math,uG=(...e)=>{e=ht(e,"rgb");let[t,r,n]=e;const i=oG(t,r,n),a=lG(t,r,n),s=a-i;let o,l,u;return u=a/255,a===0?(o=Number.NaN,l=0):(l=s/a,t===a&&(o=(r-n)/s),r===a&&(o=2+(n-t)/s),n===a&&(o=4+(t-r)/s),o*=60,o<0&&(o+=360)),[o,l,u]};Ce.prototype.hsv=function(){return uG(this._rgb)};const cG=(...e)=>new Ce(...e,"hsv");Et.hsv=cG;lt.format.hsv=sG;lt.autodetect.push({p:2,test:(...e)=>{if(e=ht(e,"hsv"),yt(e)==="array"&&e.length===3)return"hsv"}});const fG=(e,t,r)=>Ul(e,t,r,"hsv");dn.hsv=fG;function Xh(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let n=t[0].length,i=t[0].map((s,o)=>t.map(l=>l[o])),a=e.map(s=>i.map(o=>Array.isArray(s)?s.reduce((l,u,c)=>l+u*(o[c]||0),0):o.reduce((l,u)=>l+u*s,0)));return r===1&&(a=a[0]),n===1?a.map(s=>s[0]):a}const N_=(...e)=>{e=ht(e,"lab");const[t,r,n,...i]=e,[a,s,o]=hG([t,r,n]),[l,u,c]=C3(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]};function hG(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Xh(r,e);return Xh(t,n.map(i=>i**3))}const C_=(...e)=>{const[t,r,n,...i]=ht(e,"rgb"),a=R3(t,r,n);return[...dG(a),...i.length>0&&i[0]<1?[i[0]]:[]]};function dG(e){const t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Xh(t,e);return Xh(r,n.map(i=>Math.cbrt(i)))}Ce.prototype.oklab=function(){return C_(this._rgb)};const pG=(...e)=>new Ce(...e,"oklab");Object.assign(Et,{oklab:pG});lt.format.oklab=N_;lt.autodetect.push({p:2,test:(...e)=>{if(e=ht(e,"oklab"),yt(e)==="array"&&e.length===3)return"oklab"}});const vG=(e,t,r)=>{const n=e.oklab(),i=t.oklab();return new Ce(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"oklab")};dn.oklab=vG;const gG=(e,t,r)=>Ul(e,t,r,"oklch");dn.oklch=gG;const{pow:vv,sqrt:gv,PI:mv,cos:FS,sin:BS,atan2:mG}=Math,yG=(e,t="lrgb",r=null)=>{const n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));const i=n/r.reduce(function(f,h){return f+h});if(r.forEach((f,h)=>{r[h]*=i}),e=e.map(f=>new Ce(f)),t==="lrgb")return bG(e,r);const a=e.shift(),s=a.get(t),o=[];let l=0,u=0;for(let f=0;f<s.length;f++)if(s[f]=(s[f]||0)*r[0],o.push(isNaN(s[f])?0:r[0]),t.charAt(f)==="h"&&!isNaN(s[f])){const h=s[f]/180*mv;l+=FS(h)*r[0],u+=BS(h)*r[0]}let c=a.alpha()*r[0];e.forEach((f,h)=>{const d=f.get(t);c+=f.alpha()*r[h+1];for(let p=0;p<s.length;p++)if(!isNaN(d[p]))if(o[p]+=r[h+1],t.charAt(p)==="h"){const v=d[p]/180*mv;l+=FS(v)*r[h+1],u+=BS(v)*r[h+1]}else s[p]+=d[p]*r[h+1]});for(let f=0;f<s.length;f++)if(t.charAt(f)==="h"){let h=mG(u/o[f],l/o[f])/mv*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;s[f]=h}else s[f]=s[f]/o[f];return c/=n,new Ce(s,t).alpha(c>.99999?1:c,!0)},bG=(e,t)=>{const r=e.length,n=[0,0,0,0];for(let i=0;i<e.length;i++){const a=e[i],s=t[i]/r,o=a._rgb;n[0]+=vv(o[0],2)*s,n[1]+=vv(o[1],2)*s,n[2]+=vv(o[2],2)*s,n[3]+=o[3]*s}return n[0]=gv(n[0]),n[1]=gv(n[1]),n[2]=gv(n[2]),n[3]>.9999999&&(n[3]=1),new Ce(T_(n))},{pow:wG}=Math;function Kh(e){let t="rgb",r=Et("#ccc"),n=0,i=[0,1],a=[],s=[0,0],o=!1,l=[],u=!1,c=0,f=1,h=!1,d={},p=!0,v=1;const g=function(_){if(_=_||["#fff","#000"],_&&yt(_)==="string"&&Et.brewer&&Et.brewer[_.toLowerCase()]&&(_=Et.brewer[_.toLowerCase()]),yt(_)==="array"){_.length===1&&(_=[_[0],_[0]]),_=_.slice(0);for(let k=0;k<_.length;k++)_[k]=Et(_[k]);a.length=0;for(let k=0;k<_.length;k++)a.push(k/(_.length-1))}return E(),l=_},m=function(_){if(o!=null){const k=o.length-1;let O=0;for(;O<k&&_>=o[O];)O++;return O-1}return 0};let y=_=>_,b=_=>_;const x=function(_,k){let O,P;if(k==null&&(k=!1),isNaN(_)||_===null)return r;k?P=_:o&&o.length>2?P=m(_)/(o.length-2):f!==c?P=(_-c)/(f-c):P=1,P=b(P),k||(P=y(P)),v!==1&&(P=wG(P,v)),P=s[0]+P*(1-s[0]-s[1]),P=Eo(P,0,1);const N=Math.floor(P*1e4);if(p&&d[N])O=d[N];else{if(yt(l)==="array")for(let R=0;R<a.length;R++){const L=a[R];if(P<=L){O=l[R];break}if(P>=L&&R===a.length-1){O=l[R];break}if(P>L&&P<a[R+1]){P=(P-L)/(a[R+1]-L),O=Et.interpolate(l[R],l[R+1],P,t);break}}else yt(l)==="function"&&(O=l(P));p&&(d[N]=O)}return O};var E=()=>d={};g(e);const S=function(_){const k=Et(x(_));return u&&k[u]?k[u]():k};return S.classes=function(_){if(_!=null){if(yt(_)==="array")o=_,i=[_[0],_[_.length-1]];else{const k=Et.analyze(i);_===0?o=[k.min,k.max]:o=Et.limits(k,"e",_)}return S}return o},S.domain=function(_){if(!arguments.length)return i;c=_[0],f=_[_.length-1],a=[];const k=l.length;if(_.length===k&&c!==f)for(let O of Array.from(_))a.push((O-c)/(f-c));else{for(let O=0;O<k;O++)a.push(O/(k-1));if(_.length>2){const O=_.map((N,R)=>R/(_.length-1)),P=_.map(N=>(N-c)/(f-c));P.every((N,R)=>O[R]===N)||(b=N=>{if(N<=0||N>=1)return N;let R=0;for(;N>=P[R+1];)R++;const L=(N-P[R])/(P[R+1]-P[R]);return O[R]+L*(O[R+1]-O[R])})}}return i=[c,f],S},S.mode=function(_){return arguments.length?(t=_,E(),S):t},S.range=function(_,k){return g(_),S},S.out=function(_){return u=_,S},S.spread=function(_){return arguments.length?(n=_,S):n},S.correctLightness=function(_){return _==null&&(_=!0),h=_,E(),h?y=function(k){const O=x(0,!0).lab()[0],P=x(1,!0).lab()[0],N=O>P;let R=x(k,!0).lab()[0];const L=O+(P-O)*k;let D=R-L,$=0,X=1,K=20;for(;Math.abs(D)>.01&&K-- >0;)(function(){return N&&(D*=-1),D<0?($=k,k+=(X-k)*.5):(X=k,k+=($-k)*.5),R=x(k,!0).lab()[0],D=R-L})();return k}:y=k=>k,S},S.padding=function(_){return _!=null?(yt(_)==="number"&&(_=[_,_]),s=_,S):s},S.colors=function(_,k){arguments.length<2&&(k="hex");let O=[];if(arguments.length===0)O=l.slice(0);else if(_===1)O=[S(.5)];else if(_>1){const P=i[0],N=i[1]-P;O=xG(0,_).map(R=>S(P+R/(_-1)*N))}else{e=[];let P=[];if(o&&o.length>2)for(let N=1,R=o.length,L=1<=R;L?N<R:N>R;L?N++:N--)P.push((o[N-1]+o[N])*.5);else P=i;O=P.map(N=>S(N))}return Et[k]&&(O=O.map(P=>P[k]())),O},S.cache=function(_){return _!=null?(p=_,S):p},S.gamma=function(_){return _!=null?(v=_,S):v},S.nodata=function(_){return _!=null?(r=Et(_),S):r},S}function xG(e,t,r){let n=[],i=e<t,a=t;for(let s=e;i?s<a:s>a;i?s++:s--)n.push(s);return n}const _G=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let i=1;i<=t.length;i++)n[i]=(t[i]||0)+t[i-1];t=n}return t},EG=function(e){let t,r,n,i;if(e=e.map(a=>new Ce(a)),e.length===2)[r,n]=e.map(a=>a.lab()),t=function(a){const s=[0,1,2].map(o=>r[o]+a*(n[o]-r[o]));return new Ce(s,"lab")};else if(e.length===3)[r,n,i]=e.map(a=>a.lab()),t=function(a){const s=[0,1,2].map(o=>(1-a)*(1-a)*r[o]+2*(1-a)*a*n[o]+a*a*i[o]);return new Ce(s,"lab")};else if(e.length===4){let a;[r,n,i,a]=e.map(s=>s.lab()),t=function(s){const o=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*r[l]+3*(1-s)*(1-s)*s*n[l]+3*(1-s)*s*s*i[l]+s*s*s*a[l]);return new Ce(o,"lab")}}else if(e.length>=5){let a,s,o;a=e.map(l=>l.lab()),o=e.length-1,s=_G(o),t=function(l){const u=1-l,c=[0,1,2].map(f=>a.reduce((h,d,p)=>h+s[p]*u**(o-p)*l**p*d[f],0));return new Ce(c,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},SG=e=>{const t=EG(e);return t.scale=()=>Kh(t),t},{round:B3}=Math;Ce.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(B3)};Ce.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:B3(t):t)};const kG=(...e)=>new Ce(...e,"rgb");Object.assign(Et,{rgb:kG});lt.format.rgb=(...e)=>{const t=ht(e,"rgba");return t[3]===void 0&&(t[3]=1),t};lt.autodetect.push({p:3,test:(...e)=>{if(e=ht(e,"rgba"),yt(e)==="array"&&(e.length===3||e.length===4&&yt(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const Wi=(e,t,r)=>{if(!Wi[r])throw new Error("unknown blend mode "+r);return Wi[r](e,t)},Vs=e=>(t,r)=>{const n=Et(r).rgb(),i=Et(t).rgb();return Et.rgb(e(n,i))},Us=e=>(t,r)=>{const n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},TG=e=>e,MG=(e,t)=>e*t/255,AG=(e,t)=>e>t?t:e,OG=(e,t)=>e>t?e:t,PG=(e,t)=>255*(1-(1-e/255)*(1-t/255)),NG=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),CG=(e,t)=>255*(1-(1-t/255)/(e/255)),RG=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);Wi.normal=Vs(Us(TG));Wi.multiply=Vs(Us(MG));Wi.screen=Vs(Us(PG));Wi.overlay=Vs(Us(NG));Wi.darken=Vs(Us(AG));Wi.lighten=Vs(Us(OG));Wi.dodge=Vs(Us(RG));Wi.burn=Vs(Us(CG));const{pow:LG,sin:IG,cos:DG}=Math;function FG(e=300,t=-1.5,r=1,n=1,i=[0,1]){let a=0,s;yt(i)==="array"?s=i[1]-i[0]:(s=0,i=[i,i]);const o=function(l){const u=Ca*((e+120)/360+t*l),c=LG(i[0]+s*l,n),h=(a!==0?r[0]+l*a:r)*c*(1-c)/2,d=DG(u),p=IG(u),v=c+h*(-.14861*d+1.78277*p),g=c+h*(-.29227*d-.90649*p),m=c+h*(1.97294*d);return Et(T_([v*255,g*255,m*255,1]))};return o.start=function(l){return l==null?e:(e=l,o)},o.rotations=function(l){return l==null?t:(t=l,o)},o.gamma=function(l){return l==null?n:(n=l,o)},o.hue=function(l){return l==null?r:(r=l,yt(r)==="array"?(a=r[1]-r[0],a===0&&(r=r[1])):a=0,o)},o.lightness=function(l){return l==null?i:(yt(l)==="array"?(i=l,s=l[1]-l[0]):(i=[l,l],s=0),o)},o.scale=()=>Et.scale(o),o.hue(r),o}const BG="0123456789abcdef",{floor:$G,random:qG}=Math,zG=()=>{let e="#";for(let t=0;t<6;t++)e+=BG.charAt($G(qG()*16));return new Ce(e,"hex")},{log:$S,pow:jG,floor:GG,abs:WG}=Math;function $3(e,t=null){const r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return yt(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&yt(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,i)=>q3(r,n,i),r}function q3(e,t="equal",r=7){yt(e)=="array"&&(e=$3(e));const{min:n,max:i}=e,a=e.values.sort((o,l)=>o-l);if(r===1)return[n,i];const s=[];if(t.substr(0,1)==="c"&&(s.push(n),s.push(i)),t.substr(0,1)==="e"){s.push(n);for(let o=1;o<r;o++)s.push(n+o/r*(i-n));s.push(i)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const o=Math.LOG10E*$S(n),l=Math.LOG10E*$S(i);s.push(n);for(let u=1;u<r;u++)s.push(jG(10,o+u/r*(l-o)));s.push(i)}else if(t.substr(0,1)==="q"){s.push(n);for(let o=1;o<r;o++){const l=(a.length-1)*o/r,u=GG(l);if(u===l)s.push(a[u]);else{const c=l-u;s.push(a[u]*(1-c)+a[u+1]*c)}}s.push(i)}else if(t.substr(0,1)==="k"){let o;const l=a.length,u=new Array(l),c=new Array(r);let f=!0,h=0,d=null;d=[],d.push(n);for(let g=1;g<r;g++)d.push(n+g/r*(i-n));for(d.push(i);f;){for(let m=0;m<r;m++)c[m]=0;for(let m=0;m<l;m++){const y=a[m];let b=Number.MAX_VALUE,x;for(let E=0;E<r;E++){const S=WG(d[E]-y);S<b&&(b=S,x=E),c[x]++,u[m]=x}}const g=new Array(r);for(let m=0;m<r;m++)g[m]=null;for(let m=0;m<l;m++)o=u[m],g[o]===null?g[o]=a[m]:g[o]+=a[m];for(let m=0;m<r;m++)g[m]*=1/c[m];f=!1;for(let m=0;m<r;m++)if(g[m]!==d[m]){f=!0;break}d=g,h++,h>200&&(f=!1)}const p={};for(let g=0;g<r;g++)p[g]=[];for(let g=0;g<l;g++)o=u[g],p[o].push(a[g]);let v=[];for(let g=0;g<r;g++)v.push(p[g][0]),v.push(p[g][p[g].length-1]);v=v.sort((g,m)=>g-m),s.push(v[0]);for(let g=1;g<v.length;g+=2){const m=v[g];!isNaN(m)&&s.indexOf(m)===-1&&s.push(m)}}return s}const VG=(e,t)=>{e=new Ce(e),t=new Ce(t);const r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const qS=.027,UG=5e-4,HG=.1,zS=1.14,pf=.022,jS=1.414,YG=(e,t)=>{e=new Ce(e),t=new Ce(t),e.alpha()<1&&(e=Al(t,e,e.alpha(),"rgb"));const r=GS(...e.rgb()),n=GS(...t.rgb()),i=r>=pf?r:r+Math.pow(pf-r,jS),a=n>=pf?n:n+Math.pow(pf-n,jS),s=Math.pow(a,.56)-Math.pow(i,.57),o=Math.pow(a,.65)-Math.pow(i,.62),l=Math.abs(a-i)<UG?0:i<a?s*zS:o*zS;return(Math.abs(l)<HG?0:l>0?l-qS:l+qS)*100};function GS(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}const{sqrt:Aa,pow:_r,min:XG,max:KG,atan2:WS,abs:VS,cos:vf,sin:US,exp:ZG,PI:HS}=Math;function QG(e,t,r=1,n=1,i=1){var a=function(qe){return 360*qe/(2*HS)},s=function(qe){return 2*HS*qe/360};e=new Ce(e),t=new Ce(t);const[o,l,u]=Array.from(e.lab()),[c,f,h]=Array.from(t.lab()),d=(o+c)/2,p=Aa(_r(l,2)+_r(u,2)),v=Aa(_r(f,2)+_r(h,2)),g=(p+v)/2,m=.5*(1-Aa(_r(g,7)/(_r(g,7)+_r(25,7)))),y=l*(1+m),b=f*(1+m),x=Aa(_r(y,2)+_r(u,2)),E=Aa(_r(b,2)+_r(h,2)),S=(x+E)/2,_=a(WS(u,y)),k=a(WS(h,b)),O=_>=0?_:_+360,P=k>=0?k:k+360,N=VS(O-P)>180?(O+P+360)/2:(O+P)/2,R=1-.17*vf(s(N-30))+.24*vf(s(2*N))+.32*vf(s(3*N+6))-.2*vf(s(4*N-63));let L=P-O;L=VS(L)<=180?L:P<=O?L+360:L-360,L=2*Aa(x*E)*US(s(L)/2);const D=c-o,$=E-x,X=1+.015*_r(d-50,2)/Aa(20+_r(d-50,2)),K=1+.045*S,V=1+.015*S*R,ne=30*ZG(-_r((N-275)/25,2)),Se=-(2*Aa(_r(S,7)/(_r(S,7)+_r(25,7))))*US(2*s(ne)),pe=Aa(_r(D/(r*X),2)+_r($/(n*K),2)+_r(L/(i*V),2)+Se*($/(n*K))*(L/(i*V)));return KG(0,XG(100,pe))}function JG(e,t,r="lab"){e=new Ce(e),t=new Ce(t);const n=e.get(r),i=t.get(r);let a=0;for(let s in n){const o=(n[s]||0)-(i[s]||0);a+=o*o}return Math.sqrt(a)}const e9=(...e)=>{try{return new Ce(...e),!0}catch{return!1}},t9={cool(){return Kh([Et.hsl(180,1,.9),Et.hsl(250,.7,.4)])},hot(){return Kh(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Aw={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},z3=Object.keys(Aw),YS=new Map(z3.map(e=>[e.toLowerCase(),e])),r9=typeof Proxy=="function"?new Proxy(Aw,{get(e,t){const r=t.toLowerCase();if(YS.has(r))return e[YS.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(z3)}}):Aw,n9=(...e)=>{e=ht(e,"cmyk");const[t,r,n,i]=e,a=e.length>4?e[4]:1;return i===1?[0,0,0,a]:[t>=1?0:255*(1-t)*(1-i),r>=1?0:255*(1-r)*(1-i),n>=1?0:255*(1-n)*(1-i),a]},{max:XS}=Math,i9=(...e)=>{let[t,r,n]=ht(e,"rgb");t=t/255,r=r/255,n=n/255;const i=1-XS(t,XS(r,n)),a=i<1?1/(1-i):0,s=(1-t-i)*a,o=(1-r-i)*a,l=(1-n-i)*a;return[s,o,l,i]};Ce.prototype.cmyk=function(){return i9(this._rgb)};const a9=(...e)=>new Ce(...e,"cmyk");Object.assign(Et,{cmyk:a9});lt.format.cmyk=n9;lt.autodetect.push({p:2,test:(...e)=>{if(e=ht(e,"cmyk"),yt(e)==="array"&&e.length===4)return"cmyk"}});const s9=(...e)=>{const t=ht(e,"hsla");let r=Vl(e)||"lsa";return t[0]=mi(t[0]||0)+"deg",t[1]=mi(t[1]*100)+"%",t[2]=mi(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`},o9=(...e)=>{const t=ht(e,"lab");let r=Vl(e)||"lab";return t[0]=mi(t[0])+"%",t[1]=mi(t[1]),t[2]=mi(t[2]),r==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},l9=(...e)=>{const t=ht(e,"lch");let r=Vl(e)||"lab";return t[0]=mi(t[0])+"%",t[1]=mi(t[1]),t[2]=isNaN(t[2])?"none":mi(t[2])+"deg",r==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},u9=(...e)=>{const t=ht(e,"lab");return t[0]=mi(t[0]*100)+"%",t[1]=Tw(t[1]),t[2]=Tw(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},j3=(...e)=>{const[t,r,n,...i]=ht(e,"rgb"),[a,s,o]=C_(t,r,n),[l,u,c]=I3(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]},c9=(...e)=>{const t=ht(e,"lch");return t[0]=mi(t[0]*100)+"%",t[1]=Tw(t[1]),t[2]=isNaN(t[2])?"none":mi(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},{round:yv}=Math,f9=(...e)=>{const t=ht(e,"rgba");let r=Vl(e)||"rgb";if(r.substr(0,3)==="hsl")return s9(F3(t),r);if(r.substr(0,3)==="lab"){const n=fc();ja("d50");const i=o9(A_(t),r);return ja(n),i}if(r.substr(0,3)==="lch"){const n=fc();ja("d50");const i=l9(P_(t),r);return ja(n),i}return r.substr(0,5)==="oklab"?u9(C_(t)):r.substr(0,5)==="oklch"?c9(j3(t)):(t[0]=yv(t[0]),t[1]=yv(t[1]),t[2]=yv(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,r==="rgb"?3:4).join(" ")})`)},G3=(...e)=>{e=ht(e,"lch");const[t,r,n,...i]=e,[a,s,o]=L3(t,r,n),[l,u,c]=N_(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]},Va=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,qi=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Zh=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,wi=/\s*/.source,Hl=/\s+/.source,R_=/\s*,\s*/.source,np=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Yl=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,W3=new RegExp("^rgba?\\("+wi+[Va,Va,Va].join(Hl)+Yl+"\\)$"),V3=new RegExp("^rgb\\("+wi+[Va,Va,Va].join(R_)+wi+"\\)$"),U3=new RegExp("^rgba\\("+wi+[Va,Va,Va,qi].join(R_)+wi+"\\)$"),H3=new RegExp("^hsla?\\("+wi+[np,Zh,Zh].join(Hl)+Yl+"\\)$"),Y3=new RegExp("^hsl?\\("+wi+[np,Zh,Zh].join(R_)+wi+"\\)$"),X3=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,K3=new RegExp("^lab\\("+wi+[qi,qi,qi].join(Hl)+Yl+"\\)$"),Z3=new RegExp("^lch\\("+wi+[qi,qi,np].join(Hl)+Yl+"\\)$"),Q3=new RegExp("^oklab\\("+wi+[qi,qi,qi].join(Hl)+Yl+"\\)$"),J3=new RegExp("^oklch\\("+wi+[qi,qi,np].join(Hl)+Yl+"\\)$"),{round:eD}=Math,Zo=e=>e.map((t,r)=>r<=2?Eo(eD(t),0,255):t),Er=(e,t=0,r=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=t+(e+1)*.5*(r-t):e=t+e*(r-t)),+e),mn=(e,t)=>e==="none"?t:e,L_=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(lt.format.named)try{return lt.format.named(e)}catch{}if((t=e.match(W3))||(t=e.match(V3))){let r=t.slice(1,4);for(let i=0;i<3;i++)r[i]=+Er(mn(r[i],0),0,255);r=Zo(r);const n=t[4]!==void 0?+Er(t[4],0,1):1;return r[3]=n,r}if(t=e.match(U3)){const r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+Er(r[n],0,255);return r}if((t=e.match(H3))||(t=e.match(Y3))){const r=t.slice(1,4);r[0]=+mn(r[0].replace("deg",""),0),r[1]=+Er(mn(r[1],0),0,100)*.01,r[2]=+Er(mn(r[2],0),0,100)*.01;const n=Zo(Mw(r)),i=t[4]!==void 0?+Er(t[4],0,1):1;return n[3]=i,n}if(t=e.match(X3)){const r=t.slice(1,4);r[1]*=.01,r[2]*=.01;const n=Mw(r);for(let i=0;i<3;i++)n[i]=eD(n[i]);return n[3]=+t[4],n}if(t=e.match(K3)){const r=t.slice(1,4);r[0]=Er(mn(r[0],0),0,100),r[1]=Er(mn(r[1],0),-125,125,!0),r[2]=Er(mn(r[2],0),-125,125,!0);const n=fc();ja("d50");const i=Zo(M_(r));ja(n);const a=t[4]!==void 0?+Er(t[4],0,1):1;return i[3]=a,i}if(t=e.match(Z3)){const r=t.slice(1,4);r[0]=Er(r[0],0,100),r[1]=Er(mn(r[1],0),0,150,!1),r[2]=+mn(r[2].replace("deg",""),0);const n=fc();ja("d50");const i=Zo(O_(r));ja(n);const a=t[4]!==void 0?+Er(t[4],0,1):1;return i[3]=a,i}if(t=e.match(Q3)){const r=t.slice(1,4);r[0]=Er(mn(r[0],0),0,1),r[1]=Er(mn(r[1],0),-.4,.4,!0),r[2]=Er(mn(r[2],0),-.4,.4,!0);const n=Zo(N_(r)),i=t[4]!==void 0?+Er(t[4],0,1):1;return n[3]=i,n}if(t=e.match(J3)){const r=t.slice(1,4);r[0]=Er(mn(r[0],0),0,1),r[1]=Er(mn(r[1],0),0,.4,!1),r[2]=+mn(r[2].replace("deg",""),0);const n=Zo(G3(r)),i=t[4]!==void 0?+Er(t[4],0,1):1;return n[3]=i,n}};L_.test=e=>W3.test(e)||H3.test(e)||K3.test(e)||Z3.test(e)||Q3.test(e)||J3.test(e)||V3.test(e)||U3.test(e)||Y3.test(e)||X3.test(e)||e==="transparent";Ce.prototype.css=function(e){return f9(this._rgb,e)};const h9=(...e)=>new Ce(...e,"css");Et.css=h9;lt.format.css=L_;lt.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&yt(e)==="string"&&L_.test(e))return"css"}});lt.format.gl=(...e)=>{const t=ht(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};const d9=(...e)=>new Ce(...e,"gl");Et.gl=d9;Ce.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};Ce.prototype.hex=function(e){return N3(this._rgb,e)};const p9=(...e)=>new Ce(...e,"hex");Et.hex=p9;lt.format.hex=P3;lt.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&yt(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:gf}=Math,tD=e=>{const t=e/100;let r,n,i;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*gf(n),i=t<20?0:-254.76935184120902+.8274096064007395*(i=t-10)+115.67994401066147*gf(i)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*gf(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*gf(n),i=255),[r,n,i,1]},{round:v9}=Math,g9=(...e)=>{const t=ht(e,"rgb"),r=t[0],n=t[2];let i=1e3,a=4e4;const s=.4;let o;for(;a-i>s;){o=(a+i)*.5;const l=tD(o);l[2]/l[0]>=n/r?a=o:i=o}return v9(o)};Ce.prototype.temp=Ce.prototype.kelvin=Ce.prototype.temperature=function(){return g9(this._rgb)};const bv=(...e)=>new Ce(...e,"temp");Object.assign(Et,{temp:bv,kelvin:bv,temperature:bv});lt.format.temp=lt.format.kelvin=lt.format.temperature=tD;Ce.prototype.oklch=function(){return j3(this._rgb)};const m9=(...e)=>new Ce(...e,"oklch");Object.assign(Et,{oklch:m9});lt.format.oklch=G3;lt.autodetect.push({p:2,test:(...e)=>{if(e=ht(e,"oklch"),yt(e)==="array"&&e.length===3)return"oklch"}});Object.assign(Et,{analyze:$3,average:yG,bezier:SG,blend:Wi,brewer:r9,Color:Ce,colors:Ml,contrast:VG,contrastAPCA:YG,cubehelix:FG,deltaE:QG,distance:JG,input:lt,interpolate:Al,limits:q3,mix:Al,random:zG,scale:Kh,scales:t9,valid:e9});/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let rD;const ip=e=>rD=e,nD=Symbol();function Ow(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ju;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ju||(ju={}));function eve(){const e=a_(!0),t=e.run(()=>Gr({}));let r=[],n=[];const i=d_({install(a){ip(i),i._a=a,a.provide(nD,i),a.config.globalProperties.$pinia=i,n.forEach(s=>r.push(s)),n=[]},use(a){return this._a?r.push(a):n.push(a),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const iD=()=>{};function KS(e,t,r,n=iD){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),n())};return!r&&Vd()&&s_(i),i}function Qo(e,...t){e.slice().forEach(r=>{r(...t)})}const y9=e=>e(),ZS=Symbol(),wv=Symbol();function Pw(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,n)=>e.set(n,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];Ow(i)&&Ow(n)&&e.hasOwnProperty(r)&&!ar(n)&&!Wa(n)?e[r]=Pw(i,n):e[r]=n}return e}const b9=Symbol();function w9(e){return!Ow(e)||!Object.prototype.hasOwnProperty.call(e,b9)}const{assign:fs}=Object;function x9(e){return!!(ar(e)&&e.effect)}function _9(e,t,r,n){const{state:i,actions:a,getters:s}=t,o=r.state.value[e];let l;function u(){o||(r.state.value[e]=i?i():{});const c=Hq(r.state.value[e]);return fs(c,a,Object.keys(s||{}).reduce((f,h)=>(f[h]=d_(kt(()=>{ip(r);const d=r._s.get(e);return s[h].call(d,d)})),f),{}))}return l=aD(e,u,t,r,n,!0),l}function aD(e,t,r={},n,i,a){let s;const o=fs({actions:{}},r),l={deep:!0};let u,c,f=[],h=[],d;const p=n.state.value[e];!a&&!p&&(n.state.value[e]={}),Gr({});let v;function g(k){let O;u=c=!1,typeof k=="function"?(k(n.state.value[e]),O={type:ju.patchFunction,storeId:e,events:d}):(Pw(n.state.value[e],k),O={type:ju.patchObject,payload:k,storeId:e,events:d});const P=v=Symbol();As().then(()=>{v===P&&(u=!0)}),c=!0,Qo(f,O,n.state.value[e])}const m=a?function(){const{state:O}=r,P=O?O():{};this.$patch(N=>{fs(N,P)})}:iD;function y(){s.stop(),f=[],h=[],n._s.delete(e)}const b=(k,O="")=>{if(ZS in k)return k[wv]=O,k;const P=function(){ip(n);const N=Array.from(arguments),R=[],L=[];function D(K){R.push(K)}function $(K){L.push(K)}Qo(h,{args:N,name:P[wv],store:E,after:D,onError:$});let X;try{X=k.apply(this&&this.$id===e?this:E,N)}catch(K){throw Qo(L,K),K}return X instanceof Promise?X.then(K=>(Qo(R,K),K)).catch(K=>(Qo(L,K),Promise.reject(K))):(Qo(R,X),X)};return P[ZS]=!0,P[wv]=O,P},x={_p:n,$id:e,$onAction:KS.bind(null,h),$patch:g,$reset:m,$subscribe(k,O={}){const P=KS(f,k,O.detached,()=>N()),N=s.run(()=>xr(()=>n.state.value[e],R=>{(O.flush==="sync"?c:u)&&k({storeId:e,type:ju.direct,events:d},R)},fs({},l,O)));return P},$dispose:y},E=Yd(x);n._s.set(e,E);const _=(n._a&&n._a.runWithContext||y9)(()=>n._e.run(()=>(s=a_()).run(()=>t({action:b}))));for(const k in _){const O=_[k];if(ar(O)&&!x9(O)||Wa(O))a||(p&&w9(O)&&(ar(O)?O.value=p[k]:Pw(O,p[k])),n.state.value[e][k]=O);else if(typeof O=="function"){const P=b(O,k);_[k]=P,o.actions[k]=O}}return fs(E,_),fs(_t(E),_),Object.defineProperty(E,"$state",{get:()=>n.state.value[e],set:k=>{g(O=>{fs(O,k)})}}),n._p.forEach(k=>{fs(E,s.run(()=>k({store:E,app:n._a,pinia:n,options:o})))}),p&&a&&r.hydrate&&r.hydrate(E.$state,p),u=!0,c=!0,E}/*! #__NO_SIDE_EFFECTS__ */function tve(e,t,r){let n;const i=typeof t=="function";n=i?r:t;function a(s,o){const l=y_();return s=s||(l?Qn(nD,null):null),s&&ip(s),s=rD,s._s.has(e)||(i?aD(e,t,n,s):_9(e,n,s)),s._s.get(e)}return a.$id=e,a}function rve(e){const t=_t(e),r={};for(const n in t){const i=t[n];i.effect?r[n]=kt({get:()=>e[n],set(a){e[n]=a}}):(ar(i)||Wa(i))&&(r[n]=wI(e,n))}return r}const E9=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,S9=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,k9=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function T9(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){M9(e);return}return t}function M9(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function A9(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!k9.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(E9.test(e)||S9.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,T9)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function O9(e,t){if(e==null)return;let r=e;for(let n=0;n<t.length;n++){if(r==null||r[t[n]]==null)return;r=r[t[n]]}return r}function I_(e,t,r){if(r.length===0)return t;const n=r[0];return r.length>1&&(t=I_(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,n)?Number.isInteger(Number(r[1]))?[]:{}:e[n],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function sD(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const r={};for(const n in e)r[n]=e[n];return delete r[t[0]],r}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const r={};for(const n in e)r[n]=e[n];return r}return I_(e,sD(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function oD(e,t){return t.map(r=>r.split(".")).map(r=>[r,O9(e,r)]).filter(r=>r[1]!==void 0).reduce((r,n)=>I_(r,n[1],n[0]),{})}function lD(e,t){return t.map(r=>r.split(".")).reduce((r,n)=>sD(r,n),e)}function QS(e,{storage:t,serializer:r,key:n,debug:i,pick:a,omit:s,beforeHydrate:o,afterHydrate:l},u,c=!0){try{c&&(o==null||o(u));const f=t.getItem(n);if(f){const h=r.deserialize(f),d=a?oD(h,a):h,p=s?lD(d,s):d;e.$patch(p)}c&&(l==null||l(u))}catch(f){i&&console.error("[pinia-plugin-persistedstate]",f)}}function JS(e,{storage:t,serializer:r,key:n,debug:i,pick:a,omit:s}){try{const o=a?oD(e,a):e,l=s?lD(o,s):o,u=r.serialize(l);t.setItem(n,u)}catch(o){i&&console.error("[pinia-plugin-persistedstate]",o)}}function P9(e,t,r){const{pinia:n,store:i,options:{persist:a=r}}=e;if(!a)return;if(!(i.$id in n.state.value)){const l=n._s.get(i.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const o=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(t);i.$hydrate=({runHooks:l=!0}={})=>{o.forEach(u=>{QS(i,u,e,l)})},i.$persist=()=>{o.forEach(l=>{JS(i.$state,l)})},o.forEach(l=>{QS(i,l,e),i.$subscribe((u,c)=>JS(c,l),{detached:!0})})}function N9(e={}){return function(t){P9(t,r=>({key:(e.key?e.key:n=>n)(r.key??t.store.$id),debug:r.debug??e.debug??!1,serializer:r.serializer??e.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>A9(n)},storage:r.storage??e.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),e.auto??!1)}}var nve=N9(),mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uD(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var xv={exports:{}},ek;function C9(){return ek||(ek=1,function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function s(l,u){if(!a[l]){a[l]={};for(var c=0;c<l.length;c++)a[l][l.charAt(c)]=c}return a[l][u]}var o={compressToBase64:function(l){if(l==null)return"";var u=o._compress(l,6,function(c){return n.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:o._decompress(l.length,32,function(u){return s(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":o._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:o._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=o.compress(l),c=new Uint8Array(u.length*2),f=0,h=u.length;f<h;f++){var d=u.charCodeAt(f);c[f*2]=d>>>8,c[f*2+1]=d%256}return c},decompressFromUint8Array:function(l){if(l==null)return o.decompress(l);for(var u=new Array(l.length/2),c=0,f=u.length;c<f;c++)u[c]=l[c*2]*256+l[c*2+1];var h=[];return u.forEach(function(d){h.push(r(d))}),o.decompress(h.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":o._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),o._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return o._compress(l,16,function(u){return r(u)})},_compress:function(l,u,c){if(l==null)return"";var f,h,d={},p={},v="",g="",m="",y=2,b=3,x=2,E=[],S=0,_=0,k;for(k=0;k<l.length;k+=1)if(v=l.charAt(k),Object.prototype.hasOwnProperty.call(d,v)||(d[v]=b++,p[v]=!0),g=m+v,Object.prototype.hasOwnProperty.call(d,g))m=g;else{if(Object.prototype.hasOwnProperty.call(p,m)){if(m.charCodeAt(0)<256){for(f=0;f<x;f++)S=S<<1,_==u-1?(_=0,E.push(c(S)),S=0):_++;for(h=m.charCodeAt(0),f=0;f<8;f++)S=S<<1|h&1,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=h>>1}else{for(h=1,f=0;f<x;f++)S=S<<1|h,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=0;for(h=m.charCodeAt(0),f=0;f<16;f++)S=S<<1|h&1,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=h>>1}y--,y==0&&(y=Math.pow(2,x),x++),delete p[m]}else for(h=d[m],f=0;f<x;f++)S=S<<1|h&1,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=h>>1;y--,y==0&&(y=Math.pow(2,x),x++),d[g]=b++,m=String(v)}if(m!==""){if(Object.prototype.hasOwnProperty.call(p,m)){if(m.charCodeAt(0)<256){for(f=0;f<x;f++)S=S<<1,_==u-1?(_=0,E.push(c(S)),S=0):_++;for(h=m.charCodeAt(0),f=0;f<8;f++)S=S<<1|h&1,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=h>>1}else{for(h=1,f=0;f<x;f++)S=S<<1|h,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=0;for(h=m.charCodeAt(0),f=0;f<16;f++)S=S<<1|h&1,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=h>>1}y--,y==0&&(y=Math.pow(2,x),x++),delete p[m]}else for(h=d[m],f=0;f<x;f++)S=S<<1|h&1,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=h>>1;y--,y==0&&(y=Math.pow(2,x),x++)}for(h=2,f=0;f<x;f++)S=S<<1|h&1,_==u-1?(_=0,E.push(c(S)),S=0):_++,h=h>>1;for(;;)if(S=S<<1,_==u-1){E.push(c(S));break}else _++;return E.join("")},decompress:function(l){return l==null?"":l==""?null:o._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var f=[],h=4,d=4,p=3,v="",g=[],m,y,b,x,E,S,_,k={val:c(0),position:u,index:1};for(m=0;m<3;m+=1)f[m]=m;for(b=0,E=Math.pow(2,2),S=1;S!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),b|=(x>0?1:0)*S,S<<=1;switch(b){case 0:for(b=0,E=Math.pow(2,8),S=1;S!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),b|=(x>0?1:0)*S,S<<=1;_=r(b);break;case 1:for(b=0,E=Math.pow(2,16),S=1;S!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),b|=(x>0?1:0)*S,S<<=1;_=r(b);break;case 2:return""}for(f[3]=_,y=_,g.push(_);;){if(k.index>l)return"";for(b=0,E=Math.pow(2,p),S=1;S!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),b|=(x>0?1:0)*S,S<<=1;switch(_=b){case 0:for(b=0,E=Math.pow(2,8),S=1;S!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),b|=(x>0?1:0)*S,S<<=1;f[d++]=r(b),_=d-1,h--;break;case 1:for(b=0,E=Math.pow(2,16),S=1;S!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),b|=(x>0?1:0)*S,S<<=1;f[d++]=r(b),_=d-1,h--;break;case 2:return g.join("")}if(h==0&&(h=Math.pow(2,p),p++),f[_])v=f[_];else if(_===d)v=y+y.charAt(0);else return null;g.push(v),f[d++]=y+v.charAt(0),h--,y=v,h==0&&(h=Math.pow(2,p),p++)}}};return o}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})}(xv)),xv.exports}var ive=C9();function D_(e){return Vd()?(s_(e),!0):!1}const _v=new WeakMap,R9=(...e)=>{var t;const r=e[0],n=(t=jn())==null?void 0:t.proxy;if(n==null&&!y_())throw new Error("injectLocal must be called in setup");return n&&_v.has(n)&&r in _v.get(n)?_v.get(n)[r]:Qn(...e)},cD=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const L9=Object.prototype.toString,I9=e=>L9.call(e)==="[object Object]",Nw=()=>{};function fD(...e){if(e.length!==1)return wI(...e);const t=e[0];return typeof t=="function"?Wl(bI(()=>({get:t,set:Nw}))):Gr(t)}function hD(e,t){function r(...n){return new Promise((i,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(a)})}return r}const dD=e=>e();function pD(e,t={}){let r,n,i=Nw;const a=l=>{clearTimeout(l),i(),i=Nw};let s;return l=>{const u=On(e),c=On(t.maxWait);return r&&a(r),u<=0||c!==void 0&&c<=0?(n&&(a(n),n=null),Promise.resolve(l())):new Promise((f,h)=>{i=t.rejectOnCancel?h:f,s=l,c&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,f(s())},c)),r=setTimeout(()=>{n&&a(n),n=null,f(l())},u)})}}function D9(e=dD,t={}){const{initialState:r="active"}=t,n=fD(r==="active");function i(){n.value=!1}function a(){n.value=!0}const s=(...o)=>{n.value&&e(...o)};return{isActive:Wl(n),pause:i,resume:a,eventFilter:s}}function F9(e,t){var r;if(typeof e=="number")return e+t;const n=((r=e.match(/^-?\d+\.?\d*/))==null?void 0:r[0])||"",i=e.slice(n.length),a=Number.parseFloat(n)+t;return Number.isNaN(a)?e:a+i}function Gu(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function _h(e){return Array.isArray(e)?e:[e]}function B9(e){return jn()}function ave(e,t=200,r={}){return hD(pD(t,r),e)}function vD(e,t,r={}){const{eventFilter:n=dD,...i}=r;return xr(e,hD(n,t),i)}function $9(e,t,r={}){const{eventFilter:n,initialState:i="active",...a}=r,{eventFilter:s,pause:o,resume:l,isActive:u}=D9(n,{initialState:i});return{stop:vD(e,t,{...a,eventFilter:s}),pause:o,resume:l,isActive:u}}function Dc(e,t=!0,r){B9()?Ws(e,r):t?e():As(e)}function sve(e=!1,t={}){const{truthyValue:r=!0,falsyValue:n=!1}=t,i=ar(e),a=Fn(e);function s(o){if(arguments.length)return a.value=o,a.value;{const l=On(r);return a.value=a.value===l?On(n):l,a.value}}return i?s:[a,s]}function ove(e,t,r={}){const{debounce:n=0,maxWait:i=void 0,...a}=r;return vD(e,t,{...a,eventFilter:pD(n,{maxWait:i})})}function q9(e,t,r){return xr(e,t,{...r,immediate:!0})}const Ha=cD?window:void 0,z9=cD?window.document:void 0;function ca(e){var t;const r=On(e);return(t=r==null?void 0:r.$el)!=null?t:r}function No(...e){const t=[],r=()=>{t.forEach(o=>o()),t.length=0},n=(o,l,u,c)=>(o.addEventListener(l,u,c),()=>o.removeEventListener(l,u,c)),i=kt(()=>{const o=_h(On(e[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),a=q9(()=>{var o,l;return[(l=(o=i.value)==null?void 0:o.map(u=>ca(u)))!=null?l:[Ha].filter(u=>u!=null),_h(On(i.value?e[1]:e[0])),_h(Pc(i.value?e[2]:e[1])),On(i.value?e[3]:e[2])]},([o,l,u,c])=>{if(r(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(u!=null&&u.length))return;const f=I9(c)?{...c}:c;t.push(...o.flatMap(h=>l.flatMap(d=>u.map(p=>n(h,d,p,f)))))},{flush:"post"}),s=()=>{a(),r()};return D_(r),s}function j9(){const e=Fn(!1),t=jn();return t&&Ws(()=>{e.value=!0},t),e}function F_(e){const t=j9();return kt(()=>(t.value,!!e()))}const G9=Symbol("vueuse-ssr-width");function gD(){const e=y_()?R9(G9,null):null;return typeof e=="number"?e:void 0}function fo(e,t={}){const{window:r=Ha,ssrWidth:n=gD()}=t,i=F_(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function"),a=Fn(typeof n=="number"),s=Fn(),o=Fn(!1),l=u=>{o.value=u.matches};return e3(()=>{if(a.value){a.value=!i.value;const u=On(e).split(",");o.value=u.some(c=>{const f=c.includes("not all"),h=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),d=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(h||d);return h&&p&&(p=n>=Gu(h[1])),d&&p&&(p=n<=Gu(d[1])),f?!p:p});return}i.value&&(s.value=r.matchMedia(On(e)),o.value=s.value.matches)}),No(s,"change",l,{passive:!0}),kt(()=>o.value)}const lve={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function uve(e,t={}){function r(d,p){let v=On(e[On(d)]);return p!=null&&(v=F9(v,p)),typeof v=="number"&&(v=`${v}px`),v}const{window:n=Ha,strategy:i="min-width",ssrWidth:a=gD()}=t,s=typeof a=="number",o=s?Fn(!1):{value:!0};s&&Dc(()=>o.value=!!n);function l(d,p){return!o.value&&s?d==="min"?a>=Gu(p):a<=Gu(p):n?n.matchMedia(`(${d}-width: ${p})`).matches:!1}const u=d=>fo(()=>`(min-width: ${r(d)})`,t),c=d=>fo(()=>`(max-width: ${r(d)})`,t),f=Object.keys(e).reduce((d,p)=>(Object.defineProperty(d,p,{get:()=>i==="min-width"?u(p):c(p),enumerable:!0,configurable:!0}),d),{});function h(){const d=Object.keys(e).map(p=>[p,f[p],Gu(r(p))]).sort((p,v)=>p[2]-v[2]);return kt(()=>d.filter(([,p])=>p.value).map(([p])=>p))}return Object.assign(f,{greaterOrEqual:u,smallerOrEqual:c,greater(d){return fo(()=>`(min-width: ${r(d,.1)})`,t)},smaller(d){return fo(()=>`(max-width: ${r(d,-.1)})`,t)},between(d,p){return fo(()=>`(min-width: ${r(d)}) and (max-width: ${r(p,-.1)})`,t)},isGreater(d){return l("min",r(d,.1))},isGreaterOrEqual(d){return l("min",r(d))},isSmaller(d){return l("max",r(d,-.1))},isSmallerOrEqual(d){return l("max",r(d))},isInBetween(d,p){return l("min",r(d))&&l("max",r(p,-.1))},current:h,active(){const d=h();return kt(()=>d.value.length===0?"":d.value.at(i==="min-width"?-1:0))}})}const yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bf="__vueuse_ssr_handlers__",W9=V9();function V9(){return bf in yf||(yf[bf]=yf[bf]||{}),yf[bf]}function mD(e,t){return W9[e]||t}function U9(e){return fo("(prefers-color-scheme: dark)",e)}function H9(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Y9={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},tk="vueuse-storage";function X9(e,t,r,n={}){var i;const{flush:a="pre",deep:s=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:f=Ha,eventFilter:h,onError:d=N=>{console.error(N)},initOnMounted:p}=n,v=(c?Fn:Gr)(typeof t=="function"?t():t),g=kt(()=>On(e));if(!r)try{r=mD("getDefaultStorage",()=>{var N;return(N=Ha)==null?void 0:N.localStorage})()}catch(N){d(N)}if(!r)return v;const m=On(t),y=H9(m),b=(i=n.serializer)!=null?i:Y9[y],{pause:x,resume:E}=$9(v,()=>_(v.value),{flush:a,deep:s,eventFilter:h});xr(g,()=>O(),{flush:a}),f&&o&&Dc(()=>{r instanceof Storage?No(f,"storage",O,{passive:!0}):No(f,tk,P),p&&O()}),p||O();function S(N,R){if(f){const L={key:g.value,oldValue:N,newValue:R,storageArea:r};f.dispatchEvent(r instanceof Storage?new StorageEvent("storage",L):new CustomEvent(tk,{detail:L}))}}function _(N){try{const R=r.getItem(g.value);if(N==null)S(R,null),r.removeItem(g.value);else{const L=b.write(N);R!==L&&(r.setItem(g.value,L),S(R,L))}}catch(R){d(R)}}function k(N){const R=N?N.newValue:r.getItem(g.value);if(R==null)return l&&m!=null&&r.setItem(g.value,b.write(m)),m;if(!N&&u){const L=b.read(R);return typeof u=="function"?u(L,m):y==="object"&&!Array.isArray(L)?{...m,...L}:L}else return typeof R!="string"?R:b.read(R)}function O(N){if(!(N&&N.storageArea!==r)){if(N&&N.key==null){v.value=m;return}if(!(N&&N.key!==g.value)){x();try{(N==null?void 0:N.newValue)!==b.write(v.value)&&(v.value=k(N))}catch(R){d(R)}finally{N?As(E):E()}}}}function P(N){O(N.detail)}return v}const K9="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Z9(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:i=Ha,storage:a,storageKey:s="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:u,disableTransition:c=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},h=U9({window:i}),d=kt(()=>h.value?"dark":"light"),p=l||(s==null?fD(n):X9(s,n,a,{window:i,listenToStorageChanges:o})),v=kt(()=>p.value==="auto"?d.value:p.value),g=mD("updateHTMLAttrs",(x,E,S)=>{const _=typeof x=="string"?i==null?void 0:i.document.querySelector(x):ca(x);if(!_)return;const k=new Set,O=new Set;let P=null;if(E==="class"){const R=S.split(/\s/g);Object.values(f).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{R.includes(L)?k.add(L):O.add(L)})}else P={key:E,value:S};if(k.size===0&&O.size===0&&P===null)return;let N;c&&(N=i.document.createElement("style"),N.appendChild(document.createTextNode(K9)),i.document.head.appendChild(N));for(const R of k)_.classList.add(R);for(const R of O)_.classList.remove(R);P&&_.setAttribute(P.key,P.value),c&&(i.getComputedStyle(N).opacity,document.head.removeChild(N))});function m(x){var E;g(t,r,(E=f[x])!=null?E:x)}function y(x){e.onChanged?e.onChanged(x,m):m(x)}xr(v,y,{flush:"post",immediate:!0}),Dc(()=>y(v.value));const b=kt({get(){return u?p.value:v.value},set(x){p.value=x}});return Object.assign(b,{store:p,system:d,state:v})}function cve(e={}){const{valueDark:t="dark",valueLight:r=""}=e,n=Z9({...e,onChanged:(s,o)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,s==="dark",o,s):o(s)},modes:{dark:t,light:r}}),i=kt(()=>n.system.value);return kt({get(){return n.value==="dark"},set(s){const o=s?"dark":"light";i.value===o?n.value="auto":n.value=o}})}function Q9(e,t,r={}){const{window:n=Ha,...i}=r;let a;const s=F_(()=>n&&"ResizeObserver"in n),o=()=>{a&&(a.disconnect(),a=void 0)},l=kt(()=>{const f=On(e);return Array.isArray(f)?f.map(h=>ca(h)):[ca(f)]}),u=xr(l,f=>{if(o(),s.value&&n){a=new ResizeObserver(t);for(const h of f)h&&a.observe(h,i)}},{immediate:!0,flush:"post"}),c=()=>{o(),u()};return D_(c),{isSupported:s,stop:c}}function fve(e,t={width:0,height:0},r={}){const{window:n=Ha,box:i="content-box"}=r,a=kt(()=>{var f,h;return(h=(f=ca(e))==null?void 0:f.namespaceURI)==null?void 0:h.includes("svg")}),s=Fn(t.width),o=Fn(t.height),{stop:l}=Q9(e,([f])=>{const h=i==="border-box"?f.borderBoxSize:i==="content-box"?f.contentBoxSize:f.devicePixelContentBoxSize;if(n&&a.value){const d=ca(e);if(d){const p=d.getBoundingClientRect();s.value=p.width,o.value=p.height}}else if(h){const d=_h(h);s.value=d.reduce((p,{inlineSize:v})=>p+v,0),o.value=d.reduce((p,{blockSize:v})=>p+v,0)}else s.value=f.contentRect.width,o.value=f.contentRect.height},r);Dc(()=>{const f=ca(e);f&&(s.value="offsetWidth"in f?f.offsetWidth:t.width,o.value="offsetHeight"in f?f.offsetHeight:t.height)});const u=xr(()=>ca(e),f=>{s.value=f?t.width:0,o.value=f?t.height:0});function c(){l(),u()}return{width:s,height:o,stop:c}}const rk=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function hve(e,t={}){const{document:r=z9,autoExit:n=!1}=t,i=kt(()=>{var y;return(y=ca(e))!=null?y:r==null?void 0:r.documentElement}),a=Fn(!1),s=kt(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(y=>r&&y in r||i.value&&y in i.value)),o=kt(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(y=>r&&y in r||i.value&&y in i.value)),l=kt(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(y=>r&&y in r||i.value&&y in i.value)),u=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(y=>r&&y in r),c=F_(()=>i.value&&r&&s.value!==void 0&&o.value!==void 0&&l.value!==void 0),f=()=>u?(r==null?void 0:r[u])===i.value:!1,h=()=>{if(l.value){if(r&&r[l.value]!=null)return r[l.value];{const y=i.value;if((y==null?void 0:y[l.value])!=null)return!!y[l.value]}}return!1};async function d(){if(!(!c.value||!a.value)){if(o.value)if((r==null?void 0:r[o.value])!=null)await r[o.value]();else{const y=i.value;(y==null?void 0:y[o.value])!=null&&await y[o.value]()}a.value=!1}}async function p(){if(!c.value||a.value)return;h()&&await d();const y=i.value;s.value&&(y==null?void 0:y[s.value])!=null&&(await y[s.value](),a.value=!0)}async function v(){await(a.value?d():p())}const g=()=>{const y=h();(!y||y&&f())&&(a.value=y)},m={capture:!1,passive:!0};return No(r,rk,g,m),No(()=>ca(i),rk,g,m),n&&D_(d),{isSupported:c,isFullscreen:a,enter:p,exit:d,toggle:v}}function dve(e={}){const{window:t=Ha,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:a=!0,type:s="inner"}=e,o=Fn(r),l=Fn(n),u=()=>{if(t)if(s==="outer")o.value=t.outerWidth,l.value=t.outerHeight;else if(s==="visual"&&t.visualViewport){const{width:f,height:h,scale:d}=t.visualViewport;o.value=Math.round(f*d),l.value=Math.round(h*d)}else a?(o.value=t.innerWidth,l.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight)};u(),Dc(u);const c={passive:!0};if(No("resize",u,c),t&&s==="visual"&&t.visualViewport&&No(t.visualViewport,"resize",u,c),i){const f=fo("(orientation: portrait)");xr(f,()=>u())}return{width:o,height:l}}var yD=typeof global=="object"&&global&&global.Object===Object&&global,J9=typeof self=="object"&&self&&self.Object===Object&&self,Ea=yD||J9||Function("return this")(),wa=Ea.Symbol,bD=Object.prototype,eW=bD.hasOwnProperty,tW=bD.toString,fu=wa?wa.toStringTag:void 0;function rW(e){var t=eW.call(e,fu),r=e[fu];try{e[fu]=void 0;var n=!0}catch{}var i=tW.call(e);return n&&(t?e[fu]=r:delete e[fu]),i}var nW=Object.prototype,iW=nW.toString;function aW(e){return iW.call(e)}var sW="[object Null]",oW="[object Undefined]",nk=wa?wa.toStringTag:void 0;function Xl(e){return e==null?e===void 0?oW:sW:nk&&nk in Object(e)?rW(e):aW(e)}function Kl(e){return e!=null&&typeof e=="object"}var lW="[object Symbol]";function B_(e){return typeof e=="symbol"||Kl(e)&&Xl(e)==lW}function uW(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var es=Array.isArray,ik=wa?wa.prototype:void 0,ak=ik?ik.toString:void 0;function wD(e){if(typeof e=="string")return e;if(es(e))return uW(e,wD)+"";if(B_(e))return ak?ak.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Co(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function cW(e){return e}var fW="[object AsyncFunction]",hW="[object Function]",dW="[object GeneratorFunction]",pW="[object Proxy]";function xD(e){if(!Co(e))return!1;var t=Xl(e);return t==hW||t==dW||t==fW||t==pW}var Ev=Ea["__core-js_shared__"],sk=function(){var e=/[^.]+$/.exec(Ev&&Ev.keys&&Ev.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vW(e){return!!sk&&sk in e}var gW=Function.prototype,mW=gW.toString;function $o(e){if(e!=null){try{return mW.call(e)}catch{}try{return e+""}catch{}}return""}var yW=/[\\^$.*+?()[\]{}|]/g,bW=/^\[object .+?Constructor\]$/,wW=Function.prototype,xW=Object.prototype,_W=wW.toString,EW=xW.hasOwnProperty,SW=RegExp("^"+_W.call(EW).replace(yW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kW(e){if(!Co(e)||vW(e))return!1;var t=xD(e)?SW:bW;return t.test($o(e))}function TW(e,t){return e==null?void 0:e[t]}function qo(e,t){var r=TW(e,t);return kW(r)?r:void 0}var Cw=qo(Ea,"WeakMap"),ok=Object.create,MW=function(){function e(){}return function(t){if(!Co(t))return{};if(ok)return ok(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function AW(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function OW(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var PW=800,NW=16,CW=Date.now;function RW(e){var t=0,r=0;return function(){var n=CW(),i=NW-(n-r);if(r=n,i>0){if(++t>=PW)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function LW(e){return function(){return e}}var Qh=function(){try{var e=qo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),IW=Qh?function(e,t){return Qh(e,"toString",{configurable:!0,enumerable:!1,value:LW(t),writable:!0})}:cW,DW=RW(IW);function FW(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var BW=9007199254740991,$W=/^(?:0|[1-9]\d*)$/;function $_(e,t){var r=typeof e;return t=t??BW,!!t&&(r=="number"||r!="symbol"&&$W.test(e))&&e>-1&&e%1==0&&e<t}function _D(e,t,r){t=="__proto__"&&Qh?Qh(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ED(e,t){return e===t||e!==e&&t!==t}var qW=Object.prototype,zW=qW.hasOwnProperty;function q_(e,t,r){var n=e[t];(!(zW.call(e,t)&&ED(n,r))||r===void 0&&!(t in e))&&_D(e,t,r)}function sp(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=void 0;l===void 0&&(l=e[o]),i?_D(r,o,l):q_(r,o,l)}return r}var lk=Math.max;function jW(e,t,r){return t=lk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=lk(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),AW(e,this,o)}}var GW=9007199254740991;function z_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GW}function SD(e){return e!=null&&z_(e.length)&&!xD(e)}var WW=Object.prototype;function j_(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||WW;return e===r}function VW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var UW="[object Arguments]";function uk(e){return Kl(e)&&Xl(e)==UW}var kD=Object.prototype,HW=kD.hasOwnProperty,YW=kD.propertyIsEnumerable,G_=uk(function(){return arguments}())?uk:function(e){return Kl(e)&&HW.call(e,"callee")&&!YW.call(e,"callee")};function XW(){return!1}var TD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ck=TD&&typeof module=="object"&&module&&!module.nodeType&&module,KW=ck&&ck.exports===TD,fk=KW?Ea.Buffer:void 0,ZW=fk?fk.isBuffer:void 0,MD=ZW||XW,QW="[object Arguments]",JW="[object Array]",eV="[object Boolean]",tV="[object Date]",rV="[object Error]",nV="[object Function]",iV="[object Map]",aV="[object Number]",sV="[object Object]",oV="[object RegExp]",lV="[object Set]",uV="[object String]",cV="[object WeakMap]",fV="[object ArrayBuffer]",hV="[object DataView]",dV="[object Float32Array]",pV="[object Float64Array]",vV="[object Int8Array]",gV="[object Int16Array]",mV="[object Int32Array]",yV="[object Uint8Array]",bV="[object Uint8ClampedArray]",wV="[object Uint16Array]",xV="[object Uint32Array]",rr={};rr[dV]=rr[pV]=rr[vV]=rr[gV]=rr[mV]=rr[yV]=rr[bV]=rr[wV]=rr[xV]=!0;rr[QW]=rr[JW]=rr[fV]=rr[eV]=rr[hV]=rr[tV]=rr[rV]=rr[nV]=rr[iV]=rr[aV]=rr[sV]=rr[oV]=rr[lV]=rr[uV]=rr[cV]=!1;function _V(e){return Kl(e)&&z_(e.length)&&!!rr[Xl(e)]}function W_(e){return function(t){return e(t)}}var AD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wu=AD&&typeof module=="object"&&module&&!module.nodeType&&module,EV=Wu&&Wu.exports===AD,Sv=EV&&yD.process,Ol=function(){try{var e=Wu&&Wu.require&&Wu.require("util").types;return e||Sv&&Sv.binding&&Sv.binding("util")}catch{}}(),hk=Ol&&Ol.isTypedArray,SV=hk?W_(hk):_V,kV=Object.prototype,TV=kV.hasOwnProperty;function OD(e,t){var r=es(e),n=!r&&G_(e),i=!r&&!n&&MD(e),a=!r&&!n&&!i&&SV(e),s=r||n||i||a,o=s?VW(e.length,String):[],l=o.length;for(var u in e)(t||TV.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$_(u,l)))&&o.push(u);return o}function PD(e,t){return function(r){return e(t(r))}}var MV=PD(Object.keys,Object),AV=Object.prototype,OV=AV.hasOwnProperty;function PV(e){if(!j_(e))return MV(e);var t=[];for(var r in Object(e))OV.call(e,r)&&r!="constructor"&&t.push(r);return t}function ND(e){return SD(e)?OD(e):PV(e)}function NV(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var CV=Object.prototype,RV=CV.hasOwnProperty;function LV(e){if(!Co(e))return NV(e);var t=j_(e),r=[];for(var n in e)n=="constructor"&&(t||!RV.call(e,n))||r.push(n);return r}function IV(e){return SD(e)?OD(e,!0):LV(e)}var DV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FV=/^\w*$/;function BV(e,t){if(es(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||B_(e)?!0:FV.test(e)||!DV.test(e)||t!=null&&e in Object(t)}var hc=qo(Object,"create");function $V(){this.__data__=hc?hc(null):{},this.size=0}function qV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zV="__lodash_hash_undefined__",jV=Object.prototype,GV=jV.hasOwnProperty;function WV(e){var t=this.__data__;if(hc){var r=t[e];return r===zV?void 0:r}return GV.call(t,e)?t[e]:void 0}var VV=Object.prototype,UV=VV.hasOwnProperty;function HV(e){var t=this.__data__;return hc?t[e]!==void 0:UV.call(t,e)}var YV="__lodash_hash_undefined__";function XV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hc&&t===void 0?YV:t,this}function Ro(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ro.prototype.clear=$V;Ro.prototype.delete=qV;Ro.prototype.get=WV;Ro.prototype.has=HV;Ro.prototype.set=XV;function KV(){this.__data__=[],this.size=0}function op(e,t){for(var r=e.length;r--;)if(ED(e[r][0],t))return r;return-1}var ZV=Array.prototype,QV=ZV.splice;function JV(e){var t=this.__data__,r=op(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():QV.call(t,r,1),--this.size,!0}function e7(e){var t=this.__data__,r=op(t,e);return r<0?void 0:t[r][1]}function t7(e){return op(this.__data__,e)>-1}function r7(e,t){var r=this.__data__,n=op(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ts(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ts.prototype.clear=KV;ts.prototype.delete=JV;ts.prototype.get=e7;ts.prototype.has=t7;ts.prototype.set=r7;var dc=qo(Ea,"Map");function n7(){this.size=0,this.__data__={hash:new Ro,map:new(dc||ts),string:new Ro}}function i7(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lp(e,t){var r=e.__data__;return i7(t)?r[typeof t=="string"?"string":"hash"]:r.map}function a7(e){var t=lp(this,e).delete(e);return this.size-=t?1:0,t}function s7(e){return lp(this,e).get(e)}function o7(e){return lp(this,e).has(e)}function l7(e,t){var r=lp(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Hs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hs.prototype.clear=n7;Hs.prototype.delete=a7;Hs.prototype.get=s7;Hs.prototype.has=o7;Hs.prototype.set=l7;var u7="Expected a function";function V_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(u7);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(V_.Cache||Hs),r}V_.Cache=Hs;var c7=500;function f7(e){var t=V_(e,function(n){return r.size===c7&&r.clear(),n}),r=t.cache;return t}var h7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d7=/\\(\\)?/g,p7=f7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(h7,function(r,n,i,a){t.push(i?a.replace(d7,"$1"):n||r)}),t});function v7(e){return e==null?"":wD(e)}function up(e,t){return es(e)?e:BV(e,t)?[e]:p7(v7(e))}function U_(e){if(typeof e=="string"||B_(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function CD(e,t){t=up(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[U_(t[r++])];return r&&r==n?e:void 0}function pve(e,t,r){var n=e==null?void 0:CD(e,t);return n===void 0?r:n}function H_(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var dk=wa?wa.isConcatSpreadable:void 0;function g7(e){return es(e)||G_(e)||!!(dk&&e&&e[dk])}function m7(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=g7),i||(i=[]);++a<s;){var o=e[a];r(o)?H_(i,o):i[i.length]=o}return i}function y7(e){var t=e==null?0:e.length;return t?m7(e):[]}function b7(e){return DW(jW(e,void 0,y7),e+"")}var RD=PD(Object.getPrototypeOf,Object);function vve(){if(!arguments.length)return[];var e=arguments[0];return es(e)?e:[e]}function w7(){this.__data__=new ts,this.size=0}function x7(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function _7(e){return this.__data__.get(e)}function E7(e){return this.__data__.has(e)}var S7=200;function k7(e,t){var r=this.__data__;if(r instanceof ts){var n=r.__data__;if(!dc||n.length<S7-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hs(n)}return r.set(e,t),this.size=r.size,this}function Zl(e){var t=this.__data__=new ts(e);this.size=t.size}Zl.prototype.clear=w7;Zl.prototype.delete=x7;Zl.prototype.get=_7;Zl.prototype.has=E7;Zl.prototype.set=k7;function T7(e,t){return e&&sp(t,ND(t),e)}function M7(e,t){return e&&sp(t,IV(t),e)}var LD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pk=LD&&typeof module=="object"&&module&&!module.nodeType&&module,A7=pk&&pk.exports===LD,vk=A7?Ea.Buffer:void 0,gk=vk?vk.allocUnsafe:void 0;function O7(e,t){var r=e.length,n=gk?gk(r):new e.constructor(r);return e.copy(n),n}function P7(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}function ID(){return[]}var N7=Object.prototype,C7=N7.propertyIsEnumerable,mk=Object.getOwnPropertySymbols,Y_=mk?function(e){return e==null?[]:(e=Object(e),P7(mk(e),function(t){return C7.call(e,t)}))}:ID;function R7(e,t){return sp(e,Y_(e),t)}var L7=Object.getOwnPropertySymbols,I7=L7?function(e){for(var t=[];e;)H_(t,Y_(e)),e=RD(e);return t}:ID;function D7(e,t){return sp(e,I7(e),t)}function F7(e,t,r){var n=t(e);return es(e)?n:H_(n,r(e))}function B7(e){return F7(e,ND,Y_)}var Rw=qo(Ea,"DataView"),Lw=qo(Ea,"Promise"),Iw=qo(Ea,"Set"),yk="[object Map]",$7="[object Object]",bk="[object Promise]",wk="[object Set]",xk="[object WeakMap]",_k="[object DataView]",q7=$o(Rw),z7=$o(dc),j7=$o(Lw),G7=$o(Iw),W7=$o(Cw),Ra=Xl;(Rw&&Ra(new Rw(new ArrayBuffer(1)))!=_k||dc&&Ra(new dc)!=yk||Lw&&Ra(Lw.resolve())!=bk||Iw&&Ra(new Iw)!=wk||Cw&&Ra(new Cw)!=xk)&&(Ra=function(e){var t=Xl(e),r=t==$7?e.constructor:void 0,n=r?$o(r):"";if(n)switch(n){case q7:return _k;case z7:return yk;case j7:return bk;case G7:return wk;case W7:return xk}return t});var V7=Object.prototype,U7=V7.hasOwnProperty;function H7(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&U7.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ek=Ea.Uint8Array;function Y7(e){var t=new e.constructor(e.byteLength);return new Ek(t).set(new Ek(e)),t}function X7(e,t){var r=e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var K7=/\w*$/;function Z7(e){var t=new e.constructor(e.source,K7.exec(e));return t.lastIndex=e.lastIndex,t}var Sk=wa?wa.prototype:void 0,kk=Sk?Sk.valueOf:void 0;function Q7(e){return kk?Object(kk.call(e)):{}}function J7(e,t){var r=e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var eU="[object Boolean]",tU="[object Date]",rU="[object Map]",nU="[object Number]",iU="[object RegExp]",aU="[object Set]",sU="[object String]",oU="[object Symbol]",lU="[object ArrayBuffer]",uU="[object DataView]",cU="[object Float32Array]",fU="[object Float64Array]",hU="[object Int8Array]",dU="[object Int16Array]",pU="[object Int32Array]",vU="[object Uint8Array]",gU="[object Uint8ClampedArray]",mU="[object Uint16Array]",yU="[object Uint32Array]";function bU(e,t,r){var n=e.constructor;switch(t){case lU:return Y7(e);case eU:case tU:return new n(+e);case uU:return X7(e);case cU:case fU:case hU:case dU:case pU:case vU:case gU:case mU:case yU:return J7(e);case rU:return new n;case nU:case sU:return new n(e);case iU:return Z7(e);case aU:return new n;case oU:return Q7(e)}}function wU(e){return typeof e.constructor=="function"&&!j_(e)?MW(RD(e)):{}}var xU="[object Map]";function _U(e){return Kl(e)&&Ra(e)==xU}var Tk=Ol&&Ol.isMap,EU=Tk?W_(Tk):_U,SU="[object Set]";function kU(e){return Kl(e)&&Ra(e)==SU}var Mk=Ol&&Ol.isSet,TU=Mk?W_(Mk):kU,MU=2,DD="[object Arguments]",AU="[object Array]",OU="[object Boolean]",PU="[object Date]",NU="[object Error]",FD="[object Function]",CU="[object GeneratorFunction]",RU="[object Map]",LU="[object Number]",BD="[object Object]",IU="[object RegExp]",DU="[object Set]",FU="[object String]",BU="[object Symbol]",$U="[object WeakMap]",qU="[object ArrayBuffer]",zU="[object DataView]",jU="[object Float32Array]",GU="[object Float64Array]",WU="[object Int8Array]",VU="[object Int16Array]",UU="[object Int32Array]",HU="[object Uint8Array]",YU="[object Uint8ClampedArray]",XU="[object Uint16Array]",KU="[object Uint32Array]",Wt={};Wt[DD]=Wt[AU]=Wt[qU]=Wt[zU]=Wt[OU]=Wt[PU]=Wt[jU]=Wt[GU]=Wt[WU]=Wt[VU]=Wt[UU]=Wt[RU]=Wt[LU]=Wt[BD]=Wt[IU]=Wt[DU]=Wt[FU]=Wt[BU]=Wt[HU]=Wt[YU]=Wt[XU]=Wt[KU]=!0;Wt[NU]=Wt[FD]=Wt[$U]=!1;function Eh(e,t,r,n,i,a){var s,o=t&MU;if(s!==void 0)return s;if(!Co(e))return e;var l=es(e);if(l)return s=H7(e),OW(e,s);var u=Ra(e),c=u==FD||u==CU;if(MD(e))return O7(e);if(u==BD||u==DD||c&&!i)return s=c?{}:wU(e),o?D7(e,M7(s,e)):R7(e,T7(s,e));if(!Wt[u])return i?e:{};s=bU(e,u),a||(a=new Zl);var f=a.get(e);if(f)return f;a.set(e,s),TU(e)?e.forEach(function(p){s.add(Eh(p,t,r,p,e,a))}):EU(e)&&e.forEach(function(p,v){s.set(v,Eh(p,t,r,v,e,a))});var h=B7,d=l?void 0:h(e);return FW(d||e,function(p,v){d&&(v=p,p=e[v]),q_(s,v,Eh(p,t,r,v,e,a))}),s}var ZU=4;function gve(e){return Eh(e,ZU)}function QU(e,t){return e!=null&&t in Object(e)}function JU(e,t,r){t=up(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=U_(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&z_(i)&&$_(s,i)&&(es(e)||G_(e)))}function eH(e,t){return e!=null&&JU(e,t,QU)}function mve(e){for(var t=-1,r=e==null?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n}function yve(e){return e==null}function bve(e){return e===void 0}function $D(e,t,r,n){if(!Co(e))return e;t=up(t,e);for(var i=-1,a=t.length,s=a-1,o=e;o!=null&&++i<a;){var l=U_(t[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=s){var c=o[l];u=void 0,u===void 0&&(u=Co(c)?c:$_(t[i+1])?[]:{})}q_(o,l,u),o=o[l]}return e}function tH(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var s=t[n],o=CD(e,s);r(o,s)&&$D(a,up(s,e),o)}return a}function rH(e,t){return tH(e,t,function(r,n){return eH(e,n)})}var wve=b7(function(e,t){return e==null?{}:rH(e,t)});function xve(e,t,r){return e==null?e:$D(e,t,r)}var nH=Object.defineProperty,iH=Object.defineProperties,aH=Object.getOwnPropertyDescriptors,Ak=Object.getOwnPropertySymbols,sH=Object.prototype.hasOwnProperty,oH=Object.prototype.propertyIsEnumerable,Ok=(e,t,r)=>t in e?nH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lH=(e,t)=>{for(var r in t||(t={}))sH.call(t,r)&&Ok(e,r,t[r]);if(Ak)for(var r of Ak(t))oH.call(t,r)&&Ok(e,r,t[r]);return e},uH=(e,t)=>iH(e,aH(t));function _ve(e,t){var r;const n=Fn();return e3(()=>{n.value=e()},uH(lH({},t),{flush:(r=void 0)!=null?r:"sync"})),Wl(n)}var Pk;const X_=typeof window<"u",cH=e=>typeof e=="string",Jh=()=>{},fH=X_&&((Pk=window==null?void 0:window.navigator)==null?void 0:Pk.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function pc(e){return typeof e=="function"?e():Pc(e)}function hH(e,t){function r(...n){return new Promise((i,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(a)})}return r}function dH(e,t={}){let r,n,i=Jh;const a=o=>{clearTimeout(o),i(),i=Jh};return o=>{const l=pc(e),u=pc(t.maxWait);return r&&a(r),l<=0||u!==void 0&&u<=0?(n&&(a(n),n=null),Promise.resolve(o())):new Promise((c,f)=>{i=t.rejectOnCancel?f:c,u&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,c(o())},u)),r=setTimeout(()=>{n&&a(n),n=null,c(o())},l)})}}function pH(e){return e}function K_(e){return Vd()?(s_(e),!0):!1}function vH(e,t=200,r={}){return hH(dH(t,r),e)}function Eve(e,t=200,r={}){const n=Gr(e.value),i=vH(()=>{n.value=e.value},t,r);return xr(e,()=>i()),n}function gH(e,t=!0){jn()?Ws(e):t?e():As(e)}function Sve(e,t,r={}){const{immediate:n=!0}=r,i=Gr(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){i.value=!1,s()}function l(...u){s(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,e(...u)},pc(t))}return n&&(i.value=!0,X_&&l()),K_(o),{isPending:Wl(i),start:l,stop:o}}function ul(e){var t;const r=pc(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Z_=X_?window:void 0;function kv(...e){let t,r,n,i;if(cH(e[0])||Array.isArray(e[0])?([r,n,i]=e,t=Z_):[t,r,n,i]=e,!t)return Jh;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],s=()=>{a.forEach(c=>c()),a.length=0},o=(c,f,h,d)=>(c.addEventListener(f,h,d),()=>c.removeEventListener(f,h,d)),l=xr(()=>[ul(t),pc(i)],([c,f])=>{s(),c&&a.push(...r.flatMap(h=>n.map(d=>o(c,h,d,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),s()};return K_(u),u}let Nk=!1;function kve(e,t,r={}){const{window:n=Z_,ignore:i=[],capture:a=!0,detectIframe:s=!1}=r;if(!n)return;fH&&!Nk&&(Nk=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",Jh)));let o=!0;const l=h=>i.some(d=>{if(typeof d=="string")return Array.from(n.document.querySelectorAll(d)).some(p=>p===h.target||h.composedPath().includes(p));{const p=ul(d);return p&&(h.target===p||h.composedPath().includes(p))}}),c=[kv(n,"click",h=>{const d=ul(e);if(!(!d||d===h.target||h.composedPath().includes(d))){if(h.detail===0&&(o=!l(h)),!o){o=!0;return}t(h)}},{passive:!0,capture:a}),kv(n,"pointerdown",h=>{const d=ul(e);d&&(o=!h.composedPath().includes(d)&&!l(h))},{passive:!0}),s&&kv(n,"blur",h=>{var d;const p=ul(e);((d=n.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(n.document.activeElement))&&t(h)})].filter(Boolean);return()=>c.forEach(h=>h())}function mH(e,t=!1){const r=Gr(),n=()=>r.value=!!e();return n(),gH(n,t),r}const Ck=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rk="__vueuse_ssr_handlers__";Ck[Rk]=Ck[Rk]||{};var Lk=Object.getOwnPropertySymbols,yH=Object.prototype.hasOwnProperty,bH=Object.prototype.propertyIsEnumerable,wH=(e,t)=>{var r={};for(var n in e)yH.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Lk)for(var n of Lk(e))t.indexOf(n)<0&&bH.call(e,n)&&(r[n]=e[n]);return r};function Tve(e,t,r={}){const n=r,{window:i=Z_}=n,a=wH(n,["window"]);let s;const o=mH(()=>i&&"ResizeObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},u=xr(()=>ul(e),f=>{l(),o.value&&i&&f&&(s=new ResizeObserver(t),s.observe(f,a))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return K_(c),{isSupported:o,stop:c}}var Ik;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ik||(Ik={}));var xH=Object.defineProperty,Dk=Object.getOwnPropertySymbols,_H=Object.prototype.hasOwnProperty,EH=Object.prototype.propertyIsEnumerable,Fk=(e,t,r)=>t in e?xH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,SH=(e,t)=>{for(var r in t||(t={}))_H.call(t,r)&&Fk(e,r,t[r]);if(Dk)for(var r of Dk(t))EH.call(t,r)&&Fk(e,r,t[r]);return e};const kH={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};SH({linear:pH},kH);var Bn="top",xi="bottom",_i="right",$n="left",Q_="auto",Fc=[Bn,xi,_i,$n],Pl="start",vc="end",TH="clippingParents",qD="viewport",hu="popper",MH="reference",Bk=Fc.reduce(function(e,t){return e.concat([t+"-"+Pl,t+"-"+vc])},[]),zD=[].concat(Fc,[Q_]).reduce(function(e,t){return e.concat([t,t+"-"+Pl,t+"-"+vc])},[]),AH="beforeRead",OH="read",PH="afterRead",NH="beforeMain",CH="main",RH="afterMain",LH="beforeWrite",IH="write",DH="afterWrite",FH=[AH,OH,PH,NH,CH,RH,LH,IH,DH];function xa(e){return e?(e.nodeName||"").toLowerCase():null}function Hi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Nl(e){var t=Hi(e).Element;return e instanceof t||e instanceof Element}function yi(e){var t=Hi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function J_(e){if(typeof ShadowRoot>"u")return!1;var t=Hi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function BH(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},a=t.elements[r];!yi(a)||!xa(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function $H(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),o=s.reduce(function(l,u){return l[u]="",l},{});!yi(i)||!xa(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var jD={name:"applyStyles",enabled:!0,phase:"write",fn:BH,effect:$H,requires:["computeStyles"]};function ma(e){return e.split("-")[0]}var So=Math.max,ed=Math.min,Cl=Math.round;function Rl(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,i=1;if(yi(e)&&t){var a=e.offsetHeight,s=e.offsetWidth;s>0&&(n=Cl(r.width)/s||1),a>0&&(i=Cl(r.height)/a||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function e2(e){var t=Rl(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function GD(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&J_(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ya(e){return Hi(e).getComputedStyle(e)}function qH(e){return["table","td","th"].indexOf(xa(e))>=0}function Ys(e){return((Nl(e)?e.ownerDocument:e.document)||window.document).documentElement}function cp(e){return xa(e)==="html"?e:e.assignedSlot||e.parentNode||(J_(e)?e.host:null)||Ys(e)}function $k(e){return!yi(e)||Ya(e).position==="fixed"?null:e.offsetParent}function zH(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&yi(e)){var n=Ya(e);if(n.position==="fixed")return null}var i=cp(e);for(J_(i)&&(i=i.host);yi(i)&&["html","body"].indexOf(xa(i))<0;){var a=Ya(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Bc(e){for(var t=Hi(e),r=$k(e);r&&qH(r)&&Ya(r).position==="static";)r=$k(r);return r&&(xa(r)==="html"||xa(r)==="body"&&Ya(r).position==="static")?t:r||zH(e)||t}function t2(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vu(e,t,r){return So(e,ed(t,r))}function jH(e,t,r){var n=Vu(e,t,r);return n>r?r:n}function WD(){return{top:0,right:0,bottom:0,left:0}}function VD(e){return Object.assign({},WD(),e)}function UD(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var GH=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,VD(typeof e!="number"?e:UD(e,Fc))};function WH(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,o=ma(r.placement),l=t2(o),u=[$n,_i].indexOf(o)>=0,c=u?"height":"width";if(!(!a||!s)){var f=GH(i.padding,r),h=e2(a),d=l==="y"?Bn:$n,p=l==="y"?xi:_i,v=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],g=s[l]-r.rects.reference[l],m=Bc(a),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,b=v/2-g/2,x=f[d],E=y-h[c]-f[p],S=y/2-h[c]/2+b,_=Vu(x,S,E),k=l;r.modifiersData[n]=(t={},t[k]=_,t.centerOffset=_-S,t)}}function VH(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!GD(t.elements.popper,i)||(t.elements.arrow=i))}var UH={name:"arrow",enabled:!0,phase:"main",fn:WH,effect:VH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ll(e){return e.split("-")[1]}var HH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YH(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:Cl(t*i)/i||0,y:Cl(r*i)/i||0}}function qk(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=s.x,d=h===void 0?0:h,p=s.y,v=p===void 0?0:p,g=typeof c=="function"?c({x:d,y:v}):{x:d,y:v};d=g.x,v=g.y;var m=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=$n,x=Bn,E=window;if(u){var S=Bc(r),_="clientHeight",k="clientWidth";if(S===Hi(r)&&(S=Ys(r),Ya(S).position!=="static"&&o==="absolute"&&(_="scrollHeight",k="scrollWidth")),S=S,i===Bn||(i===$n||i===_i)&&a===vc){x=xi;var O=f&&S===E&&E.visualViewport?E.visualViewport.height:S[_];v-=O-n.height,v*=l?1:-1}if(i===$n||(i===Bn||i===xi)&&a===vc){b=_i;var P=f&&S===E&&E.visualViewport?E.visualViewport.width:S[k];d-=P-n.width,d*=l?1:-1}}var N=Object.assign({position:o},u&&HH),R=c===!0?YH({x:d,y:v}):{x:d,y:v};if(d=R.x,v=R.y,l){var L;return Object.assign({},N,(L={},L[x]=y?"0":"",L[b]=m?"0":"",L.transform=(E.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",L))}return Object.assign({},N,(t={},t[x]=y?v+"px":"",t[b]=m?d+"px":"",t.transform="",t))}function XH(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:ma(t.placement),variation:Ll(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,qk(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,qk(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var HD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:XH,data:{}},wf={passive:!0};function KH(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,s=n.resize,o=s===void 0?!0:s,l=Hi(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",r.update,wf)}),o&&l.addEventListener("resize",r.update,wf),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",r.update,wf)}),o&&l.removeEventListener("resize",r.update,wf)}}var YD={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:KH,data:{}},ZH={left:"right",right:"left",bottom:"top",top:"bottom"};function Sh(e){return e.replace(/left|right|bottom|top/g,function(t){return ZH[t]})}var QH={start:"end",end:"start"};function zk(e){return e.replace(/start|end/g,function(t){return QH[t]})}function r2(e){var t=Hi(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function n2(e){return Rl(Ys(e)).left+r2(e).scrollLeft}function JH(e){var t=Hi(e),r=Ys(e),n=t.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,o=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,o=n.offsetTop)),{width:i,height:a,x:s+n2(e),y:o}}function eY(e){var t,r=Ys(e),n=r2(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=So(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=So(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+n2(e),l=-n.scrollTop;return Ya(i||r).direction==="rtl"&&(o+=So(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function i2(e){var t=Ya(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function XD(e){return["html","body","#document"].indexOf(xa(e))>=0?e.ownerDocument.body:yi(e)&&i2(e)?e:XD(cp(e))}function Uu(e,t){var r;t===void 0&&(t=[]);var n=XD(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=Hi(n),s=i?[a].concat(a.visualViewport||[],i2(n)?n:[]):n,o=t.concat(s);return i?o:o.concat(Uu(cp(s)))}function Dw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tY(e){var t=Rl(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function jk(e,t){return t===qD?Dw(JH(e)):Nl(t)?tY(t):Dw(eY(Ys(e)))}function rY(e){var t=Uu(cp(e)),r=["absolute","fixed"].indexOf(Ya(e).position)>=0,n=r&&yi(e)?Bc(e):e;return Nl(n)?t.filter(function(i){return Nl(i)&&GD(i,n)&&xa(i)!=="body"}):[]}function nY(e,t,r){var n=t==="clippingParents"?rY(e):[].concat(t),i=[].concat(n,[r]),a=i[0],s=i.reduce(function(o,l){var u=jk(e,l);return o.top=So(u.top,o.top),o.right=ed(u.right,o.right),o.bottom=ed(u.bottom,o.bottom),o.left=So(u.left,o.left),o},jk(e,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function KD(e){var t=e.reference,r=e.element,n=e.placement,i=n?ma(n):null,a=n?Ll(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(i){case Bn:l={x:s,y:t.y-r.height};break;case xi:l={x:s,y:t.y+t.height};break;case _i:l={x:t.x+t.width,y:o};break;case $n:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var u=i?t2(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case Pl:l[u]=l[u]-(t[c]/2-r[c]/2);break;case vc:l[u]=l[u]+(t[c]/2-r[c]/2);break}}return l}function gc(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.boundary,s=a===void 0?TH:a,o=r.rootBoundary,l=o===void 0?qD:o,u=r.elementContext,c=u===void 0?hu:u,f=r.altBoundary,h=f===void 0?!1:f,d=r.padding,p=d===void 0?0:d,v=VD(typeof p!="number"?p:UD(p,Fc)),g=c===hu?MH:hu,m=e.rects.popper,y=e.elements[h?g:c],b=nY(Nl(y)?y:y.contextElement||Ys(e.elements.popper),s,l),x=Rl(e.elements.reference),E=KD({reference:x,element:m,placement:i}),S=Dw(Object.assign({},m,E)),_=c===hu?S:x,k={top:b.top-_.top+v.top,bottom:_.bottom-b.bottom+v.bottom,left:b.left-_.left+v.left,right:_.right-b.right+v.right},O=e.modifiersData.offset;if(c===hu&&O){var P=O[i];Object.keys(k).forEach(function(N){var R=[_i,xi].indexOf(N)>=0?1:-1,L=[Bn,xi].indexOf(N)>=0?"y":"x";k[N]+=P[L]*R})}return k}function iY(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?zD:l,c=Ll(n),f=c?o?Bk:Bk.filter(function(p){return Ll(p)===c}):Fc,h=f.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=f);var d=h.reduce(function(p,v){return p[v]=gc(e,{placement:v,boundary:i,rootBoundary:a,padding:s})[ma(v)],p},{});return Object.keys(d).sort(function(p,v){return d[p]-d[v]})}function aY(e){if(ma(e)===Q_)return[];var t=Sh(e);return[zk(e),t,zk(t)]}function sY(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,h=r.altBoundary,d=r.flipVariations,p=d===void 0?!0:d,v=r.allowedAutoPlacements,g=t.options.placement,m=ma(g),y=m===g,b=l||(y||!p?[Sh(g)]:aY(g)),x=[g].concat(b).reduce(function(ee,U){return ee.concat(ma(U)===Q_?iY(t,{placement:U,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:v}):U)},[]),E=t.rects.reference,S=t.rects.popper,_=new Map,k=!0,O=x[0],P=0;P<x.length;P++){var N=x[P],R=ma(N),L=Ll(N)===Pl,D=[Bn,xi].indexOf(R)>=0,$=D?"width":"height",X=gc(t,{placement:N,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),K=D?L?_i:$n:L?xi:Bn;E[$]>S[$]&&(K=Sh(K));var V=Sh(K),ne=[];if(a&&ne.push(X[R]<=0),o&&ne.push(X[K]<=0,X[V]<=0),ne.every(function(ee){return ee})){O=N,k=!1;break}_.set(N,ne)}if(k)for(var we=p?3:1,Se=function(ee){var U=x.find(function(le){var Z=_.get(le);if(Z)return Z.slice(0,ee).every(function(se){return se})});if(U)return O=U,"break"},pe=we;pe>0;pe--){var qe=Se(pe);if(qe==="break")break}t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}}var oY={name:"flip",enabled:!0,phase:"main",fn:sY,requiresIfExists:["offset"],data:{_skip:!1}};function Gk(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Wk(e){return[Bn,_i,xi,$n].some(function(t){return e[t]>=0})}function lY(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=gc(t,{elementContext:"reference"}),o=gc(t,{altBoundary:!0}),l=Gk(s,n),u=Gk(o,i,a),c=Wk(l),f=Wk(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var uY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lY};function cY(e,t,r){var n=ma(e),i=[$n,Bn].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[$n,_i].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function fY(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,s=zD.reduce(function(c,f){return c[f]=cY(f,t.rects,a),c},{}),o=s[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=s}var hY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fY};function dY(e){var t=e.state,r=e.name;t.modifiersData[r]=KD({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var ZD={name:"popperOffsets",enabled:!0,phase:"read",fn:dY,data:{}};function pY(e){return e==="x"?"y":"x"}function vY(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,h=r.tether,d=h===void 0?!0:h,p=r.tetherOffset,v=p===void 0?0:p,g=gc(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=ma(t.placement),y=Ll(t.placement),b=!y,x=t2(m),E=pY(x),S=t.modifiersData.popperOffsets,_=t.rects.reference,k=t.rects.popper,O=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,P=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(S){if(a){var L,D=x==="y"?Bn:$n,$=x==="y"?xi:_i,X=x==="y"?"height":"width",K=S[x],V=K+g[D],ne=K-g[$],we=d?-k[X]/2:0,Se=y===Pl?_[X]:k[X],pe=y===Pl?-k[X]:-_[X],qe=t.elements.arrow,ee=d&&qe?e2(qe):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:WD(),le=U[D],Z=U[$],se=Vu(0,_[X],ee[X]),ve=b?_[X]/2-we-se-le-P.mainAxis:Se-se-le-P.mainAxis,ge=b?-_[X]/2+we+se+Z+P.mainAxis:pe+se+Z+P.mainAxis,Me=t.elements.arrow&&Bc(t.elements.arrow),W=Me?x==="y"?Me.clientTop||0:Me.clientLeft||0:0,H=(L=N==null?void 0:N[x])!=null?L:0,oe=K+ve-H-W,ce=K+ge-H,xe=Vu(d?ed(V,oe):V,K,d?So(ne,ce):ne);S[x]=xe,R[x]=xe-K}if(o){var de,G=x==="x"?Bn:$n,j=x==="x"?xi:_i,re=S[E],ue=E==="y"?"height":"width",Pe=re+g[G],me=re-g[j],te=[Bn,$n].indexOf(m)!==-1,fe=(de=N==null?void 0:N[E])!=null?de:0,Fe=te?Pe:re-_[ue]-k[ue]-fe+P.altAxis,He=te?re+_[ue]+k[ue]-fe-P.altAxis:me,Je=d&&te?jH(Fe,re,He):Vu(d?Fe:Pe,re,d?He:me);S[E]=Je,R[E]=Je-re}t.modifiersData[n]=R}}var gY={name:"preventOverflow",enabled:!0,phase:"main",fn:vY,requiresIfExists:["offset"]};function mY(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function yY(e){return e===Hi(e)||!yi(e)?r2(e):mY(e)}function bY(e){var t=e.getBoundingClientRect(),r=Cl(t.width)/e.offsetWidth||1,n=Cl(t.height)/e.offsetHeight||1;return r!==1||n!==1}function wY(e,t,r){r===void 0&&(r=!1);var n=yi(t),i=yi(t)&&bY(t),a=Ys(t),s=Rl(e,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((xa(t)!=="body"||i2(a))&&(o=yY(t)),yi(t)?(l=Rl(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=n2(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function xY(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&i(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function _Y(e){var t=xY(e);return FH.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function EY(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function SY(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Vk={placement:"bottom",modifiers:[],strategy:"absolute"};function Uk(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function a2(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?Vk:i;return function(s,o,l){l===void 0&&(l=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vk,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},c=[],f=!1,h={state:u,setOptions:function(v){var g=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},a,u.options,g),u.scrollParents={reference:Nl(s)?Uu(s):s.contextElement?Uu(s.contextElement):[],popper:Uu(o)};var m=_Y(SY([].concat(n,u.options.modifiers)));return u.orderedModifiers=m.filter(function(y){return y.enabled}),d(),h.update()},forceUpdate:function(){if(!f){var v=u.elements,g=v.reference,m=v.popper;if(Uk(g,m)){u.rects={reference:wY(g,Bc(m),u.options.strategy==="fixed"),popper:e2(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var b=u.orderedModifiers[y],x=b.fn,E=b.options,S=E===void 0?{}:E,_=b.name;typeof x=="function"&&(u=x({state:u,options:S,name:_,instance:h})||u)}}}},update:EY(function(){return new Promise(function(v){h.forceUpdate(),v(u)})}),destroy:function(){p(),f=!0}};if(!Uk(s,o))return h;h.setOptions(l).then(function(v){!f&&l.onFirstUpdate&&l.onFirstUpdate(v)});function d(){u.orderedModifiers.forEach(function(v){var g=v.name,m=v.options,y=m===void 0?{}:m,b=v.effect;if(typeof b=="function"){var x=b({state:u,name:g,instance:h,options:y}),E=function(){};c.push(x||E)}})}function p(){c.forEach(function(v){return v()}),c=[]}return h}}a2();var kY=[YD,ZD,HD,jD];a2({defaultModifiers:kY});var TY=[YD,ZD,HD,jD,hY,oY,gY,UH,uY],Mve=a2({defaultModifiers:TY});function en(e,t){MY(e)&&(e="100%");var r=AY(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function xf(e){return Math.min(1,Math.max(0,e))}function MY(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function AY(e){return typeof e=="string"&&e.indexOf("%")!==-1}function QD(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function _f(e){return e<=1?"".concat(Number(e)*100,"%"):e}function mo(e){return e.length===1?"0"+e:String(e)}function OY(e,t,r){return{r:en(e,255)*255,g:en(t,255)*255,b:en(r,255)*255}}function Hk(e,t,r){e=en(e,255),t=en(t,255),r=en(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a=0,s=0,o=(n+i)/2;if(n===i)s=0,a=0;else{var l=n-i;switch(s=o>.5?l/(2-n-i):l/(n+i),n){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break}a/=6}return{h:a,s,l:o}}function Tv(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function PY(e,t,r){var n,i,a;if(e=en(e,360),t=en(t,100),r=en(r,100),t===0)i=r,a=r,n=r;else{var s=r<.5?r*(1+t):r+t-r*t,o=2*r-s;n=Tv(o,s,e+1/3),i=Tv(o,s,e),a=Tv(o,s,e-1/3)}return{r:n*255,g:i*255,b:a*255}}function Yk(e,t,r){e=en(e,255),t=en(t,255),r=en(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a=0,s=n,o=n-i,l=n===0?0:o/n;if(n===i)a=0;else{switch(n){case e:a=(t-r)/o+(t<r?6:0);break;case t:a=(r-e)/o+2;break;case r:a=(e-t)/o+4;break}a/=6}return{h:a,s:l,v:s}}function NY(e,t,r){e=en(e,360)*6,t=en(t,100),r=en(r,100);var n=Math.floor(e),i=e-n,a=r*(1-t),s=r*(1-i*t),o=r*(1-(1-i)*t),l=n%6,u=[r,s,a,a,o,r][l],c=[o,r,r,s,a,a][l],f=[a,a,o,r,r,s][l];return{r:u*255,g:c*255,b:f*255}}function Xk(e,t,r,n){var i=[mo(Math.round(e).toString(16)),mo(Math.round(t).toString(16)),mo(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function CY(e,t,r,n,i){var a=[mo(Math.round(e).toString(16)),mo(Math.round(t).toString(16)),mo(Math.round(r).toString(16)),mo(RY(n))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function RY(e){return Math.round(parseFloat(e)*255).toString(16)}function Kk(e){return Yn(e)/255}function Yn(e){return parseInt(e,16)}function LY(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Fw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function IY(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,a=null,s=!1,o=!1;return typeof e=="string"&&(e=BY(e)),typeof e=="object"&&(Oa(e.r)&&Oa(e.g)&&Oa(e.b)?(t=OY(e.r,e.g,e.b),s=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Oa(e.h)&&Oa(e.s)&&Oa(e.v)?(n=_f(e.s),i=_f(e.v),t=NY(e.h,n,i),s=!0,o="hsv"):Oa(e.h)&&Oa(e.s)&&Oa(e.l)&&(n=_f(e.s),a=_f(e.l),t=PY(e.h,n,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=QD(r),{ok:s,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var DY="[-\\+]?\\d+%?",FY="[-\\+]?\\d*\\.\\d+%?",ws="(?:".concat(FY,")|(?:").concat(DY,")"),Mv="[\\s|\\(]+(".concat(ws,")[,|\\s]+(").concat(ws,")[,|\\s]+(").concat(ws,")\\s*\\)?"),Av="[\\s|\\(]+(".concat(ws,")[,|\\s]+(").concat(ws,")[,|\\s]+(").concat(ws,")[,|\\s]+(").concat(ws,")\\s*\\)?"),Ni={CSS_UNIT:new RegExp(ws),rgb:new RegExp("rgb"+Mv),rgba:new RegExp("rgba"+Av),hsl:new RegExp("hsl"+Mv),hsla:new RegExp("hsla"+Av),hsv:new RegExp("hsv"+Mv),hsva:new RegExp("hsva"+Av),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function BY(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Fw[e])e=Fw[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Ni.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=Ni.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ni.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=Ni.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ni.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=Ni.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ni.hex8.exec(e),r?{r:Yn(r[1]),g:Yn(r[2]),b:Yn(r[3]),a:Kk(r[4]),format:t?"name":"hex8"}:(r=Ni.hex6.exec(e),r?{r:Yn(r[1]),g:Yn(r[2]),b:Yn(r[3]),format:t?"name":"hex"}:(r=Ni.hex4.exec(e),r?{r:Yn(r[1]+r[1]),g:Yn(r[2]+r[2]),b:Yn(r[3]+r[3]),a:Kk(r[4]+r[4]),format:t?"name":"hex8"}:(r=Ni.hex3.exec(e),r?{r:Yn(r[1]+r[1]),g:Yn(r[2]+r[2]),b:Yn(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function Oa(e){return!!Ni.CSS_UNIT.exec(String(e))}var Ave=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=LY(t)),this.originalInput=t;var i=IY(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,n,i,a=t.r/255,s=t.g/255,o=t.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=QD(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Yk(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Yk(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Hk(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Hk(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Xk(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),CY(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(n,")"):"rgba(".concat(t,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(en(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(en(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Xk(this.r,this.g,this.b,!1),r=0,n=Object.entries(Fw);r<n.length;r++){var i=n[r],a=i[0],s=i[1];if(t===s)return a}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var n=!1,i=this.a<1&&this.a>=0,a=!r&&i&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=xf(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=xf(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=xf(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=xf(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var n=this.toRgb(),i=new e(t).toRgb(),a=r/100,s={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return new e(s)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,a=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(new e(n));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),n=r.h,i=r.s,a=r.v,s=[],o=1/t;t--;)s.push(new e({h:n,s:i,v:a})),a=(a+o)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb(),i=r.a+n.a*(1-r.a);return new e({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,i=[this],a=360/t,s=1;s<t;s++)i.push(new e({h:(n+s*a)%360,s:r.s,l:r.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(this,arguments)}function $Y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mc(e,t)}function Bw(e){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(e)}function mc(e,t){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mc(e,t)}function qY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kh(e,t,r){return qY()?kh=Reflect.construct.bind():kh=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),u=new l;return s&&mc(u,s.prototype),u},kh.apply(null,arguments)}function zY(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function $w(e){var t=typeof Map=="function"?new Map:void 0;return $w=function(n){if(n===null||!zY(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return kh(n,arguments,Bw(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),mc(i,n)},$w(e)}var jY=/%[sdj%]/g,GY=function(){};function qw(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function ei(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,a=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var s=e.replace(jY,function(o){if(o==="%%")return"%";if(i>=a)return o;switch(o){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return o}});return s}return e}function WY(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function zr(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||WY(t)&&typeof e=="string"&&!e)}function VY(e,t,r){var n=[],i=0,a=e.length;function s(o){n.push.apply(n,o||[]),i++,i===a&&r(n)}e.forEach(function(o){t(o,s)})}function Zk(e,t,r){var n=0,i=e.length;function a(s){if(s&&s.length){r(s);return}var o=n;n=n+1,o<i?t(e[o],a):r([])}a([])}function UY(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var Qk=function(e){$Y(t,e);function t(r,n){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=r,i.fields=n,i}return t}($w(Error));function HY(e,t,r,n,i){if(t.first){var a=new Promise(function(h,d){var p=function(m){return n(m),m.length?d(new Qk(m,qw(m))):h(i)},v=UY(e);Zk(v,r,p)});return a.catch(function(h){return h}),a}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,u=0,c=[],f=new Promise(function(h,d){var p=function(g){if(c.push.apply(c,g),u++,u===l)return n(c),c.length?d(new Qk(c,qw(c))):h(i)};o.length||(n(c),h(i)),o.forEach(function(v){var g=e[v];s.indexOf(v)!==-1?Zk(g,r,p):VY(g,r,p)})});return f.catch(function(h){return h}),f}function YY(e){return!!(e&&e.message!==void 0)}function XY(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function Jk(e,t){return function(r){var n;return e.fullFields?n=XY(t,e.fullFields):n=t[r.field||e.fullField],YY(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function eT(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];typeof n=="object"&&typeof e[r]=="object"?e[r]=yo({},e[r],n):e[r]=n}}return e}var JD=function(t,r,n,i,a,s){t.required&&(!n.hasOwnProperty(t.field)||zr(r,s||t.type))&&i.push(ei(a.messages.required,t.fullField))},KY=function(t,r,n,i,a){(/^\s+$/.test(r)||r==="")&&i.push(ei(a.messages.whitespace,t.fullField))},Ef,ZY=function(){if(Ef)return Ef;var e="[a-fA-F\\d:]",t=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"),s=new RegExp("^"+r+"$"),o=new RegExp("^"+i+"$"),l=function(x){return x&&x.exact?a:new RegExp("(?:"+t(x)+r+t(x)+")|(?:"+t(x)+i+t(x)+")","g")};l.v4=function(b){return b&&b.exact?s:new RegExp(""+t(b)+r+t(b),"g")},l.v6=function(b){return b&&b.exact?o:new RegExp(""+t(b)+i+t(b),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,d="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',y="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+h+"|"+d+p+v+")"+g+m;return Ef=new RegExp("(?:^"+y+"$)","i"),Ef},tT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Su={integer:function(t){return Su.number(t)&&parseInt(t,10)===t},float:function(t){return Su.number(t)&&!Su.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Su.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(tT.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(ZY())},hex:function(t){return typeof t=="string"&&!!t.match(tT.hex)}},QY=function(t,r,n,i,a){if(t.required&&r===void 0){JD(t,r,n,i,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=t.type;s.indexOf(o)>-1?Su[o](r)||i.push(ei(a.messages.types[o],t.fullField,t.type)):o&&typeof r!==t.type&&i.push(ei(a.messages.types[o],t.fullField,t.type))},JY=function(t,r,n,i,a){var s=typeof t.len=="number",o=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,f=null,h=typeof r=="number",d=typeof r=="string",p=Array.isArray(r);if(h?f="number":d?f="string":p&&(f="array"),!f)return!1;p&&(c=r.length),d&&(c=r.replace(u,"_").length),s?c!==t.len&&i.push(ei(a.messages[f].len,t.fullField,t.len)):o&&!l&&c<t.min?i.push(ei(a.messages[f].min,t.fullField,t.min)):l&&!o&&c>t.max?i.push(ei(a.messages[f].max,t.fullField,t.max)):o&&l&&(c<t.min||c>t.max)&&i.push(ei(a.messages[f].range,t.fullField,t.min,t.max))},Jo="enum",eX=function(t,r,n,i,a){t[Jo]=Array.isArray(t[Jo])?t[Jo]:[],t[Jo].indexOf(r)===-1&&i.push(ei(a.messages[Jo],t.fullField,t[Jo].join(", ")))},tX=function(t,r,n,i,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||i.push(ei(a.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(r)||i.push(ei(a.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},xt={required:JD,whitespace:KY,type:QY,range:JY,enum:eX,pattern:tX},rX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r,"string")&&!t.required)return n();xt.required(t,r,i,s,a,"string"),zr(r,"string")||(xt.type(t,r,i,s,a),xt.range(t,r,i,s,a),xt.pattern(t,r,i,s,a),t.whitespace===!0&&xt.whitespace(t,r,i,s,a))}n(s)},nX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),r!==void 0&&xt.type(t,r,i,s,a)}n(s)},iX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(r===""&&(r=void 0),zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),r!==void 0&&(xt.type(t,r,i,s,a),xt.range(t,r,i,s,a))}n(s)},aX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),r!==void 0&&xt.type(t,r,i,s,a)}n(s)},sX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),zr(r)||xt.type(t,r,i,s,a)}n(s)},oX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),r!==void 0&&(xt.type(t,r,i,s,a),xt.range(t,r,i,s,a))}n(s)},lX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),r!==void 0&&(xt.type(t,r,i,s,a),xt.range(t,r,i,s,a))}n(s)},uX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(r==null&&!t.required)return n();xt.required(t,r,i,s,a,"array"),r!=null&&(xt.type(t,r,i,s,a),xt.range(t,r,i,s,a))}n(s)},cX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),r!==void 0&&xt.type(t,r,i,s,a)}n(s)},fX="enum",hX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a),r!==void 0&&xt[fX](t,r,i,s,a)}n(s)},dX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r,"string")&&!t.required)return n();xt.required(t,r,i,s,a),zr(r,"string")||xt.pattern(t,r,i,s,a)}n(s)},pX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r,"date")&&!t.required)return n();if(xt.required(t,r,i,s,a),!zr(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),xt.type(t,l,i,s,a),l&&xt.range(t,l.getTime(),i,s,a)}}n(s)},vX=function(t,r,n,i,a){var s=[],o=Array.isArray(r)?"array":typeof r;xt.required(t,r,i,s,a,o),n(s)},Ov=function(t,r,n,i,a){var s=t.type,o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(zr(r,s)&&!t.required)return n();xt.required(t,r,i,o,a,s),zr(r,s)||xt.type(t,r,i,o,a)}n(o)},gX=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(zr(r)&&!t.required)return n();xt.required(t,r,i,s,a)}n(s)},Hu={string:rX,method:nX,number:iX,boolean:aX,regexp:sX,integer:oX,float:lX,array:uX,object:cX,enum:hX,pattern:dX,date:pX,url:Ov,hex:Ov,email:Ov,required:vX,any:gX};function zw(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var jw=zw(),fp=function(){function e(r){this.rules=null,this._messages=jw,this.define(r)}var t=e.prototype;return t.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var s=n[a];i.rules[a]=Array.isArray(s)?s:[s]})},t.messages=function(n){return n&&(this._messages=eT(zw(),n)),this._messages},t.validate=function(n,i,a){var s=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var o=n,l=i,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function c(v){var g=[],m={};function y(x){if(Array.isArray(x)){var E;g=(E=g).concat.apply(E,x)}else g.push(x)}for(var b=0;b<v.length;b++)y(v[b]);g.length?(m=qw(g),u(g,m)):u(null,o)}if(l.messages){var f=this.messages();f===jw&&(f=zw()),eT(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},d=l.keys||Object.keys(this.rules);d.forEach(function(v){var g=s.rules[v],m=o[v];g.forEach(function(y){var b=y;typeof b.transform=="function"&&(o===n&&(o=yo({},o)),m=o[v]=b.transform(m)),typeof b=="function"?b={validator:b}:b=yo({},b),b.validator=s.getValidationMethod(b),b.validator&&(b.field=v,b.fullField=b.fullField||v,b.type=s.getType(b),h[v]=h[v]||[],h[v].push({rule:b,value:m,source:o,field:v}))})});var p={};return HY(h,l,function(v,g){var m=v.rule,y=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");y=y&&(m.required||!m.required&&v.value),m.field=v.field;function b(S,_){return yo({},_,{fullField:m.fullField+"."+S,fullFields:m.fullFields?[].concat(m.fullFields,[S]):[S]})}function x(S){S===void 0&&(S=[]);var _=Array.isArray(S)?S:[S];!l.suppressWarning&&_.length&&e.warning("async-validator:",_),_.length&&m.message!==void 0&&(_=[].concat(m.message));var k=_.map(Jk(m,o));if(l.first&&k.length)return p[m.field]=1,g(k);if(!y)g(k);else{if(m.required&&!v.value)return m.message!==void 0?k=[].concat(m.message).map(Jk(m,o)):l.error&&(k=[l.error(m,ei(l.messages.required,m.field))]),g(k);var O={};m.defaultField&&Object.keys(v.value).map(function(R){O[R]=m.defaultField}),O=yo({},O,v.rule.fields);var P={};Object.keys(O).forEach(function(R){var L=O[R],D=Array.isArray(L)?L:[L];P[R]=D.map(b.bind(null,R))});var N=new e(P);N.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),N.validate(v.value,v.rule.options||l,function(R){var L=[];k&&k.length&&L.push.apply(L,k),R&&R.length&&L.push.apply(L,R),g(L.length?L:null)})}}var E;if(m.asyncValidator)E=m.asyncValidator(m,v.value,x,v.source,l);else if(m.validator){try{E=m.validator(m,v.value,x,v.source,l)}catch(S){console.error==null||console.error(S),l.suppressValidatorError||setTimeout(function(){throw S},0),x(S.message)}E===!0?x():E===!1?x(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):E instanceof Array?x(E):E instanceof Error&&x(E.message)}E&&E.then&&E.then(function(){return x()},function(S){return x(S)})},function(v){c(v)},o)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Hu.hasOwnProperty(n.type))throw new Error(ei("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?Hu.required:Hu[this.getType(n)]||void 0},e}();fp.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Hu[t]=r};fp.warning=GY;fp.messages=jw;fp.validators=Hu;function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function mX(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e5(e){var t=mX(e,"string");return Cs(t)=="symbol"?t:t+""}function $e(e,t,r){return(t=e5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e5(n.key),n)}}function Te(e,t,r){return t&&nT(e.prototype,t),r&&nT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function yX(e){if(Array.isArray(e))return Gw(e)}function bX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s2(e,t){if(e){if(typeof e=="string")return Gw(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gw(e,t):void 0}}function wX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vt(e){return yX(e)||bX(e)||s2(e)||wX()}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Il(e)}function t5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!e})()}function xX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _X(e,t){if(t&&(Cs(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xX(e)}function ut(e,t,r){return t=Il(t),_X(e,t5()?Reflect.construct(t,r||[],Il(e).constructor):t.apply(e,r))}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ww(e,t)}function ct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function EX(e){if(Array.isArray(e))return e}function SX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(e,t){return EX(e)||SX(e,t)||s2(e,t)||kX()}var Pv={exports:{}},iT;function TX(){return iT||(iT=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||l,h),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,d,p){var v=r?r+u:u;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,y,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,h),!0;case 5:return g.fn.call(g.context,c,f,h,d),!0;case 6:return g.fn.call(g.context,c,f,h,d,p),!0}for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];g.fn.apply(g.context,y)}else{var x=g.length,E;for(b=0;b<x;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),m){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,c);break;case 3:g[b].fn.call(g[b].context,c,f);break;case 4:g[b].fn.call(g[b].context,c,f,h);break;default:if(!y)for(E=1,y=new Array(m-1);E<m;E++)y[E-1]=arguments[E];g[b].fn.apply(g[b].context,y)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var d=r?r+u:u;if(!this._events[d])return this;if(!c)return s(this,d),this;var p=this._events[d];if(p.fn)p.fn===c&&(!h||p.once)&&(!f||p.context===f)&&s(this,d);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==c||h&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[d]=g.length===1?g[0]:g:s(this,d)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(Pv)),Pv.exports}var MX=TX();const r5=ap(MX);var tr=1e-6,Nr=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function n5(){var e=new Nr(9);return Nr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function AX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function OX(e,t,r,n,i,a,s,o,l){var u=new Nr(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=s,u[7]=o,u[8]=l,u}function jt(){var e=new Nr(16);return Nr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function i5(e){var t=new Nr(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Dl(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a5(e,t,r,n,i,a,s,o,l,u,c,f,h,d,p,v){var g=new Nr(16);return g[0]=e,g[1]=t,g[2]=r,g[3]=n,g[4]=i,g[5]=a,g[6]=s,g[7]=o,g[8]=l,g[9]=u,g[10]=c,g[11]=f,g[12]=h,g[13]=d,g[14]=p,g[15]=v,g}function Vw(e,t,r,n,i,a,s,o,l,u,c,f,h,d,p,v,g){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=s,e[6]=o,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=h,e[12]=d,e[13]=p,e[14]=v,e[15]=g,e}function Rs(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function s5(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function fa(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=r*o-n*s,b=r*l-i*s,x=r*u-a*s,E=n*l-i*o,S=n*u-a*o,_=i*u-a*l,k=c*v-f*p,O=c*g-h*p,P=c*m-d*p,N=f*g-h*v,R=f*m-d*v,L=h*m-d*g,D=y*L-b*R+x*N+E*P-S*O+_*k;return D?(D=1/D,e[0]=(o*L-l*R+u*N)*D,e[1]=(i*R-n*L-a*N)*D,e[2]=(v*_-g*S+m*E)*D,e[3]=(h*S-f*_-d*E)*D,e[4]=(l*P-s*L-u*O)*D,e[5]=(r*L-i*P+a*O)*D,e[6]=(g*x-p*_-m*b)*D,e[7]=(c*_-h*x+d*b)*D,e[8]=(s*R-o*P+u*k)*D,e[9]=(n*P-r*R-a*k)*D,e[10]=(p*S-v*x+m*y)*D,e[11]=(f*x-c*S-d*y)*D,e[12]=(o*O-s*N-l*k)*D,e[13]=(r*N-n*O+i*k)*D,e[14]=(v*b-p*E-g*y)*D,e[15]=(c*E-f*b+h*y)*D,e):null}function PX(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],m=t[15];return e[0]=o*(h*m-d*g)-f*(l*m-u*g)+v*(l*d-u*h),e[1]=-(n*(h*m-d*g)-f*(i*m-a*g)+v*(i*d-a*h)),e[2]=n*(l*m-u*g)-o*(i*m-a*g)+v*(i*u-a*l),e[3]=-(n*(l*d-u*h)-o*(i*d-a*h)+f*(i*u-a*l)),e[4]=-(s*(h*m-d*g)-c*(l*m-u*g)+p*(l*d-u*h)),e[5]=r*(h*m-d*g)-c*(i*m-a*g)+p*(i*d-a*h),e[6]=-(r*(l*m-u*g)-s*(i*m-a*g)+p*(i*u-a*l)),e[7]=r*(l*d-u*h)-s*(i*d-a*h)+c*(i*u-a*l),e[8]=s*(f*m-d*v)-c*(o*m-u*v)+p*(o*d-u*f),e[9]=-(r*(f*m-d*v)-c*(n*m-a*v)+p*(n*d-a*f)),e[10]=r*(o*m-u*v)-s*(n*m-a*v)+p*(n*u-a*o),e[11]=-(r*(o*d-u*f)-s*(n*d-a*f)+c*(n*u-a*o)),e[12]=-(s*(f*g-h*v)-c*(o*g-l*v)+p*(o*h-l*f)),e[13]=r*(f*g-h*v)-c*(n*g-i*v)+p*(n*h-i*f),e[14]=-(r*(o*g-l*v)-s*(n*g-i*v)+p*(n*l-i*o)),e[15]=r*(o*h-l*f)-s*(n*h-i*f)+c*(n*l-i*o),e}function o5(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],s=e[5],o=e[6],l=e[7],u=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],v=e[14],g=e[15],m=t*s-r*a,y=t*o-n*a,b=t*l-i*a,x=r*o-n*s,E=r*l-i*s,S=n*l-i*o,_=u*p-c*d,k=u*v-f*d,O=u*g-h*d,P=c*v-f*p,N=c*g-h*p,R=f*g-h*v;return m*R-y*N+b*P+x*O-E*k+S*_}function pn(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],b=r[0],x=r[1],E=r[2],S=r[3];return e[0]=b*n+x*o+E*f+S*v,e[1]=b*i+x*l+E*h+S*g,e[2]=b*a+x*u+E*d+S*m,e[3]=b*s+x*c+E*p+S*y,b=r[4],x=r[5],E=r[6],S=r[7],e[4]=b*n+x*o+E*f+S*v,e[5]=b*i+x*l+E*h+S*g,e[6]=b*a+x*u+E*d+S*m,e[7]=b*s+x*c+E*p+S*y,b=r[8],x=r[9],E=r[10],S=r[11],e[8]=b*n+x*o+E*f+S*v,e[9]=b*i+x*l+E*h+S*g,e[10]=b*a+x*u+E*d+S*m,e[11]=b*s+x*c+E*p+S*y,b=r[12],x=r[13],E=r[14],S=r[15],e[12]=b*n+x*o+E*f+S*v,e[13]=b*i+x*l+E*h+S*g,e[14]=b*a+x*u+E*d+S*m,e[15]=b*s+x*c+E*p+S*y,e}function ml(e,t,r){var n=r[0],i=r[1],a=r[2],s,o,l,u,c,f,h,d,p,v,g,m;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*a+t[12],e[13]=t[1]*n+t[5]*i+t[9]*a+t[13],e[14]=t[2]*n+t[6]*i+t[10]*a+t[14],e[15]=t[3]*n+t[7]*i+t[11]*a+t[15]):(s=t[0],o=t[1],l=t[2],u=t[3],c=t[4],f=t[5],h=t[6],d=t[7],p=t[8],v=t[9],g=t[10],m=t[11],e[0]=s,e[1]=o,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=h,e[7]=d,e[8]=p,e[9]=v,e[10]=g,e[11]=m,e[12]=s*n+c*i+p*a+t[12],e[13]=o*n+f*i+v*a+t[13],e[14]=l*n+h*i+g*a+t[14],e[15]=u*n+d*i+m*a+t[15]),e}function l5(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function NX(e,t,r,n){var i=n[0],a=n[1],s=n[2],o=Math.hypot(i,a,s),l,u,c,f,h,d,p,v,g,m,y,b,x,E,S,_,k,O,P,N,R,L,D,$;return o<tr?null:(o=1/o,i*=o,a*=o,s*=o,l=Math.sin(r),u=Math.cos(r),c=1-u,f=t[0],h=t[1],d=t[2],p=t[3],v=t[4],g=t[5],m=t[6],y=t[7],b=t[8],x=t[9],E=t[10],S=t[11],_=i*i*c+u,k=a*i*c+s*l,O=s*i*c-a*l,P=i*a*c-s*l,N=a*a*c+u,R=s*a*c+i*l,L=i*s*c+a*l,D=a*s*c-i*l,$=s*s*c+u,e[0]=f*_+v*k+b*O,e[1]=h*_+g*k+x*O,e[2]=d*_+m*k+E*O,e[3]=p*_+y*k+S*O,e[4]=f*P+v*N+b*R,e[5]=h*P+g*N+x*R,e[6]=d*P+m*N+E*R,e[7]=p*P+y*N+S*R,e[8]=f*L+v*D+b*$,e[9]=h*L+g*D+x*$,e[10]=d*L+m*D+E*$,e[11]=p*L+y*D+S*$,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function u5(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],s=t[5],o=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=s*i+c*n,e[6]=o*i+f*n,e[7]=l*i+h*n,e[8]=u*i-a*n,e[9]=c*i-s*n,e[10]=f*i-o*n,e[11]=h*i-l*n,e}function c5(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],s=t[1],o=t[2],l=t[3],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*n,e[1]=s*i-c*n,e[2]=o*i-f*n,e[3]=l*i-h*n,e[8]=a*n+u*i,e[9]=s*n+c*i,e[10]=o*n+f*i,e[11]=l*n+h*i,e}function CX(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],s=t[1],o=t[2],l=t[3],u=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=s*i+c*n,e[2]=o*i+f*n,e[3]=l*i+h*n,e[4]=u*i-a*n,e[5]=c*i-s*n,e[6]=f*i-o*n,e[7]=h*i-l*n,e}function ys(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ho(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function f5(e,t,r){var n=r[0],i=r[1],a=r[2],s=Math.hypot(n,i,a),o,l,u;return s<tr?null:(s=1/s,n*=s,i*=s,a*=s,o=Math.sin(t),l=Math.cos(t),u=1-l,e[0]=n*n*u+l,e[1]=i*n*u+a*o,e[2]=a*n*u-i*o,e[3]=0,e[4]=n*i*u-a*o,e[5]=i*i*u+l,e[6]=a*i*u+n*o,e[7]=0,e[8]=n*a*u+i*o,e[9]=i*a*u-n*o,e[10]=a*a*u+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function h5(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function d5(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Uw(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p5(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=n+n,l=i+i,u=a+a,c=n*o,f=n*l,h=n*u,d=i*l,p=i*u,v=a*u,g=s*o,m=s*l,y=s*u;return e[0]=1-(d+v),e[1]=f+y,e[2]=h-m,e[3]=0,e[4]=f-y,e[5]=1-(c+v),e[6]=p+g,e[7]=0,e[8]=h+m,e[9]=p-g,e[10]=1-(c+d),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function RX(e,t){var r=new Nr(3),n=-t[0],i=-t[1],a=-t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],f=n*n+i*i+a*a+s*s;return f>0?(r[0]=(o*s+c*n+l*a-u*i)*2/f,r[1]=(l*s+c*i+u*n-o*a)*2/f,r[2]=(u*s+c*a+o*i-l*n)*2/f):(r[0]=(o*s+c*n+l*a-u*i)*2,r[1]=(l*s+c*i+u*n-o*a)*2,r[2]=(u*s+c*a+o*i-l*n)*2),p5(e,t,r),e}function td(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Fl(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],s=t[5],o=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(a,s,o),e[2]=Math.hypot(l,u,c),e}function rd(e,t){var r=new Nr(3);Fl(r,t);var n=1/r[0],i=1/r[1],a=1/r[2],s=t[0]*n,o=t[1]*i,l=t[2]*a,u=t[4]*n,c=t[5]*i,f=t[6]*a,h=t[8]*n,d=t[9]*i,p=t[10]*a,v=s+c+p,g=0;return v>0?(g=Math.sqrt(v+1)*2,e[3]=.25*g,e[0]=(f-d)/g,e[1]=(h-l)/g,e[2]=(o-u)/g):s>c&&s>p?(g=Math.sqrt(1+s-c-p)*2,e[3]=(f-d)/g,e[0]=.25*g,e[1]=(o+u)/g,e[2]=(h+l)/g):c>p?(g=Math.sqrt(1+c-s-p)*2,e[3]=(h-l)/g,e[0]=(o+u)/g,e[1]=.25*g,e[2]=(f+d)/g):(g=Math.sqrt(1+p-s-c)*2,e[3]=(o-u)/g,e[0]=(h+l)/g,e[1]=(f+d)/g,e[2]=.25*g),e}function LX(e,t,r,n){var i=t[0],a=t[1],s=t[2],o=t[3],l=i+i,u=a+a,c=s+s,f=i*l,h=i*u,d=i*c,p=a*u,v=a*c,g=s*c,m=o*l,y=o*u,b=o*c,x=n[0],E=n[1],S=n[2];return e[0]=(1-(p+g))*x,e[1]=(h+b)*x,e[2]=(d-y)*x,e[3]=0,e[4]=(h-b)*E,e[5]=(1-(f+g))*E,e[6]=(v+m)*E,e[7]=0,e[8]=(d+y)*S,e[9]=(v-m)*S,e[10]=(1-(f+p))*S,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Yu(e,t,r,n,i){var a=t[0],s=t[1],o=t[2],l=t[3],u=a+a,c=s+s,f=o+o,h=a*u,d=a*c,p=a*f,v=s*c,g=s*f,m=o*f,y=l*u,b=l*c,x=l*f,E=n[0],S=n[1],_=n[2],k=i[0],O=i[1],P=i[2],N=(1-(v+m))*E,R=(d+x)*E,L=(p-b)*E,D=(d-x)*S,$=(1-(h+m))*S,X=(g+y)*S,K=(p+b)*_,V=(g-y)*_,ne=(1-(h+v))*_;return e[0]=N,e[1]=R,e[2]=L,e[3]=0,e[4]=D,e[5]=$,e[6]=X,e[7]=0,e[8]=K,e[9]=V,e[10]=ne,e[11]=0,e[12]=r[0]+k-(N*k+D*O+K*P),e[13]=r[1]+O-(R*k+$*O+V*P),e[14]=r[2]+P-(L*k+X*O+ne*P),e[15]=1,e}function o2(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r+r,o=n+n,l=i+i,u=r*s,c=n*s,f=n*o,h=i*s,d=i*o,p=i*l,v=a*s,g=a*o,m=a*l;return e[0]=1-f-p,e[1]=c+m,e[2]=h-g,e[3]=0,e[4]=c-m,e[5]=1-u-p,e[6]=d+v,e[7]=0,e[8]=h+g,e[9]=d-v,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function IX(e,t,r,n,i,a,s){var o=1/(r-t),l=1/(i-n),u=1/(a-s);return e[0]=a*2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*l,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(i+n)*l,e[10]=(s+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*a*2*u,e[15]=0,e}function v5(e,t,r,n,i){var a=1/Math.tan(t/2),s;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(n-i),e[10]=(i+n)*s,e[14]=2*i*n*s):(e[10]=-1,e[14]=-2*n),e}var DX=v5;function FX(e,t,r,n,i){var a=1/Math.tan(t/2),s;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(n-i),e[10]=i*s,e[14]=i*n*s):(e[10]=-1,e[14]=-n),e}function BX(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+o),u=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((s-o)*l*.5),e[9]=(i-a)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function g5(e,t,r,n,i,a,s){var o=1/(t-r),l=1/(n-i),u=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*o,e[13]=(i+n)*l,e[14]=(s+a)*u,e[15]=1,e}var m5=g5;function y5(e,t,r,n,i,a,s){var o=1/(t-r),l=1/(n-i),u=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+r)*o,e[13]=(i+n)*l,e[14]=a*u,e[15]=1,e}function b5(e,t,r,n){var i,a,s,o,l,u,c,f,h,d,p=t[0],v=t[1],g=t[2],m=n[0],y=n[1],b=n[2],x=r[0],E=r[1],S=r[2];return Math.abs(p-x)<tr&&Math.abs(v-E)<tr&&Math.abs(g-S)<tr?Rs(e):(c=p-x,f=v-E,h=g-S,d=1/Math.hypot(c,f,h),c*=d,f*=d,h*=d,i=y*h-b*f,a=b*c-m*h,s=m*f-y*c,d=Math.hypot(i,a,s),d?(d=1/d,i*=d,a*=d,s*=d):(i=0,a=0,s=0),o=f*s-h*a,l=h*i-c*s,u=c*a-f*i,d=Math.hypot(o,l,u),d?(d=1/d,o*=d,l*=d,u*=d):(o=0,l=0,u=0),e[0]=i,e[1]=o,e[2]=c,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=u,e[10]=h,e[11]=0,e[12]=-(i*p+a*v+s*g),e[13]=-(o*p+l*v+u*g),e[14]=-(c*p+f*v+h*g),e[15]=1,e)}function $X(e,t,r,n){var i=t[0],a=t[1],s=t[2],o=n[0],l=n[1],u=n[2],c=i-r[0],f=a-r[1],h=s-r[2],d=c*c+f*f+h*h;d>0&&(d=1/Math.sqrt(d),c*=d,f*=d,h*=d);var p=l*h-u*f,v=u*c-o*h,g=o*f-l*c;return d=p*p+v*v+g*g,d>0&&(d=1/Math.sqrt(d),p*=d,v*=d,g*=d),e[0]=p,e[1]=v,e[2]=g,e[3]=0,e[4]=f*g-h*v,e[5]=h*p-c*g,e[6]=c*v-f*p,e[7]=0,e[8]=c,e[9]=f,e[10]=h,e[11]=0,e[12]=i,e[13]=a,e[14]=s,e[15]=1,e}function qX(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function zX(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function jX(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function w5(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function GX(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function WX(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Hw(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function VX(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=t[0],b=t[1],x=t[2],E=t[3],S=t[4],_=t[5],k=t[6],O=t[7],P=t[8],N=t[9],R=t[10],L=t[11],D=t[12],$=t[13],X=t[14],K=t[15];return Math.abs(r-y)<=tr*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-b)<=tr*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-x)<=tr*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-E)<=tr*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-S)<=tr*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(o-_)<=tr*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(l-k)<=tr*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(u-O)<=tr*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(c-P)<=tr*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(f-N)<=tr*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(h-R)<=tr*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(d-L)<=tr*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(p-D)<=tr*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(v-$)<=tr*Math.max(1,Math.abs(v),Math.abs($))&&Math.abs(g-X)<=tr*Math.max(1,Math.abs(g),Math.abs(X))&&Math.abs(m-K)<=tr*Math.max(1,Math.abs(m),Math.abs(K))}var x5=pn,UX=w5;const HX=Object.freeze(Object.defineProperty({__proto__:null,add:jX,adjoint:PX,clone:i5,copy:Dl,create:jt,determinant:o5,equals:VX,exactEquals:Hw,frob:zX,fromQuat:o2,fromQuat2:RX,fromRotation:f5,fromRotationTranslation:p5,fromRotationTranslationScale:LX,fromRotationTranslationScaleOrigin:Yu,fromScaling:ho,fromTranslation:ys,fromValues:a5,fromXRotation:h5,fromYRotation:d5,fromZRotation:Uw,frustum:IX,getRotation:rd,getScaling:Fl,getTranslation:td,identity:Rs,invert:fa,lookAt:b5,mul:x5,multiply:pn,multiplyScalar:GX,multiplyScalarAndAdd:WX,ortho:m5,orthoNO:g5,orthoZO:y5,perspective:DX,perspectiveFromFieldOfView:BX,perspectiveNO:v5,perspectiveZO:FX,rotate:NX,rotateX:u5,rotateY:c5,rotateZ:CX,scale:l5,set:Vw,str:qX,sub:UX,subtract:w5,targetTo:$X,translate:ml,transpose:s5},Symbol.toStringTag,{value:"Module"}));function mt(){var e=new Nr(3);return Nr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Pa(e){var t=new Nr(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Fa(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function Ut(e,t,r){var n=new Nr(3);return n[0]=e,n[1]=t,n[2]=r,n}function ha(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function hn(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Os(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Yw(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function YX(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function XX(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function KX(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function nd(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function ZX(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.hypot(r,n,i)}function ko(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function da(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Th(e,t,r){var n=t[0],i=t[1],a=t[2],s=r[0],o=r[1],l=r[2];return e[0]=i*l-a*o,e[1]=a*s-n*l,e[2]=n*o-i*s,e}function Xw(e,t,r,n){var i=t[0],a=t[1],s=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=s+n*(r[2]-s),e}function vn(e,t,r){var n=t[0],i=t[1],a=t[2],s=r[3]*n+r[7]*i+r[11]*a+r[15];return s=s||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/s,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/s,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/s,e}function QX(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e}function JX(e,t,r){var n=r[0],i=r[1],a=r[2],s=r[3],o=t[0],l=t[1],u=t[2],c=i*u-a*l,f=a*o-n*u,h=n*l-i*o,d=i*h-a*f,p=a*c-n*h,v=n*f-i*c,g=s*2;return c*=g,f*=g,h*=g,d*=2,p*=2,v*=2,e[0]=o+c+d,e[1]=l+f+p,e[2]=u+h+v,e}function du(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],s=t[1],o=t[2];return Math.abs(r-a)<=tr*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=tr*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-o)<=tr*Math.max(1,Math.abs(i),Math.abs(o))}var eK=Yw,aT=ZX,_5=Fa;(function(){var e=mt();return function(t,r,n,i,a,s){var o,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,o=n;o<l;o+=r)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],a(e,e,s),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2];return t}})();function pa(){var e=new Nr(4);return Nr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function ku(e,t,r,n){var i=new Nr(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function tK(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function rK(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function nK(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r*r+n*n+i*i+a*a;return s>0&&(s=1/Math.sqrt(s)),e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=a*s,e}function Ga(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*s,e}(function(){var e=pa();return function(t,r,n,i,a,s){var o,l;for(r||(r=4),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,o=n;o<l;o+=r)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],e[3]=t[o+3],a(e,e,s),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2],t[o+3]=e[3];return t}})();function Dr(){var e=new Nr(4);return Nr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function xs(e,t,r){r=r*.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function Ps(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+s*o+i*u-a*l,e[1]=i*c+s*l+a*o-n*u,e[2]=a*c+s*u+n*l-i*o,e[3]=s*c-n*o-i*l-a*u,e}function Nv(e,t,r,n){var i=t[0],a=t[1],s=t[2],o=t[3],l=r[0],u=r[1],c=r[2],f=r[3],h,d,p,v,g;return d=i*l+a*u+s*c+o*f,d<0&&(d=-d,l=-l,u=-u,c=-c,f=-f),1-d>tr?(h=Math.acos(d),p=Math.sin(h),v=Math.sin((1-n)*h)/p,g=Math.sin(n*h)/p):(v=1-n,g=n),e[0]=v*i+g*l,e[1]=v*a+g*u,e[2]=v*s+g*c,e[3]=v*o+g*f,e}function Cv(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r*r+n*n+i*i+a*a,o=s?1/s:0;return e[0]=-r*o,e[1]=-n*o,e[2]=-i*o,e[3]=a*o,e}function iK(e,t){var r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;n=Math.sqrt(t[i*3+i]-t[a*3+a]-t[s*3+s]+1),e[i]=.5*n,n=.5/n,e[3]=(t[a*3+s]-t[s*3+a])*n,e[a]=(t[a*3+i]+t[i*3+a])*n,e[s]=(t[s*3+i]+t[i*3+s])*n}return e}function Sf(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var a=Math.sin(t),s=Math.cos(t),o=Math.sin(r),l=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return e[0]=a*l*c-s*o*u,e[1]=s*o*c+a*l*u,e[2]=s*l*u-a*o*c,e[3]=s*l*c+a*o*u,e}var aK=ku,kf=tK,sT=rK,oT=Ps,id=nK;(function(){var e=mt(),t=Ut(1,0,0),r=Ut(0,1,0);return function(n,i,a){var s=da(i,a);return s<-.999999?(Th(e,t,i),_5(e)<1e-6&&Th(e,r,i),ko(e,e),xs(n,e,Math.PI),n):s>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(Th(e,i,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+s,id(n,n))}})();(function(){var e=Dr(),t=Dr();return function(r,n,i,a,s,o){return Nv(e,n,s,o),Nv(t,i,a,o),Nv(r,e,t,2*o*(1-o)),r}})();(function(){var e=n5();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],id(t,iK(t,e))}})();function l2(){var e=new Nr(2);return Nr!=Float32Array&&(e[0]=0,e[1]=0),e}function sK(e,t){return e[0]=t[0],e[1]=t[1],e}function oK(e,t,r){return e[0]=t,e[1]=r,e}function lK(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function uK(e,t){return e[0]*t[0]+e[1]*t[1]}function cK(e,t){return e[0]===t[0]&&e[1]===t[1]}(function(){var e=l2();return function(t,r,n,i,a,s){var o,l;for(r||(r=2),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,o=n;o<l;o+=r)e[0]=t[o],e[1]=t[o+1],a(e,e,s),t[o]=e[0],t[o+1]=e[1];return t}})();var yc=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},fK=function(e,t){return yc(e)?e.indexOf(t)>-1:!1},hK=function(e,t){if(!yc(e))return e;for(var r=[],n=0;n<e.length;n++){var i=e[n];t(i,n)&&r.push(i)}return r},Ove=function(e,t){return t===void 0&&(t=[]),hK(e,function(r){return!fK(t,r)})};function Ht(e){return typeof e=="function"}function Qe(e){return e==null}function Si(e){return Array.isArray(e)}const Xa=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function E5(e,t){if(e){var r;if(Si(e))for(var n=0,i=e.length;n<i&&(r=t(e[n],n),r!==!1);n++);else if(Xa(e)){for(var a in e)if(e.hasOwnProperty(a)&&(r=t(e[a],a),r===!1))break}}}var Kw=function(e){return typeof e=="object"&&e!==null},dK={}.toString,S5=function(e,t){return dK.call(e)==="[object "+t+"]"},Bl=function(e){if(!Kw(e)||!S5(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function ad(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var r=e[0],n=1;n<t;n++)r=Math.max(r,e[n]);return r}const sd=function(e){if(Si(e))return e.reduce(function(t,r){return Math.min(t,r)},e[0])};var pK=function(e,t,r){if(!Si(e)&&!Bl(e))return e;var n=r;return E5(e,function(i,a){n=t(n,i,a)}),n};function Ft(e){return typeof e=="string"}function Pve(e,t){t===void 0&&(t=new Map);var r=[];if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var a=e[n];t.has(a)||(r.push(a),t.set(a,!0))}return r}var vK=Object.prototype.hasOwnProperty;function Nve(e,t){if(!t||!Si(e))return{};for(var r={},n=Ht(t)?t:function(o){return o[t]},i,a=0;a<e.length;a++){var s=e[a];i=n(s),vK.call(r,i)?r[i].push(s):r[i]=[s]}return r}var wr=function(e,t,r){return e<t?t:e>r?r:e};function Ye(e){return typeof e=="number"}var gK=1e-5;function Xu(e,t,r){return r===void 0&&(r=gK),e===t||Math.abs(e-t)<r}const mK=function(e,t){if(Si(e)){for(var r,n=-1/0,i=0;i<e.length;i++){var a=e[i],s=Ht(t)?t(a):a[t];s>n&&(r=a,n=s)}return r}},yK=function(e,t){if(Si(e)){for(var r,n=1/0,i=0;i<e.length;i++){var a=e[i],s=Ht(t)?t(a):a[t];s<n&&(r=a,n=s)}return r}};var k5=function(e,t){return(e%t+t)%t};const T5=function(e){return Qe(e)?"":e.toString()};var Cve=function(e){var t=T5(e);return t.charAt(0).toLowerCase()+t.substring(1)};function bK(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){return r.charAt(0)==="\\"?r.slice(1):t[n]===void 0?"":t[n]})}var Rve=function(e){var t=T5(e);return t.charAt(0).toUpperCase()+t.substring(1)},wK={}.toString,xK=function(e){return wK.call(e).replace(/^\[object /,"").replace(/]$/,"")},lT=function(e){return S5(e,"Boolean")};function Lve(e){return e instanceof Date}function _K(e){return e===null}var EK=Object.prototype,SK=function(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||EK;return e===r},er=function(e){return e===void 0},Lo=function(e){if(typeof e!="object"||e===null)return e;var t;if(Si(e)){t=[];for(var r=0,n=e.length;r<n;r++)typeof e[r]=="object"&&e[r]!=null?t[r]=Lo(e[r]):t[r]=e[r]}else{t={};for(var i in e)typeof e[i]=="object"&&e[i]!=null?t[i]=Lo(e[i]):t[i]=e[i]}return t};function kK(e,t,r){var n;return function(){var i=this,a=arguments,s=function(){n=null,e.apply(i,a)};clearTimeout(n),n=setTimeout(s,t)}}function TK(e){var t,r,n,i=e||1;function a(o,l){++t>i&&(n=r,s(1),++t),r[o]=l}function s(o){t=0,r=Object.create(null),o||(n=Object.create(null))}return s(),{clear:s,has:function(o){return r[o]!==void 0||n[o]!==void 0},get:function(o){var l=r[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return a(o,l),l},set:function(o,l){r[o]!==void 0?r[o]=l:a(o,l)}}}var Rv=new Map;function MK(e,t,r){r===void 0&&(r=128);var n=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=t?t.apply(this,i):i[0];Rv.has(e)||Rv.set(e,TK(r));var o=Rv.get(e);if(o.has(s))return o.get(s);var l=e.apply(this,i);return o.set(s,l),l};return n}var AK=5;function OK(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function M5(e,t,r,n){r=r||0,n=n||AK;for(var i in t)if(OK(t,i)){var a=t[i];a!==null&&Bl(a)?(Bl(e[i])||(e[i]={}),r<n?M5(e[i],a,r+1,n):e[i]=t[i]):Si(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var Ls=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n+=1)M5(e,t[n]);return e},PK=Object.prototype.hasOwnProperty;function Ive(e){if(Qe(e))return!0;if(yc(e))return!e.length;var t=xK(e);if(t==="Map"||t==="Set")return!e.size;if(SK(e))return!Object.keys(e).length;for(var r in e)if(PK.call(e,r))return!1;return!0}var Zw=function(e,t){if(e===t)return!0;if(!e||!t||Ft(e)||Ft(t))return!1;if(yc(e)||yc(t)){if(e.length!==t.length)return!1;for(var r=!0,n=0;n<e.length&&(r=Zw(e[n],t[n]),!!r);n++);return r}if(Kw(e)||Kw(t)){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var r=!0,n=0;n<i.length&&(r=Zw(e[i[n]],t[i[n]]),!!r);n++);return r}return!1};const A5=function(e,t,r){for(var n=0,i=Ft(t)?t.split("."):t;e&&n<i.length;)e=e[i[n++]];return e===void 0||n<i.length?r:e},NK=function(e,t,r){var n=e,i=Ft(t)?t.split("."):t;return i.forEach(function(a,s){s<i.length-1?(Xa(n[a])||(n[a]=Ye(i[s+1])?[]:{}),n=n[a]):n[a]=r}),e};var CK=Object.prototype.hasOwnProperty;const uT=function(e,t){if(e===null||!Bl(e))return{};var r={};return E5(t,function(n){CK.call(e,n)&&(r[n]=e[n])}),r},RK=function(e,t){return pK(e,function(r,n,i){return t.includes(i)||(r[i]=n),r},{})},Dve=function(e,t,r){var n,i,a,s,o=0;r||(r={});var l=function(){o=r.leading===!1?0:Date.now(),n=null,s=e.apply(i,a),n||(i=a=null)},u=function(){var c=Date.now();!o&&r.leading===!1&&(o=c);var f=t-(c-o);return i=this,a=arguments,f<=0||f>t?(n&&(clearTimeout(n),n=null),o=c,s=e.apply(i,a),n||(i=a=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,f)),s};return u.cancel=function(){clearTimeout(n),o=0,n=i=a=null},u};var Tf={};const Fve=function(e){return e=e||"g",Tf[e]?Tf[e]+=1:Tf[e]=1,e+Tf[e]},Lv=function(){},Qw=function(e){return e};var Jw=function(e,t){return Jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Jw(e,t)};function dt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ee=function(){return Ee=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ee.apply(this,arguments)};function gr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ft(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function $c(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function LK(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function Ue(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Iv(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var O5={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function IK(e,t,r){if(e[r].length>7){e[r].shift();for(var n=e[r],i=r;n.length;)t[r]="A",e.splice(i+=1,0,["C"].concat(n.splice(0,6)));e.splice(r,1)}}var Ku={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function P5(e){return Array.isArray(e)&&e.every(function(t){var r=t[0].toLowerCase();return Ku[r]===t.length-1&&"achlmqstvz".includes(r)})}function N5(e){return P5(e)&&e.every(function(t){var r=t[0];return r===r.toUpperCase()})}function C5(e){return N5(e)&&e.every(function(t){var r=t[0];return"ACLMQZ".includes(r)})}function cT(e){for(var t=e.pathValue[e.segmentStart],r=t.toLowerCase(),n=e.data;n.length>=Ku[r]&&(r==="m"&&n.length>2?(e.segments.push([t].concat(n.splice(0,2))),r="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(n.splice(0,Ku[r]))),!!Ku[r]););}function DK(e){var t=e.index,r=e.pathValue,n=r.charCodeAt(t);if(n===48){e.param=0,e.index+=1;return}if(n===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'.concat(r[t],'", expecting 0 or 1 at index ').concat(t)}function FK(e){return e>=48&&e<=57||e===43||e===45||e===46}function el(e){return e>=48&&e<=57}function BK(e){var t=e.max,r=e.pathValue,n=e.index,i=n,a=!1,s=!1,o=!1,l=!1,u;if(i>=t){e.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(u=r.charCodeAt(i),(u===43||u===45)&&(i+=1,u=r.charCodeAt(i)),!el(u)&&u!==46){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" is not a number');return}if(u!==46){if(a=u===48,i+=1,u=r.charCodeAt(i),a&&i<t&&u&&el(u)){e.err="[path-util]: Invalid path value at index ".concat(n,', "').concat(r[n],'" illegal number');return}for(;i<t&&el(r.charCodeAt(i));)i+=1,s=!0;u=r.charCodeAt(i)}if(u===46){for(l=!0,i+=1;el(r.charCodeAt(i));)i+=1,o=!0;u=r.charCodeAt(i)}if(u===101||u===69){if(l&&!s&&!o){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" invalid float exponent');return}if(i+=1,u=r.charCodeAt(i),(u===43||u===45)&&(i+=1),i<t&&el(r.charCodeAt(i)))for(;i<t&&el(r.charCodeAt(i));)i+=1;else{e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" invalid integer exponent');return}}e.index=i,e.param=+e.pathValue.slice(n,i)}function $K(e){var t=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&t.includes(e)}function Mh(e){for(var t=e.pathValue,r=e.max;e.index<r&&$K(t.charCodeAt(e.index));)e.index+=1}function qK(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function zK(e){return(e|32)===97}function jK(e){var t=e.max,r=e.pathValue,n=e.index,i=r.charCodeAt(n),a=Ku[r[n].toLowerCase()];if(e.segmentStart=n,!qK(i)){e.err='[path-util]: Invalid path value "'.concat(r[n],'" is not a path command');return}if(e.index+=1,Mh(e),e.data=[],!a){cT(e);return}for(;;){for(var s=a;s>0;s-=1){if(zK(i)&&(s===3||s===4)?DK(e):BK(e),e.err.length)return;e.data.push(e.param),Mh(e),e.index<t&&r.charCodeAt(e.index)===44&&(e.index+=1,Mh(e))}if(e.index>=e.max||!FK(r.charCodeAt(e.index)))break}cT(e)}var GK=function(){function e(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e}();function WK(e){if(P5(e))return[].concat(e);var t=new GK(e);for(Mh(t);t.index<t.max&&!t.err.length;)jK(t);return t.err?t.err:t.segments}function VK(e){if(N5(e))return[].concat(e);var t=WK(e),r=0,n=0,i=0,a=0;return t.map(function(s){var o=s.slice(1).map(Number),l=s[0],u=l.toUpperCase();if(l==="M")return r=o[0],n=o[1],i=r,a=n,["M",r,n];var c;if(l!==u)switch(u){case"A":c=[u,o[0],o[1],o[2],o[3],o[4],o[5]+r,o[6]+n];break;case"V":c=[u,o[0]+n];break;case"H":c=[u,o[0]+r];break;default:{var f=o.map(function(d,p){return d+(p%2?n:r)});c=[u].concat(f)}}else c=[u].concat(o);var h=c.length;switch(u){case"Z":r=i,n=a;break;case"H":r=c[1];break;case"V":n=c[1];break;default:r=c[h-2],n=c[h-1],u==="M"&&(i=r,a=n)}return c})}function UK(e,t){var r=e[0],n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=e.slice(1).map(Number),l=e;if("TQ".includes(r)||(t.qx=null,t.qy=null),r==="H")l=["L",e[1],i];else if(r==="V")l=["L",n,e[1]];else if(r==="S"){var u=n*2-a,c=i*2-s;t.x1=u,t.y1=c,l=["C",u,c].concat(o)}else if(r==="T"){var f=n*2-t.qx,h=i*2-t.qy;t.qx=f,t.qy=h,l=["Q",f,h].concat(o)}else if(r==="Q"){var d=o[0],p=o[1];t.qx=d,t.qy=p}return l}function od(e){if(C5(e))return[].concat(e);for(var t=VK(e),r=Ee({},O5),n=0;n<t.length;n+=1){t[n]=UK(t[n],r);var i=t[n],a=i.length;r.x1=+i[a-2],r.y1=+i[a-1],r.x2=+i[a-4]||r.x1,r.y2=+i[a-3]||r.y1}return t}function HK(e){return C5(e)&&e.every(function(t){var r=t[0];return"MC".includes(r)})}function Mf(e,t,r){var n=e*Math.cos(r)-t*Math.sin(r),i=e*Math.sin(r)+t*Math.cos(r);return{x:n,y:i}}function u2(e,t,r,n,i,a,s,o,l,u){var c=e,f=t,h=r,d=n,p=o,v=l,g=Math.PI*120/180,m=Math.PI/180*(+i||0),y=[],b,x,E,S,_;if(u)x=u[0],E=u[1],S=u[2],_=u[3];else{b=Mf(c,f,-m),c=b.x,f=b.y,b=Mf(p,v,-m),p=b.x,v=b.y;var k=(c-p)/2,O=(f-v)/2,P=k*k/(h*h)+O*O/(d*d);P>1&&(P=Math.sqrt(P),h*=P,d*=P);var N=h*h,R=d*d,L=(a===s?-1:1)*Math.sqrt(Math.abs((N*R-N*O*O-R*k*k)/(N*O*O+R*k*k)));S=L*h*O/d+(c+p)/2,_=L*-d*k/h+(f+v)/2,x=Math.asin(((f-_)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),E=Math.asin(((v-_)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),x=c<S?Math.PI-x:x,E=p<S?Math.PI-E:E,x<0&&(x=Math.PI*2+x),E<0&&(E=Math.PI*2+E),s&&x>E&&(x-=Math.PI*2),!s&&E>x&&(E-=Math.PI*2)}var D=E-x;if(Math.abs(D)>g){var $=E,X=p,K=v;E=x+g*(s&&E>x?1:-1),p=S+h*Math.cos(E),v=_+d*Math.sin(E),y=u2(p,v,h,d,i,0,s,X,K,[E,$,S,_])}D=E-x;var V=Math.cos(x),ne=Math.sin(x),we=Math.cos(E),Se=Math.sin(E),pe=Math.tan(D/4),qe=4/3*h*pe,ee=4/3*d*pe,U=[c,f],le=[c+qe*ne,f-ee*V],Z=[p+qe*Se,v-ee*we],se=[p,v];if(le[0]=2*U[0]-le[0],le[1]=2*U[1]-le[1],u)return le.concat(Z,se,y);y=le.concat(Z,se,y);for(var ve=[],ge=0,Me=y.length;ge<Me;ge+=1)ve[ge]=ge%2?Mf(y[ge-1],y[ge],m).y:Mf(y[ge],y[ge+1],m).x;return ve}function YK(e,t,r,n,i,a){var s=.3333333333333333,o=2/3;return[s*e+o*r,s*t+o*n,s*i+o*r,s*a+o*n,i,a]}function vs(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return[n+(a-n)*r,i+(s-i)*r]}var fT=function(e,t,r,n){var i=.5,a=vs([e,t],[r,n],i);return Ue(Ue([],a,!0),[r,n,r,n],!1)};function XK(e,t){var r=e[0],n=e.slice(1).map(Number),i=n[0],a=n[1],s,o=t.x1,l=t.y1,u=t.x,c=t.y;switch("TQ".includes(r)||(t.qx=null,t.qy=null),r){case"M":return t.x=i,t.y=a,e;case"A":return s=[o,l].concat(n),["C"].concat(u2(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));case"Q":return t.qx=i,t.qy=a,s=[o,l].concat(n),["C"].concat(YK(s[0],s[1],s[2],s[3],s[4],s[5]));case"L":return["C"].concat(fT(o,l,i,a));case"Z":return o===u&&l===c?["C",o,l,u,c,u,c]:["C"].concat(fT(o,l,u,c))}return e}function ex(e,t){if(t===void 0&&(t=!1),HK(e)){var r=[].concat(e);return t?[r,[]]:r}for(var n=od(e),i=Ee({},O5),a=[],s="",o=n.length,l,u,c=[],f=0;f<o;f+=1){n[f]&&(s=n[f][0]),a[f]=s;var h=XK(n[f],i);n[f]=h,IK(n,a,f),o=n.length,s==="Z"&&c.push(f),l=n[f],u=l.length,i.x1=+l[u-2],i.y1=+l[u-1],i.x2=+l[u-4]||i.x1,i.y2=+l[u-3]||i.y1}return t?[n,c]:n}function KK(e){return e.map(function(t){return Array.isArray(t)?[].concat(t):t})}function ZK(e){var t=e.slice(1).map(function(r,n,i){return n?i[n-1].slice(-2).concat(r.slice(1)):e[0].slice(1).concat(r.slice(1))}).map(function(r){return r.map(function(n,i){return r[r.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(r){return["C"].concat(r.slice(2))}))}function Rn(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function tx(e,t,r,n,i){var a=Rn([e,t],[r,n]),s={x:0,y:0};if(typeof i=="number")if(i<=0)s={x:e,y:t};else if(i>=a)s={x:r,y:n};else{var o=vs([e,t],[r,n],i/a),l=o[0],u=o[1];s={x:l,y:u}}return{length:a,point:s,min:{x:Math.min(e,r),y:Math.min(t,n)},max:{x:Math.max(e,r),y:Math.max(t,n)}}}function hT(e,t){var r=e.x,n=e.y,i=t.x,a=t.y,s=r*i+n*a,o=Math.sqrt((Math.pow(r,2)+Math.pow(n,2))*(Math.pow(i,2)+Math.pow(a,2))),l=r*a-n*i<0?-1:1,u=l*Math.acos(s/o);return u}function QK(e,t,r,n,i,a,s,o,l,u){var c=Math.abs,f=Math.sin,h=Math.cos,d=Math.sqrt,p=Math.PI,v=c(r),g=c(n),m=(i%360+360)%360,y=m*(p/180);if(e===o&&t===l)return{x:e,y:t};if(v===0||g===0)return tx(e,t,o,l,u).point;var b=(e-o)/2,x=(t-l)/2,E={x:h(y)*b+f(y)*x,y:-f(y)*b+h(y)*x},S=Math.pow(E.x,2)/Math.pow(v,2)+Math.pow(E.y,2)/Math.pow(g,2);S>1&&(v*=d(S),g*=d(S));var _=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(E.y,2)-Math.pow(g,2)*Math.pow(E.x,2),k=Math.pow(v,2)*Math.pow(E.y,2)+Math.pow(g,2)*Math.pow(E.x,2),O=_/k;O=O<0?0:O;var P=(a!==s?1:-1)*d(O),N={x:P*(v*E.y/g),y:P*(-(g*E.x)/v)},R={x:h(y)*N.x-f(y)*N.y+(e+o)/2,y:f(y)*N.x+h(y)*N.y+(t+l)/2},L={x:(E.x-N.x)/v,y:(E.y-N.y)/g},D=hT({x:1,y:0},L),$={x:(-E.x-N.x)/v,y:(-E.y-N.y)/g},X=hT(L,$);!s&&X>0?X-=2*p:s&&X<0&&(X+=2*p),X%=2*p;var K=D+X*u,V=v*h(K),ne=g*f(K),we={x:h(y)*V-f(y)*ne+R.x,y:f(y)*V+h(y)*ne+R.y};return we}function JK(e,t,r,n,i,a,s,o,l,u,c){var f,h=c.bbox,d=h===void 0?!0:h,p=c.length,v=p===void 0?!0:p,g=c.sampleSize,m=g===void 0?30:g,y=typeof u=="number",b=e,x=t,E=0,S=[b,x,E],_=[b,x],k=0,O={x:0,y:0},P=[{x:b,y:x}];y&&u<=0&&(O={x:b,y:x});for(var N=0;N<=m;N+=1){if(k=N/m,f=QK(e,t,r,n,i,a,s,o,l,k),b=f.x,x=f.y,d&&P.push({x:b,y:x}),v&&(E+=Rn(_,[b,x])),_=[b,x],y&&E>=u&&u>S[2]){var R=(E-u)/(E-S[2]);O={x:_[0]*(1-R)+S[0]*R,y:_[1]*(1-R)+S[1]*R}}S=[b,x,E]}return y&&u>=E&&(O={x:o,y:l}),{length:E,point:O,min:{x:Math.min.apply(null,P.map(function(L){return L.x})),y:Math.min.apply(null,P.map(function(L){return L.y}))},max:{x:Math.max.apply(null,P.map(function(L){return L.x})),y:Math.max.apply(null,P.map(function(L){return L.y}))}}}function eZ(e,t,r,n,i,a,s,o,l){var u=1-l;return{x:Math.pow(u,3)*e+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*i+Math.pow(l,3)*s,y:Math.pow(u,3)*t+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*a+Math.pow(l,3)*o}}function R5(e,t,r,n,i,a,s,o,l,u){var c,f=u.bbox,h=f===void 0?!0:f,d=u.length,p=d===void 0?!0:d,v=u.sampleSize,g=v===void 0?10:v,m=typeof l=="number",y=e,b=t,x=0,E=[y,b,x],S=[y,b],_=0,k={x:0,y:0},O=[{x:y,y:b}];m&&l<=0&&(k={x:y,y:b});for(var P=0;P<=g;P+=1){if(_=P/g,c=eZ(e,t,r,n,i,a,s,o,_),y=c.x,b=c.y,h&&O.push({x:y,y:b}),p&&(x+=Rn(S,[y,b])),S=[y,b],m&&x>=l&&l>E[2]){var N=(x-l)/(x-E[2]);k={x:S[0]*(1-N)+E[0]*N,y:S[1]*(1-N)+E[1]*N}}E=[y,b,x]}return m&&l>=x&&(k={x:s,y:o}),{length:x,point:k,min:{x:Math.min.apply(null,O.map(function(R){return R.x})),y:Math.min.apply(null,O.map(function(R){return R.y}))},max:{x:Math.max.apply(null,O.map(function(R){return R.x})),y:Math.max.apply(null,O.map(function(R){return R.y}))}}}function tZ(e,t,r,n,i,a,s){var o=1-s;return{x:Math.pow(o,2)*e+2*o*s*r+Math.pow(s,2)*i,y:Math.pow(o,2)*t+2*o*s*n+Math.pow(s,2)*a}}function rZ(e,t,r,n,i,a,s,o){var l,u=o.bbox,c=u===void 0?!0:u,f=o.length,h=f===void 0?!0:f,d=o.sampleSize,p=d===void 0?10:d,v=typeof s=="number",g=e,m=t,y=0,b=[g,m,y],x=[g,m],E=0,S={x:0,y:0},_=[{x:g,y:m}];v&&s<=0&&(S={x:g,y:m});for(var k=0;k<=p;k+=1){if(E=k/p,l=tZ(e,t,r,n,i,a,E),g=l.x,m=l.y,c&&_.push({x:g,y:m}),h&&(y+=Rn(x,[g,m])),x=[g,m],v&&y>=s&&s>b[2]){var O=(y-s)/(y-b[2]);S={x:x[0]*(1-O)+b[0]*O,y:x[1]*(1-O)+b[1]*O}}b=[g,m,y]}return v&&s>=y&&(S={x:i,y:a}),{length:y,point:S,min:{x:Math.min.apply(null,_.map(function(P){return P.x})),y:Math.min.apply(null,_.map(function(P){return P.y}))},max:{x:Math.max.apply(null,_.map(function(P){return P.x})),y:Math.max.apply(null,_.map(function(P){return P.y}))}}}function L5(e,t,r){for(var n,i,a,s,o,l,u=od(e),c=typeof t=="number",f,h=[],d,p=0,v=0,g=0,m=0,y,b=[],x=[],E=0,S={x:0,y:0},_=S,k=S,O=S,P=0,N=0,R=u.length;N<R;N+=1)y=u[N],d=y[0],f=d==="M",h=f?h:[p,v].concat(y.slice(1)),f?(g=y[1],m=y[2],S={x:g,y:m},_=S,E=0,c&&t<.001&&(O=S)):d==="L"?(n=tx(h[0],h[1],h[2],h[3],(t||0)-P),E=n.length,S=n.min,_=n.max,k=n.point):d==="A"?(i=JK(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],(t||0)-P,r||{}),E=i.length,S=i.min,_=i.max,k=i.point):d==="C"?(a=R5(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],(t||0)-P,r||{}),E=a.length,S=a.min,_=a.max,k=a.point):d==="Q"?(s=rZ(h[0],h[1],h[2],h[3],h[4],h[5],(t||0)-P,r||{}),E=s.length,S=s.min,_=s.max,k=s.point):d==="Z"&&(h=[p,v,g,m],o=tx(h[0],h[1],h[2],h[3],(t||0)-P),E=o.length,S=o.min,_=o.max,k=o.point),c&&P<t&&P+E>=t&&(O=k),x.push(_),b.push(S),P+=E,l=d!=="Z"?y.slice(-2):[g,m],p=l[0],v=l[1];return c&&t>=P&&(O={x:p,y:v}),{length:P,point:O,min:{x:Math.min.apply(null,b.map(function(L){return L.x})),y:Math.min.apply(null,b.map(function(L){return L.y}))},max:{x:Math.max.apply(null,x.map(function(L){return L.x})),y:Math.max.apply(null,x.map(function(L){return L.y}))}}}function nZ(e,t){return L5(e,void 0,Ee(Ee({},t),{bbox:!1,length:!0})).length}function iZ(e){var t=e.length,r=t-1;return e.map(function(n,i){return e.map(function(a,s){var o=i+s,l;return s===0||e[o]&&e[o][0]==="M"?(l=e[o],["M"].concat(l.slice(-2))):(o>=t&&(o-=r),e[o])})})}function aZ(e,t){var r=e.length-1,n=[],i=0,a=0,s=iZ(e);return s.forEach(function(o,l){e.slice(1).forEach(function(u,c){a+=Rn(e[(l+c)%r].slice(-2),t[c%r].slice(-2))}),n[l]=a,a=0}),i=n.indexOf(Math.min.apply(null,n)),s[i]}function sZ(e,t,r,n,i,a,s,o){return 3*((o-t)*(r+i)-(s-e)*(n+a)+n*(e-i)-r*(t-a)+o*(i+e/3)-s*(a+t/3))/20}function oZ(e){var t=0,r=0,n=0;return ex(e).map(function(i){var a;switch(i[0]){case"M":return t=i[1],r=i[2],0;default:var s=i.slice(1),o=s[0],l=s[1],u=s[2],c=s[3],f=s[4],h=s[5];return n=sZ(t,r,o,l,u,c,f,h),a=i.slice(-2),t=a[0],r=a[1],n}}).reduce(function(i,a){return i+a},0)}function dT(e){return oZ(e)>=0}function lZ(e,t,r){return L5(e,t,Ee(Ee({},r),{bbox:!1,length:!0})).point}function uZ(e,t){t===void 0&&(t=.5);var r=e.slice(0,2),n=e.slice(2,4),i=e.slice(4,6),a=e.slice(6,8),s=vs(r,n,t),o=vs(n,i,t),l=vs(i,a,t),u=vs(s,o,t),c=vs(o,l,t),f=vs(u,c,t);return[["C"].concat(s,u,f),["C"].concat(c,l,a)]}function pT(e){return e.map(function(t,r,n){var i=r&&n[r-1].slice(-2).concat(t.slice(1)),a=r?R5(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,s;return r?s=a?uZ(i):[t,t]:s=[t],{s:t,ss:s,l:a}})}function I5(e,t,r){var n=pT(e),i=pT(t),a=n.length,s=i.length,o=n.filter(function(g){return g.l}).length,l=i.filter(function(g){return g.l}).length,u=n.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/o||0,c=i.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/l||0,f=r||Math.max(a,s),h=[u,c],d=[f-a,f-s],p=0,v=[n,i].map(function(g,m){return g.l===f?g.map(function(y){return y.s}):g.map(function(y,b){return p=b&&d[m]&&y.l>=h[m],d[m]-=p?1:0,p?y.ss:[y.s]}).flat()});return v[0].length===v[1].length?v:I5(v[0],v[1],f)}function vT(e){var t=document.createElement("div");t.innerHTML=e;var r=t.childNodes[0];return r&&t.contains(r)&&t.removeChild(r),r}function cZ(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Il(e))!==null;);return e}function rx(){return rx=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=cZ(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},rx.apply(null,arguments)}function gT(e,t,r,n){var i=rx(Il(e.prototype),t,r);return typeof i=="function"?function(a){return i.apply(r,a)}:i}/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function Ua(e,t,r,n){var i=e-r,a=t-n;return Math.sqrt(i*i+a*a)}function D5(e,t){var r=Math.min.apply(Math,vt(e)),n=Math.min.apply(Math,vt(t)),i=Math.max.apply(Math,vt(e)),a=Math.max.apply(Math,vt(t));return{x:r,y:n,width:i-r,height:a-n}}function fZ(e,t,r){return Math.atan(-t/e*Math.tan(r))}function hZ(e,t,r){return Math.atan(t/(e*Math.tan(r)))}function dZ(e,t,r,n,i,a){return r*Math.cos(i)*Math.cos(a)-n*Math.sin(i)*Math.sin(a)+e}function pZ(e,t,r,n,i,a){return r*Math.sin(i)*Math.cos(a)+n*Math.cos(i)*Math.sin(a)+t}function vZ(e,t,r,n,i,a,s){for(var o=fZ(r,n,i),l=1/0,u=-1/0,c=[a,s],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var h=o+f;a<s?a<h&&h<s&&c.push(h):s<h&&h<a&&c.push(h)}for(var d=0;d<c.length;d++){var p=dZ(e,t,r,n,i,c[d]);p<l&&(l=p),p>u&&(u=p)}for(var v=hZ(r,n,i),g=1/0,m=-1/0,y=[a,s],b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var x=v+b;a<s?a<x&&x<s&&y.push(x):s<x&&x<a&&y.push(x)}for(var E=0;E<y.length;E++){var S=pZ(e,t,r,n,i,y[E]);S<g&&(g=S),S>m&&(m=S)}return{x:l,y:g,width:u-l,height:m-g}}var gZ=1e-4;function F5(e,t,r,n,i,a){var s=-1,o=1/0,l=[r,n],u=20;a&&a>200&&(u=a/10);for(var c=1/u,f=c/10,h=0;h<=u;h++){var d=h*c,p=[i.apply(void 0,vt(e.concat([d]))),i.apply(void 0,vt(t.concat([d])))],v=Ua(l[0],l[1],p[0],p[1]);v<o&&(s=d,o=v)}if(s===0)return{x:e[0],y:t[0]};if(s===1){var g=e.length;return{x:e[g-1],y:t[g-1]}}o=1/0;for(var m=0;m<32&&!(f<gZ);m++){var y=s-f,b=s+f,x=[i.apply(void 0,vt(e.concat([y]))),i.apply(void 0,vt(t.concat([y])))],E=Ua(l[0],l[1],x[0],x[1]);if(y>=0&&E<o)s=y,o=E;else{var S=[i.apply(void 0,vt(e.concat([b]))),i.apply(void 0,vt(t.concat([b])))],_=Ua(l[0],l[1],S[0],S[1]);b<=1&&_<o?(s=b,o=_):f*=.5}}return{x:i.apply(void 0,vt(e.concat([s]))),y:i.apply(void 0,vt(t.concat([s])))}}function B5(e,t,r,n){return Ua(e,t,r,n)}function $5(e,t,r,n,i){return{x:(1-i)*e+i*r,y:(1-i)*t+i*n}}function mZ(e,t,r,n,i,a){var s=[r-e,n-t];if(cK(s,[0,0]))return Math.sqrt((i-e)*(i-e)+(a-t)*(a-t));var o=[-s[1],s[0]];lK(o,o);var l=[i-e,a-t];return Math.abs(uK(l,o))}function nx(e,t,r,n,i){var a=1-i;return a*a*a*e+3*t*i*a*a+3*r*i*i*a+n*i*i*i}function mT(e,t,r,n){var i=-3*e+9*t-9*r+3*n,a=6*e-12*t+6*r,s=3*t-3*e,o=[],l,u,c;if(Xu(i,0))Xu(a,0)||(l=-s/a,l>=0&&l<=1&&o.push(l));else{var f=a*a-4*i*s;Xu(f,0)?o.push(-a/(2*i)):f>0&&(c=Math.sqrt(f),l=(-a+c)/(2*i),u=(-a-c)/(2*i),l>=0&&l<=1&&o.push(l),u>=0&&u<=1&&o.push(u))}return o}function yZ(e,t,r,n,i,a,s,o){for(var l=[e,s],u=[t,o],c=mT(e,r,i,s),f=mT(t,n,a,o),h=0;h<c.length;h++)l.push(nx(e,r,i,s,c[h]));for(var d=0;d<f.length;d++)u.push(nx(t,n,a,o,f[d]));return D5(l,u)}function bZ(e,t,r,n,i,a,s,o,l,u,c){return F5([e,r,i,s],[t,n,a,o],l,u,nx,c)}function yT(e,t,r,n,i,a,s,o,l,u,c){var f=bZ(e,t,r,n,i,a,s,o,l,u,c);return Ua(f.x,f.y,l,u)}function wZ(e){if(e.length<2)return 0;for(var t=0,r=0;r<e.length-1;r++){var n=e[r],i=e[r+1];t+=Ua(n[0],n[1],i[0],i[1])}return t}function xZ(e){return wZ(e)}function ix(e,t,r,n){var i=1-n;return i*i*e+2*n*i*t+n*n*r}function bT(e,t,r){var n=e+r-2*t;if(Xu(n,0))return[.5];var i=(e-t)/n;return i<=1&&i>=0?[i]:[]}function _Z(e,t,r,n,i,a){var s=bT(e,r,i)[0],o=bT(t,n,a)[0],l=[e,i],u=[t,a];return s!==void 0&&l.push(ix(e,r,i,s)),o!==void 0&&u.push(ix(t,n,a,o)),D5(l,u)}function EZ(e,t,r,n,i,a,s,o){return F5([e,r,i],[t,n,a],s,o,ix)}function SZ(e,t,r,n,i,a,s,o){var l=EZ(e,t,r,n,i,a,s,o);return Ua(l.x,l.y,s,o)}function Qr(){Qr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(P,N,R,L){return Object.defineProperty(P,N,{value:R,enumerable:!L,configurable:!L,writable:!L})}try{l({},"")}catch{l=function(R,L,D){return R[L]=D}}function u(P,N,R,L){var D=N&&N.prototype instanceof h?N:h,$=Object.create(D.prototype);return l($,"_invoke",function(X,K,V){var ne=1;return function(we,Se){if(ne===3)throw Error("Generator is already running");if(ne===4){if(we==="throw")throw Se;return{value:e,done:!0}}for(V.method=we,V.arg=Se;;){var pe=V.delegate;if(pe){var qe=E(pe,V);if(qe){if(qe===f)continue;return qe}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(ne===1)throw ne=4,V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);ne=3;var ee=c(X,K,V);if(ee.type==="normal"){if(ne=V.done?4:2,ee.arg===f)continue;return{value:ee.arg,done:V.done}}ee.type==="throw"&&(ne=4,V.method="throw",V.arg=ee.arg)}}}(P,R,new k(L||[])),!0),$}function c(P,N,R){try{return{type:"normal",arg:P.call(N,R)}}catch(L){return{type:"throw",arg:L}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};l(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(O([])));m&&m!==r&&n.call(m,a)&&(v=m);var y=p.prototype=h.prototype=Object.create(v);function b(P){["next","throw","return"].forEach(function(N){l(P,N,function(R){return this._invoke(N,R)})})}function x(P,N){function R(D,$,X,K){var V=c(P[D],P,$);if(V.type!=="throw"){var ne=V.arg,we=ne.value;return we&&Cs(we)=="object"&&n.call(we,"__await")?N.resolve(we.__await).then(function(Se){R("next",Se,X,K)},function(Se){R("throw",Se,X,K)}):N.resolve(we).then(function(Se){ne.value=Se,X(ne)},function(Se){return R("throw",Se,X,K)})}K(V.arg)}var L;l(this,"_invoke",function(D,$){function X(){return new N(function(K,V){R(D,$,K,V)})}return L=L?L.then(X,X):X()},!0)}function E(P,N){var R=N.method,L=P.i[R];if(L===e)return N.delegate=null,R==="throw"&&P.i.return&&(N.method="return",N.arg=e,E(P,N),N.method==="throw")||R!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+R+"' method")),f;var D=c(L,P.i,N.arg);if(D.type==="throw")return N.method="throw",N.arg=D.arg,N.delegate=null,f;var $=D.arg;return $?$.done?(N[P.r]=$.value,N.next=P.n,N.method!=="return"&&(N.method="next",N.arg=e),N.delegate=null,f):$:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,f)}function S(P){this.tryEntries.push(P)}function _(P){var N=P[4]||{};N.type="normal",N.arg=e,P[4]=N}function k(P){this.tryEntries=[[-1]],P.forEach(S,this),this.reset(!0)}function O(P){if(P!=null){var N=P[a];if(N)return N.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var R=-1,L=function D(){for(;++R<P.length;)if(n.call(P,R))return D.value=P[R],D.done=!1,D;return D.value=e,D.done=!0,D};return L.next=L}}throw new TypeError(Cs(P)+" is not iterable")}return d.prototype=p,l(y,"constructor",p),l(p,"constructor",d),d.displayName=l(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(P){var N=typeof P=="function"&&P.constructor;return!!N&&(N===d||(N.displayName||N.name)==="GeneratorFunction")},t.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,p):(P.__proto__=p,l(P,o,"GeneratorFunction")),P.prototype=Object.create(y),P},t.awrap=function(P){return{__await:P}},b(x.prototype),l(x.prototype,s,function(){return this}),t.AsyncIterator=x,t.async=function(P,N,R,L,D){D===void 0&&(D=Promise);var $=new x(u(P,N,R,L),D);return t.isGeneratorFunction(N)?$:$.next().then(function(X){return X.done?X.value:$.next()})},b(y),l(y,o,"Generator"),l(y,a,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),t.keys=function(P){var N=Object(P),R=[];for(var L in N)R.unshift(L);return function D(){for(;R.length;)if((L=R.pop())in N)return D.value=L,D.done=!1,D;return D.done=!0,D}},t.values=O,k.prototype={constructor:k,reset:function(N){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!N)for(var R in this)R.charAt(0)==="t"&&n.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=e)},stop:function(){this.done=!0;var N=this.tryEntries[0][4];if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var R=this;function L(we){X.type="throw",X.arg=N,R.next=we}for(var D=R.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D],X=$[4],K=this.prev,V=$[1],ne=$[2];if($[0]===-1)return L("end"),!1;if(!V&&!ne)throw Error("try statement without catch or finally");if($[0]!=null&&$[0]<=K){if(K<V)return this.method="next",this.arg=e,L(V),!0;if(K<ne)return L(ne),!1}}},abrupt:function(N,R){for(var L=this.tryEntries.length-1;L>=0;--L){var D=this.tryEntries[L];if(D[0]>-1&&D[0]<=this.prev&&this.prev<D[2]){var $=D;break}}$&&(N==="break"||N==="continue")&&$[0]<=R&&R<=$[2]&&($=null);var X=$?$[4]:{};return X.type=N,X.arg=R,$?(this.method="next",this.next=$[2],f):this.complete(X)},complete:function(N,R){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&R&&(this.next=R),f},finish:function(N){for(var R=this.tryEntries.length-1;R>=0;--R){var L=this.tryEntries[R];if(L[2]===N)return this.complete(L[4],L[3]),_(L),f}},catch:function(N){for(var R=this.tryEntries.length-1;R>=0;--R){var L=this.tryEntries[R];if(L[0]===N){var D=L[4];if(D.type==="throw"){var $=D.arg;_(L)}return $}}throw Error("illegal catch attempt")},delegateYield:function(N,R,L){return this.delegate={i:O(N),r:R,n:L},this.method==="next"&&(this.arg=e),f}},t}function wT(e,t,r,n,i,a,s){try{var o=e[a](s),l=o.value}catch(u){return void r(u)}o.done?t(l):Promise.resolve(l).then(n,i)}function Is(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(l){wT(a,n,i,s,o,"next",l)}function o(l){wT(a,n,i,s,o,"throw",l)}s(void 0)})}}function po(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s2(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw a}}}}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zo(e,t){if(e==null)return{};var r,n,i=kZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.2.19
 * @date 5/9/2025, 8:18:56 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var TZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q5={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(TZ,function(){function r(E,S,_,k,O){n(E,S,_||0,k||E.length-1,O||a)}function n(E,S,_,k,O){for(;k>_;){if(k-_>600){var P=k-_+1,N=S-_+1,R=Math.log(P),L=.5*Math.exp(2*R/3),D=.5*Math.sqrt(R*L*(P-L)/P)*(N-P/2<0?-1:1),$=Math.max(_,Math.floor(S-N*L/P+D)),X=Math.min(k,Math.floor(S+(P-N)*L/P+D));n(E,S,$,X,O)}var K=E[S],V=_,ne=k;for(i(E,_,S),O(E[k],K)>0&&i(E,_,k);V<ne;){for(i(E,V,ne),V++,ne--;O(E[V],K)<0;)V++;for(;O(E[ne],K)>0;)ne--}O(E[_],K)===0?i(E,_,ne):(ne++,i(E,ne,k)),ne<=S&&(_=ne+1),S<=ne&&(k=ne-1)}}function i(E,S,_){var k=E[S];E[S]=E[_],E[_]=k}function a(E,S){return E<S?-1:E>S?1:0}var s=function(S){S===void 0&&(S=9),this._maxEntries=Math.max(4,S),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(S){var _=this.data,k=[];if(!y(S,_))return k;for(var O=this.toBBox,P=[];_;){for(var N=0;N<_.children.length;N++){var R=_.children[N],L=_.leaf?O(R):R;y(S,L)&&(_.leaf?k.push(R):m(S,L)?this._all(R,k):P.push(R))}_=P.pop()}return k},s.prototype.collides=function(S){var _=this.data;if(!y(S,_))return!1;for(var k=[];_;){for(var O=0;O<_.children.length;O++){var P=_.children[O],N=_.leaf?this.toBBox(P):P;if(y(S,N)){if(_.leaf||m(S,N))return!0;k.push(P)}}_=k.pop()}return!1},s.prototype.load=function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var _=0;_<S.length;_++)this.insert(S[_]);return this}var k=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=k;else if(this.data.height===k.height)this._splitRoot(this.data,k);else{if(this.data.height<k.height){var O=this.data;this.data=k,k=O}this._insert(k,this.data.height-k.height-1,!0)}return this},s.prototype.insert=function(S){return S&&this._insert(S,this.data.height-1),this},s.prototype.clear=function(){return this.data=b([]),this},s.prototype.remove=function(S,_){if(!S)return this;for(var k=this.data,O=this.toBBox(S),P=[],N=[],R,L,D;k||P.length;){if(k||(k=P.pop(),L=P[P.length-1],R=N.pop(),D=!0),k.leaf){var $=o(S,k.children,_);if($!==-1)return k.children.splice($,1),P.push(k),this._condense(P),this}!D&&!k.leaf&&m(k,O)?(P.push(k),N.push(R),R=0,L=k,k=k.children[0]):L?(R++,k=L.children[R],D=!1):k=null}return this},s.prototype.toBBox=function(S){return S},s.prototype.compareMinX=function(S,_){return S.minX-_.minX},s.prototype.compareMinY=function(S,_){return S.minY-_.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(S){return this.data=S,this},s.prototype._all=function(S,_){for(var k=[];S;)S.leaf?_.push.apply(_,S.children):k.push.apply(k,S.children),S=k.pop();return _},s.prototype._build=function(S,_,k,O){var P=k-_+1,N=this._maxEntries,R;if(P<=N)return R=b(S.slice(_,k+1)),l(R,this.toBBox),R;O||(O=Math.ceil(Math.log(P)/Math.log(N)),N=Math.ceil(P/Math.pow(N,O-1))),R=b([]),R.leaf=!1,R.height=O;var L=Math.ceil(P/N),D=L*Math.ceil(Math.sqrt(N));x(S,_,k,D,this.compareMinX);for(var $=_;$<=k;$+=D){var X=Math.min($+D-1,k);x(S,$,X,L,this.compareMinY);for(var K=$;K<=X;K+=L){var V=Math.min(K+L-1,X);R.children.push(this._build(S,K,V,O-1))}}return l(R,this.toBBox),R},s.prototype._chooseSubtree=function(S,_,k,O){for(;O.push(_),!(_.leaf||O.length-1===k);){for(var P=1/0,N=1/0,R=void 0,L=0;L<_.children.length;L++){var D=_.children[L],$=d(D),X=v(S,D)-$;X<N?(N=X,P=$<P?$:P,R=D):X===N&&$<P&&(P=$,R=D)}_=R||_.children[0]}return _},s.prototype._insert=function(S,_,k){var O=k?S:this.toBBox(S),P=[],N=this._chooseSubtree(O,this.data,_,P);for(N.children.push(S),c(N,O);_>=0&&P[_].children.length>this._maxEntries;)this._split(P,_),_--;this._adjustParentBBoxes(O,P,_)},s.prototype._split=function(S,_){var k=S[_],O=k.children.length,P=this._minEntries;this._chooseSplitAxis(k,P,O);var N=this._chooseSplitIndex(k,P,O),R=b(k.children.splice(N,k.children.length-N));R.height=k.height,R.leaf=k.leaf,l(k,this.toBBox),l(R,this.toBBox),_?S[_-1].children.push(R):this._splitRoot(k,R)},s.prototype._splitRoot=function(S,_){this.data=b([S,_]),this.data.height=S.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(S,_,k){for(var O,P=1/0,N=1/0,R=_;R<=k-_;R++){var L=u(S,0,R,this.toBBox),D=u(S,R,k,this.toBBox),$=g(L,D),X=d(L)+d(D);$<P?(P=$,O=R,N=X<N?X:N):$===P&&X<N&&(N=X,O=R)}return O||k-_},s.prototype._chooseSplitAxis=function(S,_,k){var O=S.leaf?this.compareMinX:f,P=S.leaf?this.compareMinY:h,N=this._allDistMargin(S,_,k,O),R=this._allDistMargin(S,_,k,P);N<R&&S.children.sort(O)},s.prototype._allDistMargin=function(S,_,k,O){S.children.sort(O);for(var P=this.toBBox,N=u(S,0,_,P),R=u(S,k-_,k,P),L=p(N)+p(R),D=_;D<k-_;D++){var $=S.children[D];c(N,S.leaf?P($):$),L+=p(N)}for(var X=k-_-1;X>=_;X--){var K=S.children[X];c(R,S.leaf?P(K):K),L+=p(R)}return L},s.prototype._adjustParentBBoxes=function(S,_,k){for(var O=k;O>=0;O--)c(_[O],S)},s.prototype._condense=function(S){for(var _=S.length-1,k=void 0;_>=0;_--)S[_].children.length===0?_>0?(k=S[_-1].children,k.splice(k.indexOf(S[_]),1)):this.clear():l(S[_],this.toBBox)};function o(E,S,_){if(!_)return S.indexOf(E);for(var k=0;k<S.length;k++)if(_(E,S[k]))return k;return-1}function l(E,S){u(E,0,E.children.length,S,E)}function u(E,S,_,k,O){O||(O=b(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var P=S;P<_;P++){var N=E.children[P];c(O,E.leaf?k(N):N)}return O}function c(E,S){return E.minX=Math.min(E.minX,S.minX),E.minY=Math.min(E.minY,S.minY),E.maxX=Math.max(E.maxX,S.maxX),E.maxY=Math.max(E.maxY,S.maxY),E}function f(E,S){return E.minX-S.minX}function h(E,S){return E.minY-S.minY}function d(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function p(E){return E.maxX-E.minX+(E.maxY-E.minY)}function v(E,S){return(Math.max(S.maxX,E.maxX)-Math.min(S.minX,E.minX))*(Math.max(S.maxY,E.maxY)-Math.min(S.minY,E.minY))}function g(E,S){var _=Math.max(E.minX,S.minX),k=Math.max(E.minY,S.minY),O=Math.min(E.maxX,S.maxX),P=Math.min(E.maxY,S.maxY);return Math.max(0,O-_)*Math.max(0,P-k)}function m(E,S){return E.minX<=S.minX&&E.minY<=S.minY&&S.maxX<=E.maxX&&S.maxY<=E.maxY}function y(E,S){return S.minX<=E.maxX&&S.minY<=E.maxY&&S.maxX>=E.minX&&S.maxY>=E.minY}function b(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(E,S,_,k,O){for(var P=[S,_];P.length;)if(_=P.pop(),S=P.pop(),!(_-S<=k)){var N=S+Math.ceil((_-S)/k/2)*k;r(E,N,S,_,O),P.push(S,N,N,_)}}return s})})(q5);var MZ=q5.exports,ye=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),Ah=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),Xs=function(){function e(){ke(this,e),this.plugins=[]}return Te(e,[{key:"addRenderingPlugin",value:function(r){this.plugins.push(r),this.context.renderingPlugins.push(r)}},{key:"removeAllRenderingPlugins",value:function(){var r=this;this.plugins.forEach(function(n){var i=r.context.renderingPlugins.indexOf(n);i>=0&&r.context.renderingPlugins.splice(i,1)})}}])}(),AZ=function(){function e(t){ke(this,e),this.clipSpaceNearZ=Ah.NEGATIVE_ONE,this.plugins=[],this.config=ot({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)}return Te(e,[{key:"registerPlugin",value:function(r){var n=this.plugins.findIndex(function(i){return i===r});n===-1&&this.plugins.push(r)}},{key:"unregisterPlugin",value:function(r){var n=this.plugins.findIndex(function(i){return i===r});n>-1&&this.plugins.splice(n,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(r){return this.plugins.find(function(n){return n.name===r})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(r){Object.assign(this.config,r)}}])}(),Dv=Os,tl=ha,OZ=KX,PZ=XX,xT=nd,Fv=eK,kr=function(){function e(){ke(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return Te(e,[{key:"update",value:function(r,n){tl(this.center,r),tl(this.halfExtents,n),Fv(this.min,this.center,this.halfExtents),Dv(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(r,n){Dv(this.center,n,r),xT(this.center,this.center,.5),Fv(this.halfExtents,n,r),xT(this.halfExtents,this.halfExtents,.5),tl(this.min,r),tl(this.max,n)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(r){if(!e.isEmpty(r)){if(e.isEmpty(this)){this.setMinMax(r.getMin(),r.getMax());return}var n=this.center,i=n[0],a=n[1],s=n[2],o=this.halfExtents,l=o[0],u=o[1],c=o[2],f=i-l,h=i+l,d=a-u,p=a+u,v=s-c,g=s+c,m=r.center,y=m[0],b=m[1],x=m[2],E=r.halfExtents,S=E[0],_=E[1],k=E[2],O=y-S,P=y+S,N=b-_,R=b+_,L=x-k,D=x+k;O<f&&(f=O),P>h&&(h=P),N<d&&(d=N),R>p&&(p=R),L<v&&(v=L),D>g&&(g=D),n[0]=(f+h)*.5,n[1]=(d+p)*.5,n[2]=(v+g)*.5,o[0]=(h-f)*.5,o[1]=(p-d)*.5,o[2]=(g-v)*.5,this.min[0]=f,this.min[1]=d,this.min[2]=v,this.max[0]=h,this.max[1]=p,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(r,n){var i=this.center,a=this.halfExtents,s=r.center,o=r.halfExtents,l=n[0],u=n[4],c=n[8],f=n[1],h=n[5],d=n[9],p=n[2],v=n[6],g=n[10],m=Math.abs(l),y=Math.abs(u),b=Math.abs(c),x=Math.abs(f),E=Math.abs(h),S=Math.abs(d),_=Math.abs(p),k=Math.abs(v),O=Math.abs(g);i[0]=n[12]+l*s[0]+u*s[1]+c*s[2],i[1]=n[13]+f*s[0]+h*s[1]+d*s[2],i[2]=n[14]+p*s[0]+v*s[1]+g*s[2],a[0]=m*o[0]+y*o[1]+b*o[2],a[1]=x*o[0]+E*o[1]+S*o[2],a[2]=_*o[0]+k*o[1]+O*o[2],Fv(this.min,i,a),Dv(this.max,i,a)}},{key:"intersects",value:function(r){var n=this.getMax(),i=this.getMin(),a=r.getMax(),s=r.getMin();return i[0]<=a[0]&&n[0]>=s[0]&&i[1]<=a[1]&&n[1]>=s[1]&&i[2]<=a[2]&&n[2]>=s[2]}},{key:"intersection",value:function(r){if(!this.intersects(r))return null;var n=new e,i=OZ([0,0,0],this.getMin(),r.getMin()),a=PZ([0,0,0],this.getMax(),r.getMax());return n.setMinMax(i,a),n}},{key:"getNegativeFarPoint",value:function(r){return r.pnVertexFlag===273?tl([0,0,0],this.min):r.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:r.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:r.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:r.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:r.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:r.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(r){return r.pnVertexFlag===273?tl([0,0,0],this.max):r.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:r.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:r.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:r.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:r.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:r.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(r){return!r||r.halfExtents[0]===0&&r.halfExtents[1]===0&&r.halfExtents[2]===0}}])}(),NZ=function(){function e(t,r){ke(this,e),this.distance=t||0,this.normal=r||Ut(0,1,0),this.updatePNVertexFlag()}return Te(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(r){return da(r,this.normal)-this.distance}},{key:"normalize",value:function(){var r=1/_5(this.normal);nd(this.normal,this.normal,r),this.distance*=r}},{key:"intersectsLine",value:function(r,n,i){var a=this.distanceToPoint(r),s=this.distanceToPoint(n),o=a/(a-s),l=o>=0&&o<=1;return l&&i&&Xw(i,r,n,o),l}}])}(),rl=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),CZ=function(){function e(t){if(ke(this,e),this.planes=[],t)this.planes=t;else for(var r=0;r<6;r++)this.planes.push(new NZ)}return Te(e,[{key:"extractFromVPMatrix",value:function(r){var n=st(r,16),i=n[0],a=n[1],s=n[2],o=n[3],l=n[4],u=n[5],c=n[6],f=n[7],h=n[8],d=n[9],p=n[10],v=n[11],g=n[12],m=n[13],y=n[14],b=n[15];hn(this.planes[0].normal,o-i,f-l,v-h),this.planes[0].distance=b-g,hn(this.planes[1].normal,o+i,f+l,v+h),this.planes[1].distance=b+g,hn(this.planes[2].normal,o+a,f+u,v+d),this.planes[2].distance=b+m,hn(this.planes[3].normal,o-a,f-u,v-d),this.planes[3].distance=b-m,hn(this.planes[4].normal,o-s,f-c,v-p),this.planes[4].distance=b-y,hn(this.planes[5].normal,o+s,f+c,v+p),this.planes[5].distance=b+y,this.planes.forEach(function(x){x.normalize(),x.updatePNVertexFlag()})}}])}(),Zr=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ke(this,e),this.x=0,this.y=0,this.x=t,this.y=r}return Te(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(r){this.x=r.x,this.y=r.y}}])}(),$l=function(){function e(t,r,n,i){ke(this,e),this.x=t,this.y=r,this.width=n,this.height=i,this.left=t,this.right=t+n,this.top=r,this.bottom=r+i}return Te(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(r){return new e(r.x,r.y,r.width,r.height)}},{key:"applyTransform",value:function(r,n){var i=ku(r.x,r.y,0,1),a=ku(r.x+r.width,r.y,0,1),s=ku(r.x,r.y+r.height,0,1),o=ku(r.x+r.width,r.y+r.height,0,1),l=pa(),u=pa(),c=pa(),f=pa();Ga(l,i,n),Ga(u,a,n),Ga(c,s,n),Ga(f,o,n);var h=Math.min(l[0],u[0],c[0],f[0]),d=Math.min(l[1],u[1],c[1],f[1]),p=Math.max(l[0],u[0],c[0],f[0]),v=Math.max(l[1],u[1],c[1],f[1]);return e.fromRect({x:h,y:d,width:p-h,height:v-d})}}])}(),Rt="Method not implemented.",nl="Use document.documentElement instead.",RZ="Cannot append a destroyed element.";function yl(e){return e===void 0?0:e>360||e<-360?e%360:e}var Bv=mt();function En(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?n?Pa(e):ha(Bv,e):Ye(e)?n?Ut(e,t,r):hn(Bv,e,t,r):n?Ut(e[0],e[1]||t,e[2]||r):hn(Bv,e[0],e[1]||t,e[2]||r)}var LZ=Math.PI/180;function Lt(e){return e*LZ}var IZ=180/Math.PI;function hi(e){return e*IZ}function DZ(e){return 360*e}var ld=Math.PI/2;function FZ(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r*r,o=n*n,l=i*i,u=a*a,c=s+o+l+u,f=r*a-n*i;return f>.499995*c?(e[0]=ld,e[1]=2*Math.atan2(n,r),e[2]=0):f<-.499995*c?(e[0]=-ld,e[1]=2*Math.atan2(n,r),e[2]=0):(e[0]=Math.asin(2*(r*i-a*n)),e[1]=Math.atan2(2*(r*a+n*i),1-2*(l+u)),e[2]=Math.atan2(2*(r*n+i*a),1-2*(o+l))),e}function BZ(e,t){var r,n,i=Fl(mt(),t),a=st(i,3),s=a[0],o=a[1],l=a[2],u=Math.asin(-t[2]/s);return u<ld?u>-ld?(r=Math.atan2(t[6]/o,t[10]/l),n=Math.atan2(t[1]/s,t[0]/s)):(n=0,r=-Math.atan2(t[4]/o,t[5]/o)):(n=0,r=Math.atan2(t[4]/o,t[5]/o)),e[0]=r,e[1]=u,e[2]=n,e}function $v(e,t){return t.length===16?BZ(e,t):FZ(e,t)}function $Z(e,t,r,n,i){var a=Math.cos(e),s=Math.sin(e);return OX(n*a,i*s,0,-n*s,i*a,0,t,r,1)}function qZ(e,t,r,n,i,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*a,u=r-t,c=n-i,f=l/u,h=l/c,d=(r+t)/u,p=(n+i)/c,v,g,m=s-a,y=s*a;return o?(v=-s/m,g=-y/m):(v=-(s+a)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=d,e[9]=p,e[10]=v,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function _T(e){var t=e[0],r=e[1],n=e[3],i=e[4],a=Math.sqrt(t*t+r*r),s=Math.sqrt(n*n+i*i),o=t*i-r*n;if(o<0&&(t<i?a=-a:s=-s),a){var l=1/a;t*=l,r*=l}if(s){var u=1/s;n*=u,i*=u}var c=Math.atan2(r,t),f=hi(c);return[e[6],e[7],a,s,f]}var ea=jt(),Pi=jt(),pu=pa(),et=[mt(),mt(),mt()],ET=mt();function zZ(e,t,r,n,i,a){if(!jZ(ea,e)||(Dl(Pi,ea),Pi[3]=0,Pi[7]=0,Pi[11]=0,Pi[15]=1,Math.abs(o5(Pi))<1e-8))return!1;var s=ea[3],o=ea[7],l=ea[11],u=ea[12],c=ea[13],f=ea[14],h=ea[15];if(s!==0||o!==0||l!==0){pu[0]=s,pu[1]=o,pu[2]=l,pu[3]=h;var d=fa(Pi,Pi);if(!d)return!1;s5(Pi,Pi),Ga(i,pu,Pi)}else i[0]=i[1]=i[2]=0,i[3]=1;if(t[0]=u,t[1]=c,t[2]=f,GZ(et,ea),r[0]=Fa(et[0]),ko(et[0],et[0]),n[0]=da(et[0],et[1]),qv(et[1],et[1],et[0],1,-n[0]),r[1]=Fa(et[1]),ko(et[1],et[1]),n[0]/=r[1],n[1]=da(et[0],et[2]),qv(et[2],et[2],et[0],1,-n[1]),n[2]=da(et[1],et[2]),qv(et[2],et[2],et[1],1,-n[2]),r[2]=Fa(et[2]),ko(et[2],et[2]),n[1]/=r[2],n[2]/=r[2],Th(ET,et[1],et[2]),da(et[0],ET)<0)for(var p=0;p<3;p++)r[p]*=-1,et[p][0]*=-1,et[p][1]*=-1,et[p][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+et[0][0]-et[1][1]-et[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-et[0][0]+et[1][1]-et[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-et[0][0]-et[1][1]+et[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+et[0][0]+et[1][1]+et[2][2],0)),et[2][1]>et[1][2]&&(a[0]=-a[0]),et[0][2]>et[2][0]&&(a[1]=-a[1]),et[1][0]>et[0][1]&&(a[2]=-a[2]),!0}function jZ(e,t){var r=t[15];if(r===0)return!1;for(var n=1/r,i=0;i<16;i++)e[i]=t[i]*n;return!0}function GZ(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function qv(e,t,r,n,i){e[0]=t[0]*n+r[0]*i,e[1]=t[1]*n+r[1]*i,e[2]=t[2]*n+r[2]*i}var Nt=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),ax=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),fi=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),z5={UPDATED:"updated"},ST=2e-4,j5=function(){function e(){ke(this,e),this.clipSpaceNearZ=Ah.NEGATIVE_ONE,this.eventEmitter=new r5,this.matrix=jt(),this.right=Ut(1,0,0),this.up=Ut(0,1,0),this.forward=Ut(0,0,1),this.position=Ut(0,0,1),this.focalPoint=Ut(0,0,0),this.distanceVector=Ut(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=jt(),this.projectionMatrixInverse=jt(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Nt.EXPLORING,this.trackingMode=ax.DEFAULT,this.projectionMode=fi.PERSPECTIVE,this.frustum=new CZ,this.orthoMatrix=jt()}return Te(e,[{key:"isOrtho",value:function(){return this.projectionMode===fi.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(r){this.enableUpdate=r}},{key:"setType",value:function(r,n){return this.type=r,this.type===Nt.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Nt.TRACKING&&n!==void 0&&this.setTrackingMode(n),this}},{key:"setProjectionMode",value:function(r){return this.projectionMode=r,this}},{key:"setTrackingMode",value:function(r){if(this.type!==Nt.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=r,this}},{key:"setWorldRotation",value:function(r){return this.rotateWorld=r,this._getAngles(),this}},{key:"getViewTransform",value:function(){return fa(jt(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(r,n){var i=ys(jt(),[r,n,0]);this.jitteredProjectionMatrix=pn(jt(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(r){return this.matrix=r,this._update(),this}},{key:"setProjectionMatrix",value:function(r){this.projectionMatrix=r}},{key:"setFov",value:function(r){return this.setPerspective(this.near,this.far,r,this.aspect),this}},{key:"setAspect",value:function(r){return this.setPerspective(this.near,this.far,this.fov,r),this}},{key:"setNear",value:function(r){return this.projectionMode===fi.PERSPECTIVE?this.setPerspective(r,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,r,this.far),this}},{key:"setFar",value:function(r){return this.projectionMode===fi.PERSPECTIVE?this.setPerspective(this.near,r,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,r),this}},{key:"setViewOffset",value:function(r,n,i,a,s,o){return this.aspect=r/n,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=a,this.view.width=s,this.view.height=o,this.projectionMode===fi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===fi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(r){return this.zoom=r,this.projectionMode===fi.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===fi.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(r,n){var i=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),a=i.x,s=i.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(a,s),this.setFocalPoint(a,s),this.setZoom(r),this.rotate(0,0,o);var l=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),u=l.x,c=l.y,f=Ut(u-a,c-s,0),h=da(f,this.right)/Fa(this.right),d=da(f,this.up)/Fa(this.up),p=this.getPosition(),v=st(p,2),g=v[0],m=v[1],y=this.getFocalPoint(),b=st(y,2),x=b[0],E=b[1];return this.setPosition(g-h,m-d),this.setFocalPoint(x-h,E-d),this}},{key:"setPerspective",value:function(r,n,i,a){var s;this.projectionMode=fi.PERSPECTIVE,this.fov=i,this.near=r,this.far=n,this.aspect=a;var o=this.near*Math.tan(Lt(.5*this.fov))/this.zoom,l=2*o,u=this.aspect*l,c=-.5*u;if((s=this.view)!==null&&s!==void 0&&s.enabled){var f=this.view.fullWidth,h=this.view.fullHeight;c+=this.view.offsetX*u/f,o-=this.view.offsetY*l/h,u*=this.view.width/f,l*=this.view.height/h}return qZ(this.projectionMatrix,c,c+u,o-l,o,r,this.far,this.clipSpaceNearZ===Ah.ZERO),fa(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(r,n,i,a,s,o){var l;this.projectionMode=fi.ORTHOGRAPHIC,this.rright=n,this.left=r,this.top=i,this.bottom=a,this.near=s,this.far=o;var u=(this.rright-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,h=(this.top+this.bottom)/2,d=f-u,p=f+u,v=h+c,g=h-c;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=m*this.view.offsetX,p=d+m*this.view.width,v-=y*this.view.offsetY,g=v-y*this.view.height}return this.clipSpaceNearZ===Ah.NEGATIVE_ONE?m5(this.projectionMatrix,d,p,v,g,s,o):y5(this.projectionMatrix,d,p,v,g,s,o),fa(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=En(r,n,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=Ut(0,1,0);if(this.focalPoint=En(r,n,i),this.trackingMode===ax.CINEMATIC){var s=Yw(mt(),this.focalPoint,this.position);r=s[0],n=s[1],i=s[2];var o=Fa(s),l=hi(Math.asin(n/o)),u=90+hi(Math.atan2(i,r)),c=jt();c5(c,c,Lt(u)),u5(c,c,Lt(l)),a=vn(mt(),[0,1,0],c)}return fa(this.matrix,b5(jt(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(r){if(this.distance===r||r<0)return this;this.distance=r,this.distance<ST&&(this.distance=ST),this.dollyingStep=this.distance/100;var n=mt();r=this.distance;var i=this.forward,a=this.focalPoint;return n[0]=r*i[0]+a[0],n[1]=r*i[1]+a[1],n[2]=r*i[2]+a[2],this._setPosition(n),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(r){return this.maxDistance=r,this}},{key:"setMinDistance",value:function(r){return this.minDistance=r,this}},{key:"setAzimuth",value:function(r){return this.azimuth=yl(r),this.computeMatrix(),this._getAxes(),this.type===Nt.ORBITING||this.type===Nt.EXPLORING?this._getPosition():this.type===Nt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(r){return this.elevation=yl(r),this.computeMatrix(),this._getAxes(),this.type===Nt.ORBITING||this.type===Nt.EXPLORING?this._getPosition():this.type===Nt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(r){return this.roll=yl(r),this.computeMatrix(),this._getAxes(),this.type===Nt.ORBITING||this.type===Nt.EXPLORING?this._getPosition():this.type===Nt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var r=xs(Dr(),[0,0,1],Lt(this.roll));Rs(this.matrix);var n=xs(Dr(),[1,0,0],Lt((this.rotateWorld&&this.type!==Nt.TRACKING||this.type===Nt.TRACKING?1:-1)*this.elevation)),i=xs(Dr(),[0,1,0],Lt((this.rotateWorld&&this.type!==Nt.TRACKING||this.type===Nt.TRACKING?1:-1)*this.azimuth)),a=Ps(Dr(),i,n);a=Ps(Dr(),a,r);var s=o2(jt(),a);this.type===Nt.ORBITING||this.type===Nt.EXPLORING?(ml(this.matrix,this.matrix,this.focalPoint),pn(this.matrix,this.matrix,s),ml(this.matrix,this.matrix,[0,0,this.distance])):this.type===Nt.TRACKING&&(ml(this.matrix,this.matrix,this.position),pn(this.matrix,this.matrix,s))}},{key:"_setPosition",value:function(r,n,i){this.position=En(r,n,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){ha(this.right,En(Ga(pa(),[1,0,0,0],this.matrix))),ha(this.up,En(Ga(pa(),[0,1,0,0],this.matrix))),ha(this.forward,En(Ga(pa(),[0,0,1,0],this.matrix))),ko(this.right,this.right),ko(this.up,this.up),ko(this.forward,this.forward)}},{key:"_getAngles",value:function(){var r=this.distanceVector[0],n=this.distanceVector[1],i=this.distanceVector[2],a=Fa(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===Nt.TRACKING?(this.elevation=hi(Math.asin(n/a)),this.azimuth=hi(Math.atan2(-r,-i))):this.rotateWorld?(this.elevation=hi(Math.asin(n/a)),this.azimuth=hi(Math.atan2(-r,-i))):(this.elevation=-hi(Math.asin(n/a)),this.azimuth=-hi(Math.atan2(-r,-i)))}},{key:"_getPosition",value:function(){ha(this.position,En(Ga(pa(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){QX(this.distanceVector,[0,0,-this.distance],AX(n5(),this.matrix)),Os(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Yw(mt(),this.focalPoint,this.position),this.distance=Fa(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===fi.ORTHOGRAPHIC){var r=this.position,n=xs(Dr(),[0,0,1],-this.roll*Math.PI/180);Yu(this.orthoMatrix,n,Ut((this.rright-this.left)/2-r[0],(this.top-this.bottom)/2-r[1],0),Ut(this.zoom,this.zoom,1),r)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var r=this.getViewTransform(),n=pn(jt(),this.getPerspective(),r);this.getFrustum().extractFromVPMatrix(n),this.eventEmitter.emit(z5.UPDATED)}}},{key:"rotate",value:function(r,n,i){throw new Error(Rt)}},{key:"pan",value:function(r,n){throw new Error(Rt)}},{key:"dolly",value:function(r){throw new Error(Rt)}},{key:"createLandmark",value:function(r,n){throw new Error(Rt)}},{key:"gotoLandmark",value:function(r,n){throw new Error(Rt)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Rt)}}])}(),WZ=function(e){return e[e.Standard=0]="Standard",e}({}),ud=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),G5={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new $l(0,0,0,0)},Ie=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function c2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function W5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qc(){}var bc=.7,cd=1/bc,bl="\\s*([+-]?\\d+)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VZ=/^#([0-9a-f]{3,8})$/,UZ=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),HZ=new RegExp(`^rgb\\(${ya},${ya},${ya}\\)$`),YZ=new RegExp(`^rgba\\(${bl},${bl},${bl},${wc}\\)$`),XZ=new RegExp(`^rgba\\(${ya},${ya},${ya},${wc}\\)$`),KZ=new RegExp(`^hsl\\(${wc},${ya},${ya}\\)$`),ZZ=new RegExp(`^hsla\\(${wc},${ya},${ya},${wc}\\)$`),kT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c2(qc,hp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TT,formatHex:TT,formatHex8:QZ,formatHsl:JZ,formatRgb:MT,toString:MT});function TT(){return this.rgb().formatHex()}function QZ(){return this.rgb().formatHex8()}function JZ(){return V5(this).formatHsl()}function MT(){return this.rgb().formatRgb()}function hp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=VZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?AT(t):r===3?new Dn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Af(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Af(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UZ.exec(e))?new Dn(t[1],t[2],t[3],1):(t=HZ.exec(e))?new Dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YZ.exec(e))?Af(t[1],t[2],t[3],t[4]):(t=XZ.exec(e))?Af(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KZ.exec(e))?NT(t[1],t[2]/100,t[3]/100,1):(t=ZZ.exec(e))?NT(t[1],t[2]/100,t[3]/100,t[4]):kT.hasOwnProperty(e)?AT(kT[e]):e==="transparent"?new Dn(NaN,NaN,NaN,0):null}function AT(e){return new Dn(e>>16&255,e>>8&255,e&255,1)}function Af(e,t,r,n){return n<=0&&(e=t=r=NaN),new Dn(e,t,r,n)}function eQ(e){return e instanceof qc||(e=hp(e)),e?(e=e.rgb(),new Dn(e.r,e.g,e.b,e.opacity)):new Dn}function tQ(e,t,r,n){return arguments.length===1?eQ(e):new Dn(e,t,r,n??1)}function Dn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}c2(Dn,tQ,W5(qc,{brighter(e){return e=e==null?cd:Math.pow(cd,e),new Dn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bc:Math.pow(bc,e),new Dn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dn(To(this.r),To(this.g),To(this.b),fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OT,formatHex:OT,formatHex8:rQ,formatRgb:PT,toString:PT}));function OT(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function rQ(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function PT(){const e=fd(this.opacity);return`${e===1?"rgb(":"rgba("}${To(this.r)}, ${To(this.g)}, ${To(this.b)}${e===1?")":`, ${e})`}`}function fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function To(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bo(e){return e=To(e),(e<16?"0":"")+e.toString(16)}function NT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ii(e,t,r,n)}function V5(e){if(e instanceof Ii)return new Ii(e.h,e.s,e.l,e.opacity);if(e instanceof qc||(e=hp(e)),!e)return new Ii;if(e instanceof Ii)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Ii(s,o,l,e.opacity)}function nQ(e,t,r,n){return arguments.length===1?V5(e):new Ii(e,t,r,n??1)}function Ii(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}c2(Ii,nQ,W5(qc,{brighter(e){return e=e==null?cd:Math.pow(cd,e),new Ii(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bc:Math.pow(bc,e),new Ii(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Dn(zv(e>=240?e-240:e+120,i,n),zv(e,i,n),zv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ii(CT(this.h),Of(this.s),Of(this.l),fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fd(this.opacity);return`${e===1?"hsl(":"hsla("}${CT(this.h)}, ${Of(this.s)*100}%, ${Of(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CT(e){return e=(e||0)%360,e<0?e+360:e}function Of(e){return Math.max(0,Math.min(1,e||0))}function zv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function Cr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=t?t.apply(this,a):a[0],l=r.cache;if(l.has(o))return l.get(o);var u=e.apply(this,a);return r.cache=l.set(o,u)||l,u};return r.cache=new(Cr.Cache||Map),Cr.cacheList.push(r.cache),r}Cr.Cache=Map;Cr.cacheList=[];Cr.clearCache=function(){Cr.cacheList.forEach(function(e){return e.clear()})};var De=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),Li=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),iQ=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),aQ=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),sQ=[{name:"em",unit_type:De.kEms},{name:"px",unit_type:De.kPixels},{name:"deg",unit_type:De.kDegrees},{name:"rad",unit_type:De.kRadians},{name:"grad",unit_type:De.kGradians},{name:"ms",unit_type:De.kMilliseconds},{name:"s",unit_type:De.kSeconds},{name:"rem",unit_type:De.kRems},{name:"turn",unit_type:De.kTurns}],ql=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),oQ=function(t){return sQ.find(function(r){return r.name===t}).unit_type},lQ=function(t){return t?t==="number"?De.kNumber:t==="percent"||t==="%"?De.kPercentage:oQ(t):De.kUnknown},uQ=function(t){switch(t){case De.kNumber:case De.kInteger:return Li.kUNumber;case De.kPercentage:return Li.kUPercent;case De.kPixels:return Li.kULength;case De.kMilliseconds:case De.kSeconds:return Li.kUTime;case De.kDegrees:case De.kRadians:case De.kGradians:case De.kTurns:return Li.kUAngle;default:return Li.kUOther}},cQ=function(t){switch(t){case Li.kUNumber:return De.kNumber;case Li.kULength:return De.kPixels;case Li.kUPercent:return De.kPercentage;case Li.kUTime:return De.kSeconds;case Li.kUAngle:return De.kDegrees;default:return De.kUnknown}},RT=function(t){var r=1;switch(t){case De.kPixels:case De.kDegrees:case De.kSeconds:break;case De.kMilliseconds:r=.001;break;case De.kRadians:r=180/Math.PI;break;case De.kGradians:r=.9;break;case De.kTurns:r=360;break}return r},sx=function(t){switch(t){case De.kNumber:case De.kInteger:return"";case De.kPercentage:return"%";case De.kEms:return"em";case De.kRems:return"rem";case De.kPixels:return"px";case De.kDegrees:return"deg";case De.kRadians:return"rad";case De.kGradians:return"grad";case De.kMilliseconds:return"ms";case De.kSeconds:return"s";case De.kTurns:return"turn"}return""},dp=function(){function e(){ke(this,e)}return Te(e,[{key:"toString",value:function(){return this.buildCSSText(iQ.kNo,aQ.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=ql.kUnitType&&this.getType()<=ql.kClampType}}],[{key:"isAngle",value:function(r){return r===De.kDegrees||r===De.kRadians||r===De.kGradians||r===De.kTurns}},{key:"isLength",value:function(r){return r>=De.kEms&&r<De.kDegrees}},{key:"isRelativeUnit",value:function(r){return r===De.kPercentage||r===De.kEms||r===De.kRems}},{key:"isTime",value:function(r){return r===De.kSeconds||r===De.kMilliseconds}}])}(),fQ=function(e){function t(r){var n;return ke(this,t),n=ut(this,t),n.colorSpace=r,n}return ct(t,e),Te(t,[{key:"getType",value:function(){return ql.kColorType}},{key:"to",value:function(n){return this}}])}(dp),_s=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),Pf=function(e){function t(r,n){var i;return ke(this,t),i=ut(this,t),i.type=r,i.value=n,i}return ct(t,e),Te(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(n,i,a){return a}},{key:"getType",value:function(){return ql.kColorType}}])}(dp),ki=function(e){function t(r){var n;return ke(this,t),n=ut(this,t),n.value=r,n}return ct(t,e),Te(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return ql.kKeywordType}},{key:"buildCSSText",value:function(n,i,a){return a+this.value}}])}(dp),hQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n="";return Number.isFinite(t)?n="NaN":t>0?n="infinity":n="-infinity",n+=r},ox=function(t){return cQ(uQ(t))},jr=function(e){function t(r){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.kNumber;ke(this,t),n=ut(this,t);var a;return typeof i=="string"?a=lQ(i):a=i,n.unit=a,n.value=r,n}return ct(t,e),Te(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(n){var i=n;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return ql.kUnitType}},{key:"convertTo",value:function(n){if(this.unit===n)return new t(this.value,this.unit);var i=ox(this.unit);if(i!==ox(n)||i===De.kUnknown)return null;var a=RT(this.unit)/RT(n);return new t(this.value*a,n)}},{key:"buildCSSText",value:function(n,i,a){var s;switch(this.unit){case De.kUnknown:break;case De.kInteger:s=Number(this.value).toFixed(0);break;case De.kNumber:case De.kPercentage:case De.kEms:case De.kRems:case De.kPixels:case De.kDegrees:case De.kRadians:case De.kGradians:case De.kMilliseconds:case De.kSeconds:case De.kTurns:{var o=-999999,l=999999,u=this.value,c=sx(this.unit);if(u<o||u>l){var f=sx(this.unit);!Number.isFinite(u)||Number.isNaN(u)?s=hQ(u,f):s=u+(f||"")}else s="".concat(u).concat(c)}}return a+=s,a}}])}(dp),Ci=new jr(0,"px");new jr(1,"px");var Io=new jr(0,"deg"),f2=function(e){function t(r,n,i){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return ke(this,t),a=ut(this,t,["rgb"]),a.r=r,a.g=n,a.b=i,a.alpha=s,a.isNone=o,a}return ct(t,e),Te(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(n,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(fQ),LT=new ki("unset"),dQ=new ki("initial"),pQ=new ki("inherit"),jv={"":LT,unset:LT,initial:dQ,inherit:pQ},vQ=function(t){return jv[t]||(jv[t]=new ki(t)),jv[t]},U5=new f2(0,0,0,0,!0),H5=new f2(0,0,0,0),gQ=Cr(function(e,t,r,n){return new f2(e,t,r,n)},function(e,t,r,n){return"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(n,")")}),ir=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.kNumber;return new jr(t,r)};new jr(50,"%");function mQ(e){var t=e.type,r=e.value;return t==="hex"?"#".concat(r):t==="literal"?r:t==="rgb"?"rgb(".concat(r.join(","),")"):"rgba(".concat(r.join(","),")")}var yQ=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function r(K){throw new Error("".concat(t,": ").concat(K))}function n(){var K=i();return t.length>0&&r("Invalid input not EOF"),K}function i(){return b(a)}function a(){return s("linear-gradient",e.linearGradient,l)||s("repeating-linear-gradient",e.repeatingLinearGradient,l)||s("radial-gradient",e.radialGradient,f)||s("repeating-radial-gradient",e.repeatingRadialGradient,f)||s("conic-gradient",e.conicGradient,f)}function s(K,V,ne){return o(V,function(we){var Se=ne();return Se&&($(e.comma)||r("Missing comma before color stops")),{type:K,orientation:Se,colorStops:b(x)}})}function o(K,V){var ne=$(K);if(ne){$(e.startCall)||r("Missing (");var we=V(ne);return $(e.endCall)||r("Missing )"),we}}function l(){return u()||c()}function u(){return D("directional",e.sideOrCorner,1)}function c(){return D("angular",e.angleValue,1)}function f(){var K,V=h(),ne;return V&&(K=[],K.push(V),ne=t,$(e.comma)&&(V=h(),V?K.push(V):t=ne)),K}function h(){var K=d()||p();if(K)K.at=g();else{var V=v();if(V){K=V;var ne=g();ne&&(K.at=ne)}else{var we=m();we&&(K={type:"default-radial",at:we})}}return K}function d(){var K=D("shape",/^(circle)/i,0);return K&&(K.style=L()||v()),K}function p(){var K=D("shape",/^(ellipse)/i,0);return K&&(K.style=N()||v()),K}function v(){return D("extent-keyword",e.extentKeywords,1)}function g(){if(D("position",/^at/,0)){var K=m();return K||r("Missing positioning value"),K}}function m(){var K=y();if(K.x||K.y)return{type:"position",value:K}}function y(){return{x:N(),y:N()}}function b(K){var V=K(),ne=[];if(V)for(ne.push(V);$(e.comma);)V=K(),V?ne.push(V):r("One extra comma");return ne}function x(){var K=E();return K||r("Expected color definition"),K.length=N(),K}function E(){return _()||O()||k()||S()}function S(){return D("literal",e.literalColor,0)}function _(){return D("hex",e.hexColor,1)}function k(){return o(e.rgbColor,function(){return{type:"rgb",value:b(P)}})}function O(){return o(e.rgbaColor,function(){return{type:"rgba",value:b(P)}})}function P(){return $(e.number)[1]}function N(){return D("%",e.percentageValue,1)||R()||L()}function R(){return D("position-keyword",e.positionKeywords,1)}function L(){return D("px",e.pixelValue,1)||D("em",e.emValue,1)}function D(K,V,ne){var we=$(V);if(we)return{type:K,value:we[ne]}}function $(K){var V=/^[\n\r\t\s]+/.exec(t);V&&X(V[0].length);var ne=K.exec(t);return ne&&X(ne[0].length),ne}function X(K){t=t.substring(K)}return function(K){return t=K,n()}}();function bQ(e,t,r,n){var i=Lt(n.value),a=0,s=0,o=a+t/2,l=s+r/2,u=Math.abs(t*Math.cos(i))+Math.abs(r*Math.sin(i)),c=e[0]+o-Math.cos(i)*u/2,f=e[1]+l-Math.sin(i)*u/2,h=e[0]+o+Math.cos(i)*u/2,d=e[1]+l+Math.sin(i)*u/2;return{x1:c,y1:f,x2:h,y2:d}}function wQ(e,t,r,n,i,a){var s=n.value,o=i.value;n.unit===De.kPercentage&&(s=n.value/100*t),i.unit===De.kPercentage&&(o=i.value/100*r);var l=Math.max(Rn([0,0],[s,o]),Rn([0,r],[s,o]),Rn([t,r],[s,o]),Rn([t,0],[s,o]));return a&&(a instanceof jr?l=a.value:a instanceof ki&&(a.value==="closest-side"?l=Math.min(s,t-s,o,r-o):a.value==="farthest-side"?l=Math.max(s,t-s,o,r-o):a.value==="closest-corner"&&(l=Math.min(Rn([0,0],[s,o]),Rn([0,r],[s,o]),Rn([t,r],[s,o]),Rn([t,0],[s,o]))))),{x:s+e[0],y:o+e[1],r:l}}var xQ=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,_Q=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,EQ=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Y5=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function SQ(e){var t,r=e.length;if(e[r-1].length=(t=e[r-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},r>1){var n;e[0].length=(n=e[0].length)!==null&&n!==void 0?n:{type:"%",value:"0"}}for(var i=0,a=Number(e[0].length.value),s=1;s<r;s++){var o,l=(o=e[s].length)===null||o===void 0?void 0:o.value;if(!Qe(l)&&!Qe(a)){for(var u=1;u<s-i;u++)e[i+u].length={type:"%",value:"".concat(a+(Number(l)-a)*u/(s-i))};i=s,a=Number(l)}}}var kQ={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},TQ=Cr(function(e){var t;return e.type==="angular"?t=Number(e.value):t=kQ[e.value]||0,ir(t,"deg")}),MQ=Cr(function(e){var t=50,r=50,n="%",i="%";if((e==null?void 0:e.type)==="position"){var a=e.value,s=a.x,o=a.y;(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?t=50:s.value==="right"?t=100:s.value==="top"?r=0:s.value==="bottom"&&(r=100)),(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?r=50:o.value==="right"?t=100:o.value==="top"?r=0:o.value==="bottom"&&(r=100)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(n=s==null?void 0:s.type,t=Number(s.value)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(i=o==null?void 0:o.type,r=Number(o.value))}return{cx:ir(t,n),cy:ir(r,i)}}),AQ=Cr(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=yQ(e);return t.map(function(o){var l=o.type,u=o.orientation,c=o.colorStops;SQ(c);var f=c.map(function(b){return{offset:ir(Number(b.length.value),"%"),color:mQ(b)}});if(l==="linear-gradient")return new Pf(_s.LinearGradient,{angle:u?TQ(u):Io,steps:f});if(l==="radial-gradient"&&(u||(u=[{type:"shape",value:"circle"}]),u[0].type==="shape"&&u[0].value==="circle")){var h=MQ(u[0].at),d=h.cx,p=h.cy,v;if(u[0].style){var g=u[0].style,m=g.type,y=g.value;m==="extent-keyword"?v=vQ(y):v=ir(y,m)}return new Pf(_s.RadialGradient,{cx:d,cy:p,size:v,steps:f})}})}var r=e[0];if(e[1]==="("||e[2]==="("){if(r==="l"){var n=xQ.exec(e);if(n){var i,a=((i=n[2].match(Y5))===null||i===void 0?void 0:i.map(function(o){return o.split(":")}))||[];return[new Pf(_s.LinearGradient,{angle:ir(parseFloat(n[1]),"deg"),steps:a.map(function(o){var l=st(o,2),u=l[0],c=l[1];return{offset:ir(Number(u)*100,"%"),color:c}})})]}}else if(r==="r"){var s=OQ(e);if(s)if(Ft(s))e=s;else return[new Pf(_s.RadialGradient,s)]}else if(r==="p")return PQ(e)}});function OQ(e){var t=_Q.exec(e);if(t){var r,n=((r=t[4].match(Y5))===null||r===void 0?void 0:r.map(function(i){return i.split(":")}))||[];return{cx:ir(50,"%"),cy:ir(50,"%"),steps:n.map(function(i){var a=st(i,2),s=a[0],o=a[1];return{offset:ir(Number(s)*100,"%"),color:o}})}}return null}function PQ(e){var t=EQ.exec(e);if(t){var r=t[1],n=t[2];switch(r){case"a":r="repeat";break;case"x":r="repeat-x";break;case"y":r="repeat-y";break;case"n":r="no-repeat";break;default:r="no-repeat"}return{image:n,repetition:r}}return null}function Do(e){return e&&!!e.image}function hd(e){return e&&!Qe(e.r)&&!Qe(e.g)&&!Qe(e.b)}var Zu=Cr(function(e){if(Do(e))return ot({repetition:"repeat"},e);if(Qe(e)&&(e=""),e==="transparent")return H5;if(e==="currentColor")e="black";else if(e==="none")return U5;var t=AQ(e);if(t)return t;var r=hp(e),n=[0,0,0,0];return r!==null&&(n[0]=r.r||0,n[1]=r.g||0,n[2]=r.b||0,n[3]=r.opacity),gQ.apply(void 0,n)});function NQ(e,t){if(!(!hd(e)||!hd(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(r){var n=r.slice();if(n[3])for(var i=0;i<3;i++)n[i]=Math.round(wr(n[i],0,255));return n[3]=wr(n[3],0,1),"rgba(".concat(n.join(","),")")}]}function zc(e,t){if(Qe(t))return ir(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return ir(Number(t),"px");if("deg".search(e)>=0)return ir(Number(t),"deg")}var r=[];t=t.replace(e,function(i){return r.push(i),"U".concat(i)});var n="U(".concat(e.source,")");return r.map(function(i){return ir(Number(t.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(n,"g"),"*0")),i)})[0]}var X5=function(t){return zc(new RegExp("px","g"),t)},CQ=Cr(X5),RQ=function(t){return zc(new RegExp("%","g"),t)};Cr(RQ);var K5=function(t){return Ye(t)||isFinite(Number(t))?ir(Number(t)||0,"px"):zc(new RegExp("px|%|em|rem","g"),t)},lx=Cr(K5),Z5=function(t){return zc(new RegExp("deg|rad|grad|turn","g"),t)},LQ=Cr(Z5);function IQ(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",s=e.value||0,o=t.value||0,l=ox(e.unit),u=e.convertTo(l),c=t.convertTo(l);return u&&c?(s=u.value,o=c.value,a=sx(e.unit)):(jr.isLength(e.unit)||jr.isLength(t.unit))&&(s=Zn(e,i,r),o=Zn(t,i,r),a="px"),[s,o,function(f){return f+a}]}function Ln(e){var t=0;return e.unit===De.kDegrees?t=e.value:e.unit===De.kRadians?t=hi(Number(e.value)):e.unit===De.kTurns?t=DZ(Number(e.value)):e.value&&(t=e.value),t}function IT(e,t){var r;return Array.isArray(e)?r=e.map(function(n){return Number(n)}):Ft(e)?r=e.split(" ").map(function(n){return Number(n)}):Ye(e)&&(r=[e]),t===2?r.length===1?[r[0],r[0]]:[r[0],r[1]]:t===4?r.length===1?[r[0],r[0],r[0],r[0]]:r.length===2?[r[0],r[1],r[0],r[1]]:r.length===3?[r[0],r[1],r[2],r[1]]:[r[0],r[1],r[2],r[3]]:t==="even"&&r.length%2===1?[].concat(vt(r),vt(r)):r}function Zn(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===De.kPixels)return Number(e.value);if(e.unit===De.kPercentage&&r){var i=r.nodeName===ye.GROUP?r.getLocalBounds():r.getGeometryBounds();return(n?i.min[t]:0)+e.value/100*i.halfExtents[t]*2}return 0}var DQ=function(t){return zc(/deg|rad|grad|turn|px|%/g,t)},FQ=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function BQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,r=[],n,i=0;n=t.exec(e);){if(n.index!==i)return[];if(i=n.index+n[0].length,FQ.indexOf(n[1])>-1&&r.push({name:n[1],params:n[2].split(" ").map(function(a){return DQ(a)||Zu(a)})}),t.lastIndex===e.length)return r}return[]}function Q5(e){return e.toString()}var J5=function(t){return typeof t=="number"?ir(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?ir(Number(t)):ir(0)},ux=Cr(J5);Cr(function(e){return Ft(e)?e.split(" ").map(ux):e.map(ux)});function h2(e,t){return[e,t,Q5]}function d2(e,t){return function(r,n){return[r,n,function(i){return Q5(wr(i,e,t))}]}}function eF(e,t){if(e.length===t.length)return[e,t,function(r){return r}]}function cx(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=nZ(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function $Q(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=xZ(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function qQ(e){for(var t=0;t<e.length;t++){var r=e[t-1],n=e[t],i=n[0];if(i==="M"&&r){var a=r[0],s=[n[1],n[2]],o=void 0;a==="L"||a==="M"?o=[r[1],r[2]]:(a==="C"||a==="A"||a==="Q")&&(o=[r[r.length-2],r[r.length-1]]),o&&dd(s,o)&&(e.splice(t,1),t--)}}}function zQ(e){for(var t=!1,r=e.length,n=0;n<r;n++){var i=e[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){t=!0;break}}return t}function jQ(e){for(var t=[],r=[],n=[],i=0;i<e.length;i++){var a=e[i],s=a[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([a[1],a[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([a[1],a[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}function dd(e,t){return e[0]===t[0]&&e[1]===t[1]}function GQ(e,t){for(var r=[],n=[],i=[],a=0;a<e.length;a++){var s=e[a],o=s.currentPoint,l=s.params,u=s.prePoint,c=void 0;switch(s.command){case"Q":c=_Z(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=yZ(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=s.arcParams;c=vZ(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:r.push(o[0]),n.push(o[1]);break}c&&(s.box=c,r.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height))}r=r.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0}),n=n.filter(function(x){return!Number.isNaN(x)&&x!==1/0&&x!==-1/0});var h=sd(r),d=sd(n),p=ad(r),v=ad(n);if(i.length===0)return{x:h,y:d,width:p-h,height:v-d};for(var g=0;g<i.length;g++){var m=i[g],y=m.currentPoint,b=void 0;y[0]===h?(b=Nf(m,t),h-=b.xExtra):y[0]===p&&(b=Nf(m,t),p+=b.xExtra),y[1]===d?(b=Nf(m,t),d-=b.yExtra):y[1]===v&&(b=Nf(m,t),v+=b.yExtra)}return{x:h,y:d,width:p-h,height:v-d}}function Nf(e,t){var r=e.prePoint,n=e.currentPoint,i=e.nextPoint,a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),l=Math.acos((a+s-o)/(2*Math.sqrt(a)*Math.sqrt(s)));if(!l||Math.sin(l)===0||Xu(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),c=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(c-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function DT(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var FT=function(t,r){var n=t.x*r.x+t.y*r.y,i=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(r.x,2)+Math.pow(r.y,2))),a=t.x*r.y-t.y*r.x<0?-1:1,s=a*Math.acos(n/i);return s},BT=function(t,r,n,i,a,s,o,l){r=Math.abs(r),n=Math.abs(n),i=k5(i,360);var u=Lt(i);if(t.x===o.x&&t.y===o.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(r===0||n===0)return{x:0,y:0,ellipticalArcAngle:0};var c=(t.x-o.x)/2,f=(t.y-o.y)/2,h={x:Math.cos(u)*c+Math.sin(u)*f,y:-Math.sin(u)*c+Math.cos(u)*f},d=Math.pow(h.x,2)/Math.pow(r,2)+Math.pow(h.y,2)/Math.pow(n,2);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var p=Math.pow(r,2)*Math.pow(n,2)-Math.pow(r,2)*Math.pow(h.y,2)-Math.pow(n,2)*Math.pow(h.x,2),v=Math.pow(r,2)*Math.pow(h.y,2)+Math.pow(n,2)*Math.pow(h.x,2),g=p/v;g=g<0?0:g;var m=(a!==s?1:-1)*Math.sqrt(g),y={x:m*(r*h.y/n),y:m*(-(n*h.x)/r)},b={x:Math.cos(u)*y.x-Math.sin(u)*y.y+(t.x+o.x)/2,y:Math.sin(u)*y.x+Math.cos(u)*y.y+(t.y+o.y)/2},x={x:(h.x-y.x)/r,y:(h.y-y.y)/n},E=FT({x:1,y:0},x),S={x:(-h.x-y.x)/r,y:(-h.y-y.y)/n},_=FT(x,S);!s&&_>0?_-=2*Math.PI:s&&_<0&&(_+=2*Math.PI),_%=2*Math.PI;var k=E+_*l,O=r*Math.cos(k),P=n*Math.sin(k),N={x:Math.cos(u)*O-Math.sin(u)*P+b.x,y:Math.sin(u)*O+Math.cos(u)*P+b.y,ellipticalArcStartAngle:E,ellipticalArcEndAngle:E+_,ellipticalArcAngle:k,ellipticalArcCenter:b,resultantRx:r,resultantRy:n};return N};function WQ(e){for(var t=[],r=null,n=null,i=null,a=0,s=e.length,o=0;o<s;o++){var l=e[o];n=e[o+1];var u=l[0],c={command:u,prePoint:r,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],a=o;break;case"A":var f=VQ(r,l);c.arcParams=f;break}if(u==="Z")r=i,n=e[a+1];else{var h=l.length;r=[l[h-2],l[h-1]]}n&&n[0]==="Z"&&(n=e[a],t[a]&&(t[a].prePoint=r)),c.currentPoint=r,t[a]&&dd(r,t[a].currentPoint)&&(t[a].prePoint=c.prePoint);var d=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=d;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-r[0],p[1]-r[1]],c.endTangent=[r[0]-p[0],r[1]-p[1]];else if(u==="Q"){var v=[l[1],l[2]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]]}else if(u==="T"){var g=t[o-1],m=DT(g.currentPoint,p);g.command==="Q"?(c.command="Q",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[r[0]-m[0],r[1]-m[1]]):(c.command="TL",c.startTangent=[p[0]-r[0],p[1]-r[1]],c.endTangent=[r[0]-p[0],r[1]-p[1]])}else if(u==="C"){var y=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[r[0]-b[0],r[1]-b[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-b[0],y[1]-b[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[b[0]-y[0],b[1]-y[1]])}else if(u==="S"){var x=t[o-1],E=DT(x.currentPoint,p),S=[l[1],l[2]];x.command==="C"?(c.command="C",c.startTangent=[p[0]-E[0],p[1]-E[1]],c.endTangent=[r[0]-S[0],r[1]-S[1]]):(c.command="SQ",c.startTangent=[p[0]-S[0],p[1]-S[1]],c.endTangent=[r[0]-S[0],r[1]-S[1]])}else if(u==="A"){var _=$T(c,0),k=_.x,O=_.y,P=$T(c,1,!1),N=P.x,R=P.y;c.startTangent=[k,O],c.endTangent=[N,R]}t.push(c)}return t}function $T(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.arcParams,i=n.rx,a=i===void 0?0:i,s=n.ry,o=s===void 0?0:s,l=n.xRotation,u=n.arcFlag,c=n.sweepFlag,f=BT({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},t),h=BT({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},r?t+.005:t-.005),d=h.x-f.x,p=h.y-f.y,v=Math.sqrt(d*d+p*p);return{x:-d/v,y:-p/v}}function Cf(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function fx(e,t){return Cf(e)*Cf(t)?(e[0]*t[0]+e[1]*t[1])/(Cf(e)*Cf(t)):1}function qT(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(fx(e,t))}function VQ(e,t){var r=t[1],n=t[2],i=k5(Lt(t[3]),Math.PI*2),a=t[4],s=t[5],o=e[0],l=e[1],u=t[6],c=t[7],f=Math.cos(i)*(o-u)/2+Math.sin(i)*(l-c)/2,h=-1*Math.sin(i)*(o-u)/2+Math.cos(i)*(l-c)/2,d=f*f/(r*r)+h*h/(n*n);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var p=r*r*(h*h)+n*n*(f*f),v=p?Math.sqrt((r*r*(n*n)-p)/p):1;a===s&&(v*=-1),isNaN(v)&&(v=0);var g=n?v*r*h/n:0,m=r?v*-n*f/r:0,y=(o+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*m,x=[(f-g)/r,(h-m)/n],E=[(-1*f-g)/r,(-1*h-m)/n],S=qT([1,0],x),_=qT(x,E);return fx(x,E)<=-1&&(_=Math.PI),fx(x,E)>=1&&(_=0),s===0&&_>0&&(_-=2*Math.PI),s===1&&_<0&&(_+=2*Math.PI),{cx:y,cy:b,rx:dd(e,[u,c])?0:r,ry:dd(e,[u,c])?0:n,startAngle:S,endAngle:S+_,xRotation:i,arcFlag:a,sweepFlag:s}}var tF=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var r;try{r=od(t)}catch{r=od(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}qQ(r);var n=zQ(r),i=jQ(r),a=i.polygons,s=i.polylines,o=WQ(r),l=GQ(o,0),u=l.x,c=l.y,f=l.width,h=l.height;return{absolutePath:r,hasArc:n,segments:o,polygons:a,polylines:s,totalLength:0,rect:{x:Number.isFinite(u)?u:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(h)?h:0}}},UQ=Cr(tF);function rF(e){return Ft(e)?UQ(e):tF(e)}function HQ(e,t,r){var n=e.curve,i=t.curve;(!n||n.length===0)&&(n=ex(e.absolutePath,!1),e.curve=n),(!i||i.length===0)&&(i=ex(t.absolutePath,!1),t.curve=i);var a=[n,i];n.length!==i.length&&(a=I5(n,i));var s=dT(a[0])!==dT(a[1])?ZK(a[0]):KK(a[0]);return[s,aZ(a[1],s),function(o){return o}]}function YQ(e,t){var r;return Ft(e)?r=e.split(" ").map(function(n){var i=n.split(","),a=st(i,2),s=a[0],o=a[1];return[Number(s),Number(o)]}):r=e,{points:r,totalLength:0,segments:[]}}function XQ(e,t){return[e.points,t.points,function(r){return r}]}var hr=null,wl=/\s*(\w+)\(([^)]*)\)/g;function Nn(e){return function(t){var r=0;return e.map(function(n){return n===hr?t[r++]:n})}}function to(e){return e}var xc={matrix:["NNNNNN",[hr,hr,0,0,hr,hr,0,0,0,0,1,0,hr,hr,0,1],to],matrix3d:["NNNNNNNNNNNNNNNN",to],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Nn([hr,hr,new jr(1)]),to],scaleX:["N",Nn([hr,new jr(1),new jr(1)]),Nn([hr,new jr(1)])],scaleY:["N",Nn([new jr(1),hr,new jr(1)]),Nn([new jr(1),hr])],scaleZ:["N",Nn([new jr(1),new jr(1),hr])],scale3d:["NNN",to],skew:["Aa",null,to],skewX:["A",null,Nn([hr,Io])],skewY:["A",null,Nn([Io,hr])],translate:["Tt",Nn([hr,hr,Ci]),to],translateX:["T",Nn([hr,Ci,Ci]),Nn([hr,Ci])],translateY:["T",Nn([Ci,hr,Ci]),Nn([Ci,hr])],translateZ:["L",Nn([Ci,Ci,hr])],translate3d:["TTL",to]};function nF(e){for(var t=[],r=e.length,n=0;n<r;n++){var i=e[n],a=i[0],s=i.slice(1);a==="translate"||a==="skew"?s.length===1&&s.push(0):a==="scale"&&s.length===1&&s.push(s[0]);var o=xc[a];if(!o)return[];var l=s.map(function(u){return ir(u)});t.push({t:a,d:l})}return t}function iF(e){if(Array.isArray(e))return nF(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],r,n=0;for(wl.lastIndex=0;r=wl.exec(e);){if(r.index!==n)return[];n=r.index+r[0].length;var i=r[1],a=xc[i];if(!a)return[];var s=r[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u],h=void 0;if(c?h={A:function(p){return p.trim()==="0"?Io:LQ(p)},N:ux,T:lx,L:CQ}[f.toUpperCase()](c):h={a:Io,n:l[0],t:Ci}[f],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),wl.lastIndex===e.length)return t}return[]}function KQ(e){if(Array.isArray(e))return nF(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],r,n=0;for(wl.lastIndex=0;r=wl.exec(e);){if(r.index!==n)return[];n=r.index+r[0].length;var i=r[1],a=xc[i];if(!a)return[];var s=r[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u],h=void 0;if(c?h={A:function(p){return p.trim()==="0"?Io:Z5(p)},N:J5,T:K5,L:X5}[f.toUpperCase()](c):h={a:Io,n:l[0],t:Ci}[f],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),wl.lastIndex===e.length)return t}return[]}function ZQ(e){var t,r,n,i;switch(e.t){case"rotateX":return i=Lt(Ln(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=Lt(Ln(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=Lt(Ln(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,r=e.d[1].value,n=e.d[2].value,i=Lt(Ln(e.d[3]));var a=t*t+r*r+n*n;if(a===0)t=1,r=0,n=0;else if(a!==1){var s=Math.sqrt(a);t/=s,r/=s,n/=s}var o=Math.sin(i/2),l=o*Math.cos(i/2),u=o*o;return[1-2*(r*r+n*n)*u,2*(t*r*u+n*l),2*(t*n*u-r*l),0,2*(t*r*u-n*l),1-2*(t*t+n*n)*u,2*(r*n*u+t*l),0,2*(t*n*u+r*l),2*(r*n*u-t*l),1-2*(t*t+r*r)*u,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var c=Lt(Ln(e.d[0])),f=Lt(Ln(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=Lt(Ln(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=Lt(Ln(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=Zn(e.d[0],0,null)||0,r=Zn(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,r,0,1];case"translateX":return t=Zn(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return r=Zn(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,r,0,1];case"translateZ":return n=Zn(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,n,1];case"translate3d":return t=Zn(e.d[0],0,null)||0,r=Zn(e.d[1],0,null)||0,n=Zn(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,r,n,1];case"perspective":var h=Zn(e.d[0],0,null)||0,d=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(p){return p.value})}}function QQ(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function JQ(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(ZQ).reduce(QQ)}function zT(e){var t=[0,0,0],r=[1,1,1],n=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return zZ(JQ(e),t,r,n,i,a),[[t,r,n,a,i]]}var eJ=function(){function e(n,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var o=0;o<4;o++)for(var l=0;l<4;l++)a[s][o]+=i[s][l]*n[l][o];return a}function t(n){return n[0][2]===0&&n[0][3]===0&&n[1][2]===0&&n[1][3]===0&&n[2][0]===0&&n[2][1]===0&&n[2][2]===1&&n[2][3]===0&&n[3][2]===0&&n[3][3]===1}function r(n,i,a,s,o){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=o[u];for(var c=0;c<3;c++)for(var f=0;f<3;f++)l[3][c]+=n[f]*l[f][c];var h=s[0],d=s[1],p=s[2],v=s[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(d*d+p*p),g[0][1]=2*(h*d-p*v),g[0][2]=2*(h*p+d*v),g[1][0]=2*(h*d+p*v),g[1][1]=1-2*(h*h+p*p),g[1][2]=2*(d*p-h*v),g[2][0]=2*(h*p-d*v),g[2][1]=2*(d*p+h*v),g[2][2]=1-2*(h*h+d*d),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(m[2][1]=a[2],l=e(l,m)),a[1]&&(m[2][1]=0,m[2][0]=a[0],l=e(l,m)),a[0]&&(m[2][0]=0,m[1][0]=a[0],l=e(l,m));for(var y=0;y<3;y++)for(var b=0;b<3;b++)l[y][b]*=i[y];return t(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return r}();function tJ(e){return e.toFixed(6).replace(".000000","")}function Gv(e,t){var r,n;return e.decompositionPair!==t&&(e.decompositionPair=t,r=zT(e)),t.decompositionPair!==e&&(t.decompositionPair=e,n=zT(t)),r[0]===null||n[0]===null?[[!1],[!0],function(i){return i?t[0].d:e[0].d}]:(r[0].push(0),n[0].push(1),[r,n,function(i){var a=nJ(r[0][3],n[0][3],i[5]),s=eJ(i[0],i[1],i[2],a,i[4]),o=s.map(tJ).join(",");return o}])}function rJ(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}function nJ(e,t,r){var n=rJ(e,t);n=wr(n,-1,1);var i=[];if(n===1)i=e;else for(var a=Math.acos(n),s=Math.sin(r*a)*1/Math.sqrt(1-n*n),o=0;o<4;o++)i.push(e[o]*(Math.cos(r*a)-n*s)+t[o]*s);return i}function Wv(e){return e.replace(/[XY]/,"")}function Vv(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var iJ=function(t,r){return t==="perspective"&&r==="perspective"||(t==="matrix"||t==="matrix3d")&&(r==="matrix"||r==="matrix3d")};function aJ(e,t,r){var n=!1;if(!e.length||!t.length){e.length||(n=!0,e=t,t=[]);for(var i=function(){var N=e[a],R=N.t,L=N.d,D=R.substring(0,5)==="scale"?1:0;t.push({t:R,d:L.map(function($){return typeof $=="number"?ir(D):ir(D,$.unit)})})},a=0;a<e.length;a++)i()}var s=[],o=[],l=[];if(e.length!==t.length){var u=Gv(e,t);s=[u[0]],o=[u[1]],l=[["matrix",[u[2]]]]}else for(var c=0;c<e.length;c++){var f=e[c].t,h=t[c].t,d=e[c].d,p=t[c].d,v=xc[f],g=xc[h],m=void 0;if(iJ(f,h)){var y=Gv([e[c]],[t[c]]);s.push(y[0]),o.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===h)m=f;else if(v[2]&&g[2]&&Wv(f)===Wv(h))m=Wv(f),d=v[2](d),p=g[2](p);else if(v[1]&&g[1]&&Vv(f)===Vv(h))m=Vv(f),d=v[1](d),p=g[1](p);else{var b=Gv(e,t);s=[b[0]],o=[b[1]],l=[["matrix",[b[2]]]];break}for(var x=[],E=[],S=[],_=0;_<d.length;_++){var k=IQ(d[_],p[_],r,!1,_);x[_]=k[0],E[_]=k[1],S.push(k[2])}s.push(x),o.push(E),l.push([m,S])}if(n){var O=s;s=o,o=O}return[s,o,function(P){return P.map(function(N,R){var L=N.map(function(D,$){return l[R][1][$](D)}).join(",");return l[R][0]==="matrix"&&L.split(",").length===16&&(l[R][0]="matrix3d"),l[R][0]==="matrix3d"&&L.split(",").length===6&&(l[R][0]="matrix"),"".concat(l[R][0],"(").concat(L,")")}).join(" ")}]}var sJ=Cr(function(e){if(Ft(e)){if(e==="text-anchor")return[ir(0,"px"),ir(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[lx(jT(t[0])),lx(jT(t[1]))]}return[ir(e[0]||0,"px"),ir(e[1]||0,"px")]});function jT(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var p2=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Ie.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Ie.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Ie.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Ie.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Ie.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Ie.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Ie.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Ie.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Ie.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Ie.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Ie.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Ie.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Ie.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Ie.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Ie.FILTER},{n:"clipPath",syntax:Ie.DEFINED_PATH},{n:"textPath",syntax:Ie.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Ie.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Ie.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Ie.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Ie.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Ie.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Ie.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Ie.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Ie.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ie.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Ie.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Ie.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Ie.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Ie.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Ie.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Ie.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Ie.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Ie.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Ie.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Ie.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Ie.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Ie.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Ie.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Ie.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Ie.NUMBER,d:function(t){return t===ye.PATH||t===ye.POLYGON||t===ye.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Ie.MARKER},{n:"markerEnd",syntax:Ie.MARKER},{n:"markerMid",syntax:Ie.MARKER},{n:"markerStartOffset",syntax:Ie.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Ie.LENGTH,l:!0,int:!0,d:"0"}],oJ=new Set(p2.filter(function(e){return!!e.l}).map(function(e){return e.n})),aF={},lJ=function(){function e(t){var r=this;ke(this,e),this.runtime=t,p2.forEach(function(n){r.registerMetadata(n)})}return Te(e,[{key:"registerMetadata",value:function(r){[r.n].concat(vt(r.a||[])).forEach(function(n){aF[n]=r})}},{key:"getPropertySyntax",value:function(r){return this.runtime.CSSPropertySyntaxFactory[r]}},{key:"processProperties",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(r.attributes,n);var a=r.parsedStyle.clipPath,s=r.parsedStyle.offsetPath;uJ(r,n);var o=!!i.forceUpdateGeometry;if(!o){for(var l in n)if(oJ.has(l)){o=!0;break}}var u=sF(r);u.has("fill")&&n.fill&&(r.parsedStyle.fill=Zu(n.fill)),u.has("stroke")&&n.stroke&&(r.parsedStyle.stroke=Zu(n.stroke)),u.has("shadowColor")&&n.shadowColor&&(r.parsedStyle.shadowColor=Zu(n.shadowColor)),u.has("filter")&&n.filter&&(r.parsedStyle.filter=BQ(n.filter)),u.has("radius")&&!Qe(n.radius)&&(r.parsedStyle.radius=IT(n.radius,4)),u.has("lineDash")&&!Qe(n.lineDash)&&(r.parsedStyle.lineDash=IT(n.lineDash,"even")),u.has("points")&&n.points&&(r.parsedStyle.points=YQ(n.points)),u.has("d")&&n.d===""&&(r.parsedStyle.d=ot({},G5)),u.has("d")&&n.d&&(r.parsedStyle.d=rF(n.d)),u.has("textTransform")&&n.textTransform&&this.runtime.CSSPropertySyntaxFactory[Ie.TEXT_TRANSFORM].calculator(null,null,{value:n.textTransform},r,null),u.has("clipPath")&&!er(n.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Ie.DEFINED_PATH].calculator("clipPath",a,n.clipPath,r,this.runtime),u.has("offsetPath")&&n.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Ie.DEFINED_PATH].calculator("offsetPath",s,n.offsetPath,r,this.runtime),u.has("transform")&&n.transform&&(r.parsedStyle.transform=iF(n.transform)),u.has("transformOrigin")&&n.transformOrigin&&(r.parsedStyle.transformOrigin=sJ(n.transformOrigin)),u.has("markerStart")&&n.markerStart&&(r.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Ie.MARKER].calculator(null,n.markerStart,n.markerStart,null,null)),u.has("markerEnd")&&n.markerEnd&&(r.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Ie.MARKER].calculator(null,n.markerEnd,n.markerEnd,null,null)),u.has("markerMid")&&n.markerMid&&(r.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Ie.MARKER].calculator("",n.markerMid,n.markerMid,null,null)),u.has("zIndex")&&!Qe(n.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Ie.Z_INDEX].postProcessor(r),u.has("offsetDistance")&&!Qe(n.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Ie.OFFSET_DISTANCE].postProcessor(r),u.has("transform")&&n.transform&&this.runtime.CSSPropertySyntaxFactory[Ie.TRANSFORM].postProcessor(r),u.has("transformOrigin")&&n.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Ie.TRANSFORM_ORIGIN].postProcessor(r),o&&(r.geometry.dirty=!0,r.renderable.boundsDirty=!0,r.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(r))}},{key:"updateGeometry",value:function(r){var n=r.nodeName,i=this.runtime.geometryUpdaterFactory[n];if(i){var a=r.geometry;a.contentBounds||(a.contentBounds=new kr),a.renderBounds||(a.renderBounds=new kr);var s=r.parsedStyle,o=i.update(s,r),l=o.cx,u=l===void 0?0:l,c=o.cy,f=c===void 0?0:c,h=o.cz,d=h===void 0?0:h,p=o.hwidth,v=p===void 0?0:p,g=o.hheight,m=g===void 0?0:g,y=o.hdepth,b=y===void 0?0:y,x=[Math.abs(v),Math.abs(m),b],E=s.stroke,S=s.lineWidth,_=S===void 0?1:S,k=s.increasedLineWidthForHitTesting,O=k===void 0?0:k,P=s.shadowType,N=P===void 0?"outer":P,R=s.shadowColor,L=s.filter,D=L===void 0?[]:L,$=s.transformOrigin,X=[u,f,d];a.contentBounds.update(X,x);var K=n===ye.POLYLINE||n===ye.POLYGON||n===ye.PATH?Math.SQRT2:.5,V=E&&!E.isNone;if(V){var ne=((_||0)+(O||0))*K;x[0]+=ne,x[1]+=ne}if(a.renderBounds.update(X,x),R&&N&&N!=="inner"){var we=a.renderBounds,Se=we.min,pe=we.max,qe=s.shadowBlur,ee=s.shadowOffsetX,U=s.shadowOffsetY,le=qe||0,Z=ee||0,se=U||0,ve=Se[0]-le+Z,ge=pe[0]+le+Z,Me=Se[1]-le+se,W=pe[1]+le+se;Se[0]=Math.min(Se[0],ve),pe[0]=Math.max(pe[0],ge),Se[1]=Math.min(Se[1],Me),pe[1]=Math.max(pe[1],W),a.renderBounds.setMinMax(Se,pe)}D.forEach(function(de){var G=de.name,j=de.params;if(G==="blur"){var re=j[0].value;a.renderBounds.update(a.renderBounds.center,Os(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[re,re,0]))}else if(G==="drop-shadow"){var ue=j[0].value,Pe=j[1].value,me=j[2].value,te=a.renderBounds,fe=te.min,Fe=te.max,He=fe[0]-me+ue,Je=Fe[0]+me+ue,Kt=fe[1]-me+Pe,Dt=Fe[1]+me+Pe;fe[0]=Math.min(fe[0],He),Fe[0]=Math.max(Fe[0],Je),fe[1]=Math.min(fe[1],Kt),Fe[1]=Math.max(Fe[1],Dt),a.renderBounds.setMinMax(fe,Fe)}}),r.geometry.dirty=!1;var H=v<0,oe=m<0,ce=(H?-1:1)*($?Zn($[0],0,r,!0):0),xe=(oe?-1:1)*($?Zn($[1],1,r,!0):0);(ce||xe)&&r.setOrigin(ce,xe)}}},{key:"updateSizeAttenuation",value:function(r,n){r.style.isSizeAttenuation?(r.style.rawLineWidth||(r.style.rawLineWidth=r.style.lineWidth),r.style.lineWidth=(r.style.rawLineWidth||1)/n,r.nodeName===ye.CIRCLE&&(r.style.rawR||(r.style.rawR=r.style.r),r.style.r=(r.style.rawR||1)/n)):(r.style.rawLineWidth&&(r.style.lineWidth=r.style.rawLineWidth,delete r.style.rawLineWidth),r.nodeName===ye.CIRCLE&&r.style.rawR&&(r.style.r=r.style.rawR,delete r.style.rawR))}}])}();function uJ(e,t){var r=sF(e);for(var n in t)r.has(n)&&(e.parsedStyle[n]=t[n])}function sF(e){return e.constructor.PARSED_STYLE_LIST}var cJ=function(){function e(){ke(this,e),this.mixer=h2}return Te(e,[{key:"calculator",value:function(r,n,i,a){return Ln(i)}}])}(),fJ=function(){function e(){ke(this,e)}return Te(e,[{key:"calculator",value:function(r,n,i,a,s){return i instanceof ki&&(i=null),s.sceneGraphService.updateDisplayObjectDependency(r,n,i,a),r==="clipPath"&&a.forEach(function(o){o.childNodes.length===0&&s.sceneGraphService.dirtifyToRoot(o)}),i}}])}(),hJ=function(){function e(){ke(this,e),this.parser=Zu,this.mixer=NQ}return Te(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof ki?i.value==="none"?U5:H5:i}}])}(),dJ=function(){function e(){ke(this,e)}return Te(e,[{key:"calculator",value:function(r,n,i){return i instanceof ki?[]:i}}])}();function GT(e){var t=e.parsedStyle,r=t.fontSize;return Qe(r)?null:r}var hx=function(){function e(){ke(this,e),this.mixer=h2}return Te(e,[{key:"calculator",value:function(r,n,i,a,s){if(Ye(i))return i;if(jr.isRelativeUnit(i.unit)){if(i.unit===De.kPercentage)return 0;if(i.unit===De.kEms){if(a.parentNode){var o=GT(a.parentNode);if(o)return o*=i.value,o}return 0}if(i.unit===De.kRems){var l;if(a!=null&&(l=a.ownerDocument)!==null&&l!==void 0&&l.documentElement){var u=GT(a.ownerDocument.documentElement);if(u)return u*=i.value,u}return 0}}else return i.value}}])}(),pJ=function(){function e(){ke(this,e),this.mixer=eF}return Te(e,[{key:"calculator",value:function(r,n,i){return i.map(function(a){return a.value})}}])}(),vJ=function(){function e(){ke(this,e),this.mixer=eF}return Te(e,[{key:"calculator",value:function(r,n,i){return i.map(function(a){return a.value})}}])}(),gJ=function(){function e(){ke(this,e)}return Te(e,[{key:"calculator",value:function(r,n,i,a){var s;i instanceof ki&&(i=null);var o=(s=i)===null||s===void 0?void 0:s.cloneNode(!0);return o&&(o.style.isMarker=!0),o}}])}(),mJ=function(){function e(){ke(this,e),this.mixer=h2}return Te(e,[{key:"calculator",value:function(r,n,i){return i.value}}])}(),yJ=function(){function e(){ke(this,e),this.mixer=d2(0,1)}return Te(e,[{key:"calculator",value:function(r,n,i){return i.value}},{key:"postProcessor",value:function(r){var n=r.parsedStyle,i=n.offsetPath,a=n.offsetDistance;if(i){var s=i.nodeName;if(s===ye.LINE||s===ye.PATH||s===ye.POLYLINE){var o=i.getPoint(a);o&&r.setLocalPosition(o.x,o.y)}}}}])}(),bJ=function(){function e(){ke(this,e),this.mixer=d2(0,1)}return Te(e,[{key:"calculator",value:function(r,n,i){return i.value}}])}(),wJ=function(){function e(){ke(this,e),this.parser=rF,this.mixer=HQ}return Te(e,[{key:"calculator",value:function(r,n,i){return i instanceof ki&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new $l(0,0,0,0)}:i}}])}(),xJ=Te(function e(){ke(this,e),this.mixer=XQ}),_J=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.mixer=d2(0,1/0),r}return ct(t,e),Te(t)}(hx),EJ=function(){function e(){ke(this,e)}return Te(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof ki?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(r){r.nodeValue="".concat(r.parsedStyle.text)||""}}])}(),SJ=function(){function e(){ke(this,e)}return Te(e,[{key:"calculator",value:function(r,n,i,a){var s=a.getAttribute("text");if(s){var o=s;i.value==="capitalize"?o=s.charAt(0).toUpperCase()+s.slice(1):i.value==="lowercase"?o=s.toLowerCase():i.value==="uppercase"&&(o=s.toUpperCase()),a.parsedStyle.text=o}return i.value}}])}(),Uv=new WeakMap;function kJ(e,t,r){if(e){var n=typeof e=="string"?document.getElementById(e):e;Uv.has(n)&&Uv.get(n).destroy(r),Uv.set(n,t)}}var v2=typeof window<"u"&&typeof window.document<"u";function TJ(e){return!!e.getAttribute}function MJ(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>>1;oF(e[i],t)<0?r=i+1:n=i}return r}function oF(e,t){var r=Number(e.parsedStyle.zIndex||0),n=Number(t.parsedStyle.zIndex||0);if(r===n){var i=e.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(e)-a.indexOf(t)}}return r-n}function lF(e){var t=e;do{var r,n=(r=t.parsedStyle)===null||r===void 0?void 0:r.clipPath;if(n)return t;t=t.parentElement}while(t!==null);return null}var WT="px";function AJ(e,t,r){v2&&e.style&&(e.style.width=t+WT,e.style.height=r+WT)}function uF(e,t){if(v2)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function OJ(e){var t=uF(e,"width");return t==="auto"?e.offsetWidth:parseFloat(t)}function PJ(e){var t=uF(e,"height");return t==="auto"?e.offsetHeight:parseFloat(t)}var NJ=1,CJ={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},dx=typeof performance=="object"&&performance.now?performance:Date;function pd(e){return e.nodeName===ye.FRAGMENT?!0:e.getRootNode().nodeName===ye.FRAGMENT}function jo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=!1,i=!1,a=!!t&&!t.isNone,s=!!r&&!r.isNone;return e==="visiblepainted"||e==="painted"||e==="auto"?(n=a,i=s):e==="visiblefill"||e==="fill"?n=!0:e==="visiblestroke"||e==="stroke"?i=!0:(e==="visible"||e==="all")&&(n=!0,i=!0),[n,i]}var RJ=1,LJ=function(){return RJ++},ba=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},IJ=Date.now(),DJ=function(){return ba.performance&&typeof ba.performance.now=="function"?ba.performance.now():Date.now()-IJ},Tu={},VT=Date.now(),FJ=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var r=Date.now(),n=r-VT,i=n>16?0:16-n,a=LJ();return Tu[a]=t,Object.keys(Tu).length>1||setTimeout(function(){VT=r;var s=Tu;Tu={},Object.keys(s).forEach(function(o){return s[o](DJ())})},i),a},BJ=function(t){delete Tu[t]},$J=["","webkit","moz","ms","o"],cF=function(t){return typeof t!="string"?FJ:t===""?ba.requestAnimationFrame:ba["".concat(t,"RequestAnimationFrame")]},qJ=function(t){return typeof t!="string"?BJ:t===""?ba.cancelAnimationFrame:ba["".concat(t,"CancelAnimationFrame")]||ba["".concat(t,"CancelRequestAnimationFrame")]},zJ=function(t,r){for(var n=0;t[n]!==void 0;){if(r(t[n]))return t[n];n+=1}},fF=zJ($J,function(e){return!!cF(e)}),g2=cF(fF),hF=qJ(fF);ba.requestAnimationFrame=g2;ba.cancelAnimationFrame=hF;var jJ=function(){function e(){ke(this,e),this.callbacks=[]}return Te(e,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(r,n){this.callbacks.push(n)}},{key:"promise",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,n)}))}}])}(),GJ=function(){function e(){ke(this,e),this.callbacks=[]}return Te(e,[{key:"tapPromise",value:function(r,n){this.callbacks.push(n)}},{key:"promise",value:function(){var t=Is(Qr().mark(function n(){var i,a,s,o,l=arguments;return Qr().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.callbacks.length){c.next=14;break}return c.next=3,(i=this.callbacks)[0].apply(i,l);case 3:a=c.sent,s=0;case 5:if(!(s<this.callbacks.length-1)){c.next=13;break}return o=this.callbacks[s],c.next=9,o(a);case 9:a=c.sent;case 10:s++,c.next=5;break;case 13:return c.abrupt("return",a);case 14:return c.abrupt("return",null);case 15:case"end":return c.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}])}(),yn=function(){function e(){ke(this,e),this.callbacks=[]}return Te(e,[{key:"tap",value:function(r,n){this.callbacks.push(n)}},{key:"call",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(s){s.apply(void 0,a)})}}])}(),Hv=function(){function e(){ke(this,e),this.callbacks=[]}return Te(e,[{key:"tap",value:function(r,n){this.callbacks.push(n)}},{key:"call",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,s=this.callbacks[0].apply(void 0,a),o=0;o<this.callbacks.length-1;o++){var l=this.callbacks[o];s=l(s)}return s}return null}}])}(),WJ=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],VJ=/([\"\'])[^\'\"]+\1/;function UJ(e){for(var t=e.fontSize,r=t===void 0?16:t,n=e.fontFamily,i=n===void 0?"sans-serif":n,a=e.fontStyle,s=a===void 0?"normal":a,o=e.fontVariant,l=o===void 0?"normal":o,u=e.fontWeight,c=u===void 0?"normal":u,f=Ye(r)&&"".concat(r,"px")||"16px",h=i.split(","),d=h.length-1;d>=0;d--){var p=h[d].trim();!VJ.test(p)&&WJ.indexOf(p)<0&&(p='"'.concat(p,'"')),h[d]=p}return"".concat(s," ").concat(l," ").concat(c," ").concat(f," ").concat(h.join(","))}function Yv(e,t,r){return Rs(e),e[4]=Math.tan(t),e[1]=Math.tan(r),e}var br=jt(),HJ=jt(),YJ={scale:function(t){ho(br,[t[0].value,t[1].value,1])},scaleX:function(t){ho(br,[t[0].value,1,1])},scaleY:function(t){ho(br,[1,t[0].value,1])},scaleZ:function(t){ho(br,[1,1,t[0].value])},scale3d:function(t){ho(br,[t[0].value,t[1].value,t[2].value])},translate:function(t){ys(br,[t[0].value,t[1].value,0])},translateX:function(t){ys(br,[t[0].value,0,0])},translateY:function(t){ys(br,[0,t[0].value,0])},translateZ:function(t){ys(br,[0,0,t[0].value])},translate3d:function(t){ys(br,[t[0].value,t[1].value,t[2].value])},rotate:function(t){Uw(br,Lt(Ln(t[0])))},rotateX:function(t){h5(br,Lt(Ln(t[0])))},rotateY:function(t){d5(br,Lt(Ln(t[0])))},rotateZ:function(t){Uw(br,Lt(Ln(t[0])))},rotate3d:function(t){f5(br,Lt(Ln(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){Yv(br,Lt(t[0].value),Lt(t[1].value))},skewX:function(t){Yv(br,Lt(t[0].value),0)},skewY:function(t){Yv(br,0,Lt(t[0].value))},matrix:function(t){Vw(br,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){Vw.apply(HX,[br].concat(vt(t.map(function(r){return r.value}))))}},XJ=Ut(1,1,1),KJ=mt(),UT={translate:function(t,r){Ae.sceneGraphService.setLocalScale(t,XJ,!1),Ae.sceneGraphService.setLocalEulerAngles(t,KJ,void 0,void 0,!1),Ae.sceneGraphService.setLocalPosition(t,[r[0].value,r[1].value,0],!1),Ae.sceneGraphService.dirtifyLocal(t,t.transformable)}};function dF(e,t){if(e.length){if(e.length===1&&UT[e[0].t]){UT[e[0].t](t,e[0].d);return}for(var r=Rs(HJ),n=0;n<e.length;n++){var i=e[n],a=i.t,s=i.d,o=YJ[a];o&&(o(s),x5(r,r,br))}t.setLocalTransform(r)}else t.resetLocalTransform();return t.getLocalTransform()}var ZJ=function(){function e(){ke(this,e),this.parser=KQ,this.mixer=aJ}return Te(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof ki?[]:i}},{key:"postProcessor",value:function(r){dF(r.parsedStyle.transform,r)}}])}(),QJ=function(){function e(){ke(this,e)}return Te(e,[{key:"postProcessor",value:function(r){var n=r.parsedStyle.transformOrigin;n[0].unit===De.kPixels&&n[1].unit===De.kPixels?r.setOrigin(n[0].value,n[1].value):r.getGeometryBounds()}}])}(),JJ=function(){function e(){ke(this,e)}return Te(e,[{key:"calculator",value:function(r,n,i,a){return i.value}},{key:"postProcessor",value:function(r){if(r.parentNode){var n=r.parentNode,i=n.renderable,a=n.sortable;i&&(i.dirty=!0),a&&(a.dirty=!0,a.dirtyReason=ud.Z_INDEX_CHANGED)}}}])}(),eee=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r,n){var i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.r,u=l===void 0?0:l;return{cx:a,cy:o,hwidth:u,hheight:u}}}])}(),tee=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r,n){var i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.rx,u=l===void 0?0:l,c=r.ry,f=c===void 0?0:c;return{cx:a,cy:o,hwidth:u,hheight:f}}}])}(),ree=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r){var n=r.x1,i=r.y1,a=r.x2,s=r.y2,o=Math.min(n,a),l=Math.max(n,a),u=Math.min(i,s),c=Math.max(i,s),f=l-o,h=c-u,d=f/2,p=h/2;return{cx:o+d,cy:u+p,hwidth:d,hheight:p}}}])}(),nee=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r){var n=r.d,i=n.rect,a=i.x,s=i.y,o=i.width,l=i.height,u=o/2,c=l/2;return{cx:a+u,cy:s+c,hwidth:u,hheight:c}}}])}(),iee=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r){if(r.points&&Si(r.points.points)){var n=r.points.points,i=Math.min.apply(Math,vt(n.map(function(h){return h[0]}))),a=Math.max.apply(Math,vt(n.map(function(h){return h[0]}))),s=Math.min.apply(Math,vt(n.map(function(h){return h[1]}))),o=Math.max.apply(Math,vt(n.map(function(h){return h[1]}))),l=a-i,u=o-s,c=l/2,f=u/2;return{cx:i+c,cy:s+f,hwidth:c,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),aee=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=r.src,u=r.width,c=u===void 0?0:u,f=r.height,h=f===void 0?0:f,d=c,p=h;return l&&!Ft(l)&&(d||(d=l.width,r.width=d),p||(p=l.height,r.height=p)),{cx:a+d/2,cy:o+p/2,hwidth:d/2,hheight:p/2}}}])}(),see=function(){function e(t){ke(this,e),this.globalRuntime=t}return Te(e,[{key:"isReadyToMeasure",value:function(r,n){var i=r.text;return i}},{key:"update",value:function(r,n){var i,a=r.text,s=r.textAlign,o=s===void 0?"start":s,l=r.lineWidth,u=l===void 0?1:l,c=r.textBaseline,f=c===void 0?"alphabetic":c,h=r.dx,d=h===void 0?0:h,p=r.dy,v=p===void 0?0:p,g=r.x,m=g===void 0?0:g,y=r.y,b=y===void 0?0:y;if(!this.isReadyToMeasure(r,n))return r.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var x=(n==null||(i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},E=x.offscreenCanvas,S=this.globalRuntime.textService.measureText(a,r,E);r.metrics=S;var _=S.width,k=S.height,O=_/2,P=k/2,N=m+O;o==="center"||o==="middle"?N+=u/2-O:(o==="right"||o==="end")&&(N+=u-O*2);var R=b-P;return f==="middle"?R+=P:f==="top"||f==="hanging"?R+=P*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(R+=0),d&&(N+=d),v&&(R+=v),{cx:N,cy:R,hwidth:O,hheight:P}}}])}(),oee=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r,n){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),lee=function(){function e(){ke(this,e)}return Te(e,[{key:"update",value:function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=r.width,u=l===void 0?0:l,c=r.height,f=c===void 0?0:c;return{cx:a+u/2,cy:o+f/2,hwidth:u/2,hheight:f/2}}}])}(),pp=function(){function e(t){ke(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Zr,this.page=new Zr,this.canvas=new Zr,this.viewport=new Zr,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return Te(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Rt)}}])}(),pF=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.client=new Zr,r.movement=new Zr,r.offset=new Zr,r.global=new Zr,r.screen=new Zr,r}return ct(t,e),Te(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(n){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(n)}},{key:"initMouseEvent",value:function(){throw new Error(Rt)}}])}(pp),px=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.width=0,r.height=0,r.isPrimary=!1,r}return ct(t,e),Te(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(pF),vx=function(e){function t(){return ke(this,t),ut(this,t,arguments)}return ct(t,e),Te(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(pF),Tr=function(e){function t(r,n){var i;return ke(this,t),i=ut(this,t,[null]),i.type=r,i.detail=n,Object.assign(i,n),i}return ct(t,e),Te(t)}(pp),HT=new WeakMap,vF=function(){function e(){ke(this,e),this.emitter=new r5}return Te(e,[{key:"on",value:function(r,n,i){return this.addEventListener(r,n,i),this}},{key:"addEventListener",value:function(r,n,i){var a=!1,s=!1;if(lT(i))a=i;else if(i){var o=i.capture;a=o===void 0?!1:o;var l=i.once;s=l===void 0?!1:l}a&&(r+="capture"),n=Ht(n)?n:n.handleEvent;var u=Ht(n)?void 0:n;return s?this.emitter.once(r,n,u):this.emitter.on(r,n,u),this}},{key:"off",value:function(r,n,i){return r?this.removeEventListener(r,n,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var r;(r=this.emitter)===null||r===void 0||r.removeAllListeners()}},{key:"removeEventListener",value:function(r,n,i){var a;if(!this.emitter)return this;var s=lT(i)?i:i==null?void 0:i.capture;s&&(r+="capture"),n=Ht(n)?n:(a=n)===null||a===void 0?void 0:a.handleEvent;var o=Ht(n)?void 0:n;return this.emitter.off(r,n,o),this}},{key:"emit",value:function(r,n){this.dispatchEvent(new Tr(r,n))}},{key:"dispatchEvent",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=HT.get(this);if(!i){var a;this.document?i=this:this.defaultView?i=this.defaultView:i=(a=this.ownerDocument)===null||a===void 0?void 0:a.defaultView,i&&HT.set(this,i)}if(i){if(r.manager=i.getEventService(),!r.manager)return!1;r.defaultPrevented=!1,r.path?r.path.length=0:r.page=[],n||(r.target=this),r.manager.dispatchEvent(r,r.type,n)}else this.emitter.emit(r.type,r);return!r.defaultPrevented}}])}(),ur=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.shadow=!1,r.ownerDocument=null,r.isConnected=!1,r.baseURI="",r.childNodes=[],r.nodeType=0,r.nodeName="",r.nodeValue=null,r.parentNode=null,r}return ct(t,e),Te(t,[{key:"textContent",get:function(){var n="";this.nodeName===ye.TEXT&&(n+=this.style.text);var i=po(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;s.nodeName===ye.TEXT?n+=s.nodeValue:n+=s.textContent}}catch(o){i.e(o)}finally{i.f()}return n},set:function(n){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===ye.TEXT&&(this.style.text="".concat(n))}},{key:"getRootNode",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(n):n.composed&&this.host?this.host.getRootNode(n):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(n){throw new Error(Rt)}},{key:"lookupNamespaceURI",value:function(n){throw new Error(Rt)}},{key:"lookupPrefix",value:function(n){throw new Error(Rt)}},{key:"normalize",value:function(){throw new Error(Rt)}},{key:"isEqualNode",value:function(n){return this===n}},{key:"isSameNode",value:function(n){return this.isEqualNode(n)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(n){if(n===this)return 0;for(var i=n,a=this,s=[i],o=[a];(l=i.parentNode)!==null&&l!==void 0?l:a.parentNode;){var l;i=i.parentNode?(s.push(i.parentNode),i.parentNode):i,a=a.parentNode?(o.push(a.parentNode),a.parentNode):a}if(i!==a)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var u=s.length>o.length?s:o,c=u===s?o:s;if(u[u.length-c.length]===c[0])return u===s?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var f=u.length-c.length,h=c.length-1;h>=0;h--){var d=c[h],p=u[f+h];if(p!==d){var v=d.parentNode.childNodes;return v.indexOf(d)<v.indexOf(p)?c===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:u===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(n){return this.contains(n)}},{key:"contains",value:function(n){for(var i=n;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(n){for(var i=this;n>0&&i;)i=i.parentNode,n--;return i}},{key:"forEach",value:function(n){for(var i=[this];i.length>0;){var a=i.pop(),s=n(a);if(s===!1)break;for(var o=a.childNodes.length-1;o>=0;o--)i.push(a.childNodes[o])}}}],[{key:"isNode",value:function(n){return!!n.childNodes}}])}(vF);ur.DOCUMENT_POSITION_DISCONNECTED=1;ur.DOCUMENT_POSITION_PRECEDING=2;ur.DOCUMENT_POSITION_FOLLOWING=4;ur.DOCUMENT_POSITION_CONTAINS=8;ur.DOCUMENT_POSITION_CONTAINED_BY=16;ur.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var uee=2048,cee=function(){function e(t,r){var n=this;ke(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=jt(),this.tmpVec3=mt(),this.onPointerDown=function(i){var a=n.createPointerEvent(i);if(n.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")n.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;n.dispatchEvent(a,s?"rightdown":"mousedown")}var o=n.trackingData(i.pointerId);o.pressTargetsByButton[i.button]=a.composedPath(),n.freeEvent(a)},this.onPointerUp=function(i){var a=dx.now(),s=n.createPointerEvent(i,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);if(n.dispatchEvent(s,"pointerup"),s.pointerType==="touch")n.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var o=s.button===2;n.dispatchEvent(s,o?"rightup":"mouseup")}var l=n.trackingData(i.pointerId),u=n.findMountedTarget(l.pressTargetsByButton[i.button]),c=u;if(u&&!s.composedPath().includes(u)){for(var f=u;f&&!s.composedPath().includes(f);){if(s.currentTarget=f,n.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")n.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;n.notifyTarget(s,h?"rightupoutside":"mouseupoutside")}ur.isNode(f)&&(f=f.parentNode)}delete l.pressTargetsByButton[i.button],c=f}if(c){var d,p=n.clonePointerEvent(s,"click");p.target=c,p.path=[],l.clicksByButton[i.button]||(l.clicksByButton[i.button]={clickCount:0,target:p.target,timeStamp:a});var v=n.context.renderingContext.root.ownerDocument.defaultView,g=l.clicksByButton[i.button];g.target===p.target&&a-g.timeStamp<v.getConfig().dblClickSpeed?++g.clickCount:g.clickCount=1,g.target=p.target,g.timeStamp=a,p.detail=g.clickCount,(d=s.detail)!==null&&d!==void 0&&d.preventClick||(!n.context.config.useNativeClickEvent&&(p.pointerType==="mouse"||p.pointerType==="touch")&&n.dispatchEvent(p,"click"),n.dispatchEvent(p,"pointertap")),n.freeEvent(p)}n.freeEvent(s)},this.onPointerMove=function(i){var a=n.createPointerEvent(i,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0),s=a.pointerType==="mouse"||a.pointerType==="pen",o=n.trackingData(i.pointerId),l=n.findMountedTarget(o.overTargets);if(o.overTargets&&l!==a.target){var u=i.type==="mousemove"?"mouseout":"pointerout",c=n.createPointerEvent(i,u,l||void 0);if(n.dispatchEvent(c,"pointerout"),s&&n.dispatchEvent(c,"mouseout"),!a.composedPath().includes(l)){var f=n.createPointerEvent(i,"pointerleave",l||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!a.composedPath().includes(f.target);)f.currentTarget=f.target,n.notifyTarget(f),s&&n.notifyTarget(f,"mouseleave"),ur.isNode(f.target)&&(f.target=f.target.parentNode);n.freeEvent(f)}n.freeEvent(c)}if(l!==a.target){var h=i.type==="mousemove"?"mouseover":"pointerover",d=n.clonePointerEvent(a,h);n.dispatchEvent(d,"pointerover"),s&&n.dispatchEvent(d,"mouseover");for(var p=l&&ur.isNode(l)&&l.parentNode;p&&p!==(ur.isNode(n.rootTarget)&&n.rootTarget.parentNode)&&p!==a.target;)p=p.parentNode;var v=!p||p===(ur.isNode(n.rootTarget)&&n.rootTarget.parentNode);if(v){var g=n.clonePointerEvent(a,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==l&&g.target!==(ur.isNode(n.rootTarget)&&n.rootTarget.parentNode);)g.currentTarget=g.target,n.notifyTarget(g),s&&n.notifyTarget(g,"mouseenter"),ur.isNode(g.target)&&(g.target=g.target.parentNode);n.freeEvent(g)}n.freeEvent(d)}n.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&n.dispatchEvent(a,"touchmove"),s&&(n.dispatchEvent(a,"mousemove"),n.cursor=n.getCursor(a.target)),o.overTargets=a.composedPath(),n.freeEvent(a)},this.onPointerOut=function(i){var a=n.trackingData(i.pointerId);if(a.overTargets){var s=i.pointerType==="mouse"||i.pointerType==="pen",o=n.findMountedTarget(a.overTargets),l=n.createPointerEvent(i,"pointerout",o||void 0);n.dispatchEvent(l),s&&n.dispatchEvent(l,"mouseout");var u=n.createPointerEvent(i,"pointerleave",o||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==(ur.isNode(n.rootTarget)&&n.rootTarget.parentNode);)u.currentTarget=u.target,n.notifyTarget(u),s&&n.notifyTarget(u,"mouseleave"),ur.isNode(u.target)&&(u.target=u.target.parentNode);a.overTargets=null,n.freeEvent(l),n.freeEvent(u)}n.cursor=null},this.onPointerOver=function(i){var a=n.trackingData(i.pointerId),s=n.createPointerEvent(i),o=s.pointerType==="mouse"||s.pointerType==="pen";n.dispatchEvent(s,"pointerover"),o&&n.dispatchEvent(s,"mouseover"),s.pointerType==="mouse"&&(n.cursor=n.getCursor(s.target));var l=n.clonePointerEvent(s,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(ur.isNode(n.rootTarget)&&n.rootTarget.parentNode);)l.currentTarget=l.target,n.notifyTarget(l),o&&n.notifyTarget(l,"mouseenter"),ur.isNode(l.target)&&(l.target=l.target.parentNode);a.overTargets=s.composedPath(),n.freeEvent(s),n.freeEvent(l)},this.onPointerUpOutside=function(i){var a=n.trackingData(i.pointerId),s=n.findMountedTarget(a.pressTargetsByButton[i.button]),o=n.createPointerEvent(i);if(s){for(var l=s;l;)o.currentTarget=l,n.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch"||(o.pointerType==="mouse"||o.pointerType==="pen")&&n.notifyTarget(o,o.button===2?"rightupoutside":"mouseupoutside"),ur.isNode(l)&&(l=l.parentNode);delete a.pressTargetsByButton[i.button]}n.freeEvent(o)},this.onWheel=function(i){var a=n.createWheelEvent(i);n.dispatchEvent(a),n.freeEvent(a)},this.onClick=function(i){if(n.context.config.useNativeClickEvent){var a=n.createPointerEvent(i);n.dispatchEvent(a),n.freeEvent(a)}},this.onPointerCancel=function(i){var a=n.createPointerEvent(i,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);n.dispatchEvent(a),n.freeEvent(a)},this.globalRuntime=t,this.context=r}return Te(e,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var r=this.context.contextService.getBoundingClientRect(),n=1,i=1,a=this.context.contextService.getDomElement();if(a&&r){var s=a.offsetWidth,o=a.offsetHeight;s&&o&&(n=r.width/s,i=r.height/o)}return{scaleX:n,scaleY:i,bbox:r}}},{key:"client2Viewport",value:function(r){var n=this.getScale(),i=n.scaleX,a=n.scaleY,s=n.bbox;return new Zr((r.x-((s==null?void 0:s.left)||0))/i,(r.y-((s==null?void 0:s.top)||0))/a)}},{key:"viewport2Client",value:function(r){var n=this.getScale(),i=n.scaleX,a=n.scaleY,s=n.bbox;return new Zr((r.x+((s==null?void 0:s.left)||0))*i,(r.y+((s==null?void 0:s.top)||0))*a)}},{key:"viewport2Canvas",value:function(r){var n=r.x,i=r.y,a=this.rootTarget.defaultView,s=a.getCamera(),o=this.context.config,l=o.width,u=o.height,c=s.getPerspectiveInverse(),f=s.getWorldTransform(),h=pn(this.tmpMatrix,f,c),d=hn(this.tmpVec3,n/l*2-1,(1-i/u)*2-1,0);return vn(d,d,h),new Zr(d[0],d[1])}},{key:"canvas2Viewport",value:function(r){var n=this.rootTarget.defaultView,i=n.getCamera(),a=i.getPerspective(),s=i.getViewTransform(),o=pn(this.tmpMatrix,a,s),l=hn(this.tmpVec3,r.x,r.y,0);vn(this.tmpVec3,this.tmpVec3,o);var u=this.context.config,c=u.width,f=u.height;return new Zr((l[0]+1)/2*c,(1-(l[1]+1)/2)*f)}},{key:"setPickHandler",value:function(r){this.pickHandler=r}},{key:"addEventMapping",value:function(r,n){this.mappingTable[r]||(this.mappingTable[r]=[]),this.mappingTable[r].push({fn:n,priority:0}),this.mappingTable[r].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(r){if(this.rootTarget){var n=this.mappingTable[r.type];if(n)for(var i=0,a=n.length;i<a;i++)n[i].fn(r);else console.warn("[EventService]: Event mapping not defined for ".concat(r.type))}}},{key:"dispatchEvent",value:function(r,n,i){if(!i)r.propagationStopped=!1,r.propagationImmediatelyStopped=!1,this.propagate(r,n);else{r.eventPhase=r.AT_TARGET;var a=this.rootTarget.defaultView||null;r.currentTarget=a,this.notifyListeners(r,n)}}},{key:"propagate",value:function(r,n){if(r.target){var i=r.composedPath();r.eventPhase=r.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(r.currentTarget=i[a],this.notifyTarget(r,n),r.propagationStopped||r.propagationImmediatelyStopped)return;if(r.eventPhase=r.AT_TARGET,r.currentTarget=r.target,this.notifyTarget(r,n),!(r.propagationStopped||r.propagationImmediatelyStopped)){var s=i.indexOf(r.currentTarget);r.eventPhase=r.BUBBLING_PHASE;for(var o=s+1;o<i.length;o++)if(r.currentTarget=i[o],this.notifyTarget(r,n),r.propagationStopped||r.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(r){var n=[r],i=this.rootTarget.defaultView||null;if(i&&i===r)return n.unshift(i.document),n;for(var a=0;a<uee&&r!==this.rootTarget;a++)ur.isNode(r)&&r.parentNode&&(n.push(r.parentNode),r=r.parentNode);return i&&n.push(i),n}},{key:"hitTest",value:function(r){var n=r.viewportX,i=r.viewportY,a=this.context.config,s=a.width,o=a.height,l=a.disableHitTesting;return n<0||i<0||n>s||i>o?null:!l&&this.pickHandler(r)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(r,n){var i,a=n==null?void 0:n.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=n.composedPath()[0]),a){if(a===r)return!0;if(r&&r.contains)return r.contains(a)}return n!=null&&n.composedPath?n.composedPath().indexOf(r)>-1:!1}},{key:"getExistedHTML",value:function(r){if(r.nativeEvent.composedPath)for(var n=0,i=r.nativeEvent.composedPath();n<i.length;n++){var a=i[n],s=this.nativeHTMLMap.get(a);if(s)return s}return null}},{key:"pickTarget",value:function(r){return this.hitTest({clientX:r.clientX,clientY:r.clientY,viewportX:r.viewportX,viewportY:r.viewportY,x:r.canvasX,y:r.canvasY})}},{key:"createPointerEvent",value:function(r,n,i,a){var s=this.allocateEvent(px);this.copyPointerData(r,s),this.copyMouseData(r,s),this.copyData(r,s),s.nativeEvent=r.nativeEvent,s.originalEvent=r;var o=this.getExistedHTML(s),l=this.context.contextService.getDomElement();return s.target=i??(o||this.isNativeEventFromCanvas(l,s.nativeEvent)&&this.pickTarget(s)||a),typeof n=="string"&&(s.type=n),s}},{key:"createWheelEvent",value:function(r){var n=this.allocateEvent(vx);this.copyWheelData(r,n),this.copyMouseData(r,n),this.copyData(r,n),n.nativeEvent=r.nativeEvent,n.originalEvent=r;var i=this.getExistedHTML(n),a=this.context.contextService.getDomElement();return n.target=i||this.isNativeEventFromCanvas(a,n.nativeEvent)&&this.pickTarget(n),n}},{key:"trackingData",value:function(r){return this.mappingState.trackingData[r]||(this.mappingState.trackingData[r]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[r]}},{key:"cloneWheelEvent",value:function(r){var n=this.allocateEvent(vx);return n.nativeEvent=r.nativeEvent,n.originalEvent=r.originalEvent,this.copyWheelData(r,n),this.copyMouseData(r,n),this.copyData(r,n),n.target=r.target,n.path=r.composedPath().slice(),n.type=r.type,n}},{key:"clonePointerEvent",value:function(r,n){var i=this.allocateEvent(px);return i.nativeEvent=r.nativeEvent,i.originalEvent=r.originalEvent,this.copyPointerData(r,i),this.copyMouseData(r,i),this.copyData(r,i),i.target=r.target,i.path=r.composedPath().slice(),i.type=n??i.type,i}},{key:"copyPointerData",value:function(r,n){n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist}},{key:"copyMouseData",value:function(r,n){n.altKey=r.altKey,n.button=r.button,n.buttons=r.buttons,n.ctrlKey=r.ctrlKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.client.copyFrom(r.client),n.movement.copyFrom(r.movement),n.canvas.copyFrom(r.canvas),n.screen.copyFrom(r.screen),n.global.copyFrom(r.global),n.offset.copyFrom(r.offset)}},{key:"copyWheelData",value:function(r,n){n.deltaMode=r.deltaMode,n.deltaX=r.deltaX,n.deltaY=r.deltaY,n.deltaZ=r.deltaZ}},{key:"copyData",value:function(r,n){n.isTrusted=r.isTrusted,n.timeStamp=dx.now(),n.type=r.type,n.detail=r.detail,n.view=r.view,n.page.copyFrom(r.page),n.viewport.copyFrom(r.viewport)}},{key:"allocateEvent",value:function(r){this.eventPool.has(r)||this.eventPool.set(r,[]);var n=this.eventPool.get(r).pop()||new r(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=[],n.target=null,n}},{key:"freeEvent",value:function(r){if(r.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var n=r.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(r)}},{key:"notifyTarget",value:function(r,n){n=n??r.type;var i=r.eventPhase===r.CAPTURING_PHASE||r.eventPhase===r.AT_TARGET?"".concat(n,"capture"):n;this.notifyListeners(r,i),r.eventPhase===r.AT_TARGET&&this.notifyListeners(r,n)}},{key:"notifyListeners",value:function(r,n){var i=r.currentTarget.emitter,a=i._events[n];if(a)if("fn"in a)a.once&&i.removeListener(n,a.fn,void 0,!0),a.fn.call(r.currentTarget||a.context,r);else for(var s=0;s<a.length&&!r.propagationImmediatelyStopped;s++)a[s].once&&i.removeListener(n,a[s].fn,void 0,!0),a[s].fn.call(r.currentTarget||a[s].context,r)}},{key:"findMountedTarget",value:function(r){if(!r)return null;for(var n=r[r.length-1],i=r.length-2;i>=0;i--){var a=r[i];if(a===this.rootTarget||ur.isNode(a)&&a.parentNode===n)n=r[i];else break}return n}},{key:"getCursor",value:function(r){for(var n=r;n;){var i=TJ(n)&&n.getAttribute("cursor");if(i)return i;n=ur.isNode(n)&&n.parentNode}}}])}(),m2=function(){function e(){ke(this,e)}return Te(e,[{key:"getOrCreateCanvas",value:function(r,n){if(this.canvas)return this.canvas;if(r||Ae.offscreenCanvas)this.canvas=r||Ae.offscreenCanvas,this.context=this.canvas.getContext("2d",ot({willReadFrequently:!0},n));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",ot({willReadFrequently:!0},n)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",ot({willReadFrequently:!0},n))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(r,n){return this.context?this.context:(this.getOrCreateCanvas(r,n),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),xl=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),fee=function(){function e(t,r){ke(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new yn,initAsync:new jJ,dirtycheck:new Hv,cull:new Hv,beginFrame:new yn,beforeRender:new yn,render:new yn,afterRender:new yn,endFrame:new yn,destroy:new yn,pick:new GJ,pickSync:new Hv,pointerDown:new yn,pointerUp:new yn,pointerMove:new yn,pointerOut:new yn,pointerOver:new yn,pointerWheel:new yn,pointerCancel:new yn,click:new yn},this.globalRuntime=t,this.context=r}return Te(e,[{key:"init",value:function(r){var n=this,i=ot(ot({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,n.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,r()):this.hooks.initAsync.promise().then(function(){n.inited=!0,r()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var r=this.context.config.renderer,n=r.getConfig(),i=n.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(xl.CAMERA_CHANGED)}},{key:"render",value:function(r,n,i){var a=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var s=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(s.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),s.renderReasons.size&&this.inited){s.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=s.renderReasons.size===1&&s.renderReasons.has(xl.CAMERA_CHANGED),l=!r.disableRenderHooks||!(r.disableRenderHooks&&o);l&&this.renderDisplayObject(s.root,r,s),this.hooks.beginFrame.call(n),l&&s.renderListCurrentFrame.forEach(function(u){a.hooks.beforeRender.call(u),a.hooks.render.call(u),a.hooks.afterRender.call(u)}),this.hooks.endFrame.call(n),s.renderListCurrentFrame=[],s.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(r,n,i){var a=this,s=n.renderer.getConfig(),o=s.enableDirtyCheck,l=s.enableCulling;function u(v){var g=v.renderable,m=v.sortable,y=o?g.dirty||i.dirtyRectangleRenderingDisabled?v:null:v;if(y){var b=l?a.hooks.cull.call(y,a.context.camera):y;b&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(b))}g.dirty=!1,m.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,m.dirty&&(a.sort(v,m),m.dirty=!1,m.dirtyChildren=[],m.dirtyReason=void 0)}for(var c=[r];c.length>0;){var f,h=c.pop();u(h);for(var d=((f=h.sortable)===null||f===void 0||(f=f.sorted)===null||f===void 0?void 0:f.length)>0?h.sortable.sorted:h.childNodes,p=d.length-1;p>=0;p--)c.push(d[p])}}},{key:"sort",value:function(r,n){var i,a;(n==null||(i=n.sorted)===null||i===void 0?void 0:i.length)>0&&n.dirtyReason!==ud.Z_INDEX_CHANGED?n.dirtyChildren.forEach(function(s){var o=n.sorted.indexOf(s);o>-1&&n.sorted.splice(o,1);var l=r.childNodes.indexOf(s);if(l>-1)if(n.sorted.length===0)n.sorted.push(s);else{var u=MJ(n.sorted,s);n.sorted.splice(u,0,s)}}):n.sorted=r.childNodes.slice().sort(oF),((a=n.sorted)===null||a===void 0?void 0:a.length)>0&&r.childNodes.filter(function(s){return s.parsedStyle.zIndex}).length===0&&(n.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(xl.DISPLAY_OBJECT_CHANGED)}}])}(),hee=/\[\s*(.*)=(.*)\s*\]/,dee=function(){function e(){ke(this,e)}return Te(e,[{key:"selectOne",value:function(r,n){var i=this;if(r.startsWith("."))return n.find(function(l){return((l==null?void 0:l.classList)||[]).indexOf(i.getIdOrClassname(r))>-1});if(r.startsWith("#"))return n.find(function(l){return l.id===i.getIdOrClassname(r)});if(r.startsWith("[")){var a=this.getAttribute(r),s=a.name,o=a.value;return s?n.find(function(l){return n!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):null}return n.find(function(l){return n!==l&&l.nodeName===r})}},{key:"selectAll",value:function(r,n){var i=this;if(r.startsWith("."))return n.findAll(function(l){return n!==l&&((l==null?void 0:l.classList)||[]).indexOf(i.getIdOrClassname(r))>-1});if(r.startsWith("#"))return n.findAll(function(l){return n!==l&&l.id===i.getIdOrClassname(r)});if(r.startsWith("[")){var a=this.getAttribute(r),s=a.name,o=a.value;return s?n.findAll(function(l){return n!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):[]}return n.findAll(function(l){return n!==l&&l.nodeName===r})}},{key:"is",value:function(r,n){if(r.startsWith("."))return n.className===this.getIdOrClassname(r);if(r.startsWith("#"))return n.id===this.getIdOrClassname(r);if(r.startsWith("[")){var i=this.getAttribute(r),a=i.name,s=i.value;return a==="name"?n.name===s:this.attributeToString(n,a)===s}return n.nodeName===r}},{key:"getIdOrClassname",value:function(r){return r.substring(1)}},{key:"getAttribute",value:function(r){var n=r.match(hee),i="",a="";return n&&n.length>2&&(i=n[1].replace(/"/g,""),a=n[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(r,n){if(!r.getAttribute)return"";var i=r.getAttribute(n);return Qe(i)?"":i.toString?i.toString():""}}])}(),gt=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),_a=function(e){function t(r,n,i,a,s,o,l,u){var c;return ke(this,t),c=ut(this,t,[null]),c.relatedNode=n,c.prevValue=i,c.newValue=a,c.attrName=s,c.attrChange=o,c.prevParsedValue=l,c.newParsedValue=u,c.type=r,c}return ct(t,e),Te(t)}(pp);_a.ADDITION=2;_a.MODIFICATION=1;_a.REMOVAL=3;function YT(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0)}var pee=new _a(gt.REPARENT,null,"","","",0,"",""),vee=l2(),Rf=mt(),gee=Ut(1,1,1),mee=jt(),yee=l2(),ss=mt(),il=jt(),os=Dr(),bee=mt(),wee=Dr(),xee=mt(),vu=mt(),ro=mt(),Lf=jt(),XT=Dr(),KT=Dr(),If=Dr(),Xv={affectChildren:!0},_ee=function(){function e(t){ke(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new Tr(gt.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return Te(e,[{key:"matches",value:function(r,n){return this.runtime.sceneGraphSelector.is(r,n)}},{key:"querySelector",value:function(r,n){return this.runtime.sceneGraphSelector.selectOne(r,n)}},{key:"querySelectorAll",value:function(r,n){return this.runtime.sceneGraphSelector.selectAll(r,n)}},{key:"attach",value:function(r,n,i){var a,s=!1;r.parentNode&&(s=r.parentNode!==n,this.detach(r));var o=r.nodeName===ye.FRAGMENT,l=pd(n);r.parentNode=n;var u=o?r.childNodes:[r];Ye(i)?u.forEach(function(d){n.childNodes.splice(i,0,d),d.parentNode=n}):u.forEach(function(d){n.childNodes.push(d),d.parentNode=n});var c=n,f=c.sortable;if((f!=null&&(a=f.sorted)!==null&&a!==void 0&&a.length||f.dirty||r.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(r)===-1&&f.dirtyChildren.push(r),f.dirty=!0,f.dirtyReason=ud.ADDED),!l){if(o)this.dirtifyFragment(r);else{var h=r.transformable;h&&this.dirtifyWorld(r,h)}s&&r.dispatchEvent(pee)}}},{key:"detach",value:function(r){var n,i;if(r.parentNode){var a=r.transformable,s=r.parentNode,o=s.sortable;(o!=null&&(n=o.sorted)!==null&&n!==void 0&&n.length||(i=r.style)!==null&&i!==void 0&&i.zIndex)&&(o.dirtyChildren.indexOf(r)===-1&&o.dirtyChildren.push(r),o.dirty=!0,o.dirtyReason=ud.REMOVED);var l=r.parentNode.childNodes.indexOf(r);l>-1&&r.parentNode.childNodes.splice(l,1),a&&this.dirtifyWorld(r,a),r.parentNode=null}}},{key:"getOrigin",value:function(r){return r.getGeometryBounds(),r.transformable.origin}},{key:"setOrigin",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=[n,i,a]);var s=r.transformable;if(!(n[0]===s.origin[0]&&n[1]===s.origin[1]&&n[2]===s.origin[2])){var o=s.origin;o[0]=n[0],o[1]=n[1],o[2]=n[2]||0,this.dirtifyLocal(r,s)}}},{key:"rotate",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=Ut(n,i,a));var s=r.transformable;if(r.parentNode===null||!r.parentNode.transformable)this.rotateLocal(r,n);else{var o=os;Sf(o,n[0],n[1],n[2]);var l=this.getRotation(r),u=this.getRotation(r.parentNode);kf(If,u),Cv(If,If),Ps(o,If,o),Ps(s.localRotation,o,l),id(s.localRotation,s.localRotation),this.dirtifyLocal(r,s)}}},{key:"rotateLocal",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=Ut(n,i,a));var s=r.transformable;Sf(KT,n[0],n[1],n[2]),oT(s.localRotation,s.localRotation,KT),this.dirtifyLocal(r,s)}},{key:"setEulerAngles",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=Ut(n,i,a));var s=r.transformable;if(r.parentNode===null||!r.parentNode.transformable)this.setLocalEulerAngles(r,n);else{Sf(s.localRotation,n[0],n[1],n[2]);var o=this.getRotation(r.parentNode);kf(XT,Cv(os,o)),oT(s.localRotation,s.localRotation,XT),this.dirtifyLocal(r,s)}}},{key:"setLocalEulerAngles",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof n=="number"&&(n=Ut(n,i,a));var o=r.transformable;Sf(o.localRotation,n[0],n[1],n[2]),s&&this.dirtifyLocal(r,o)}},{key:"translateLocal",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=Ut(n,i,a));var s=r.transformable;du(n,Rf)||(JX(n,n,s.localRotation),Os(s.localPosition,s.localPosition,n),this.dirtifyLocal(r,s))}},{key:"setPosition",value:function(r,n){var i,a=r.transformable;if(ro[0]=n[0],ro[1]=n[1],ro[2]=(i=n[2])!==null&&i!==void 0?i:0,!du(this.getPosition(r),ro)){if(ha(a.position,ro),r.parentNode===null||!r.parentNode.transformable)ha(a.localPosition,ro);else{var s=r.parentNode.transformable;Dl(Lf,s.worldTransform),fa(Lf,Lf),vn(a.localPosition,ro,Lf)}this.dirtifyLocal(r,a)}}},{key:"setLocalPosition",value:function(r,n){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=r.transformable;vu[0]=n[0],vu[1]=n[1],vu[2]=(i=n[2])!==null&&i!==void 0?i:0,!du(s.localPosition,vu)&&(ha(s.localPosition,vu),a&&this.dirtifyLocal(r,s))}},{key:"scaleLocal",value:function(r,n){var i,a=r.transformable;YX(a.localScale,a.localScale,hn(ss,n[0],n[1],(i=n[2])!==null&&i!==void 0?i:1)),this.dirtifyLocal(r,a)}},{key:"setLocalScale",value:function(r,n){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=r.transformable;hn(ss,n[0],n[1],(i=n[2])!==null&&i!==void 0?i:s.localScale[2]),!du(ss,s.localScale)&&(ha(s.localScale,ss),a&&this.dirtifyLocal(r,s))}},{key:"translate",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=hn(ss,n,i,a)),!du(n,Rf)&&(Os(ss,this.getPosition(r),n),this.setPosition(r,ss))}},{key:"setRotation",value:function(r,n,i,a,s){var o=r.transformable;if(typeof n=="number"&&(n=aK(n,i,a,s)),r.parentNode===null||!r.parentNode.transformable)this.setLocalRotation(r,n);else{var l=this.getRotation(r.parentNode);kf(os,l),Cv(os,os),Ps(o.localRotation,os,n),id(o.localRotation,o.localRotation),this.dirtifyLocal(r,o)}}},{key:"setLocalRotation",value:function(r,n,i,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof n=="number"&&(n=sT(os,n,i,a,s));var l=r.transformable;kf(l.localRotation,n),o&&this.dirtifyLocal(r,l)}},{key:"setLocalSkew",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof n=="number"&&(n=oK(yee,n,i));var s=r.transformable;sK(s.localSkew,n),a&&this.dirtifyLocal(r,s)}},{key:"dirtifyLocal",value:function(r,n){pd(r)||n.localDirtyFlag||(n.localDirtyFlag=!0,n.dirtyFlag||this.dirtifyWorld(r,n))}},{key:"dirtifyWorld",value:function(r,n){n.dirtyFlag||this.unfreezeParentToRoot(r),this.dirtifyWorldInternal(r,n),this.dirtifyToRoot(r,!0)}},{key:"dirtifyFragment",value:function(r){var n=r.transformable;n&&(n.frozen=!1,n.dirtyFlag=!0,n.localDirtyFlag=!0);var i=r.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var a=r.childNodes.length,s=0;s<a;s++)this.dirtifyFragment(r.childNodes[s]);r.nodeName===ye.FRAGMENT&&this.pendingEvents.set(r,!1)}},{key:"triggerPendingEvents",value:function(){var r=this,n=new Set,i=function(s,o){!s.isConnected||n.has(s)||s.nodeName===ye.FRAGMENT||(r.boundsChangedEvent.detail=o,r.boundsChangedEvent.target=s,s.isMutationObserved?s.dispatchEvent(r.boundsChangedEvent):s.ownerDocument.defaultView.dispatchEvent(r.boundsChangedEvent,!0),n.add(s))};this.pendingEvents.forEach(function(a,s){s.nodeName!==ye.FRAGMENT&&(Xv.affectChildren=a,a?s.forEach(function(o){i(o,Xv)}):i(s,Xv))}),n.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=r;for(i.renderable&&(i.renderable.dirty=!0);i;)YT(i),i=i.parentNode;n&&r.forEach(function(a){YT(a)}),this.informDependentDisplayObjects(r),this.pendingEvents.set(r,n)}},{key:"updateDisplayObjectDependency",value:function(r,n,i,a){if(n&&n!==i){var s=this.displayObjectDependencyMap.get(n);if(s&&s[r]){var o=s[r].indexOf(a);s[r].splice(o,1)}}if(i){var l=this.displayObjectDependencyMap.get(i);l||(this.displayObjectDependencyMap.set(i,{}),l=this.displayObjectDependencyMap.get(i)),l[r]||(l[r]=[]),l[r].push(a)}}},{key:"informDependentDisplayObjects",value:function(r){var n=this,i=this.displayObjectDependencyMap.get(r);i&&Object.keys(i).forEach(function(a){i[a].forEach(function(s){n.dirtifyToRoot(s,!0),s.dispatchEvent(new _a(gt.ATTR_MODIFIED,s,n,n,a,_a.MODIFICATION,n,n)),s.isCustomElement&&s.isConnected&&s.attributeChangedCallback&&s.attributeChangedCallback(a,n,n)})})}},{key:"getPosition",value:function(r){var n=r.transformable;return td(n.position,this.getWorldTransform(r,n))}},{key:"getRotation",value:function(r){var n=r.transformable;return rd(n.rotation,this.getWorldTransform(r,n))}},{key:"getScale",value:function(r){var n=r.transformable;return Fl(n.scaling,this.getWorldTransform(r,n))}},{key:"getWorldTransform",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.transformable;return!n.localDirtyFlag&&!n.dirtyFlag||(r.parentNode&&r.parentNode.transformable&&this.getWorldTransform(r.parentNode),this.sync(r,n)),n.worldTransform}},{key:"getLocalPosition",value:function(r){return r.transformable.localPosition}},{key:"getLocalRotation",value:function(r){return r.transformable.localRotation}},{key:"getLocalScale",value:function(r){return r.transformable.localScale}},{key:"getLocalSkew",value:function(r){return r.transformable.localSkew}},{key:"calcLocalTransform",value:function(r){var n=r.localSkew[0]!==0||r.localSkew[1]!==0;if(n){Yu(r.localTransform,r.localRotation,r.localPosition,Ut(1,1,1),r.origin),(r.localSkew[0]!==0||r.localSkew[1]!==0)&&(Rs(il),il[4]=Math.tan(r.localSkew[0]),il[1]=Math.tan(r.localSkew[1]),pn(r.localTransform,r.localTransform,il));var i=Yu(il,sT(os,0,0,0,1),hn(ss,1,1,1),r.localScale,r.origin);pn(r.localTransform,r.localTransform,i)}else{var a=r.localTransform,s=r.localPosition,o=r.localRotation,l=r.localScale,u=r.origin,c=s[0]!==0||s[1]!==0||s[2]!==0,f=o[3]!==1||o[0]!==0||o[1]!==0||o[2]!==0,h=l[0]!==1||l[1]!==1||l[2]!==1,d=u[0]!==0||u[1]!==0||u[2]!==0;!f&&!h&&!d?c?ys(a,s):Rs(a):Yu(a,o,s,l,u)}}},{key:"getLocalTransform",value:function(r){var n=r.transformable;return n.localDirtyFlag&&(this.calcLocalTransform(n),n.localDirtyFlag=!1),n.localTransform}},{key:"setLocalTransform",value:function(r,n){var i=td(bee,n),a=rd(wee,n),s=Fl(xee,n);this.setLocalScale(r,s,!1),this.setLocalPosition(r,i,!1),this.setLocalRotation(r,a,void 0,void 0,void 0,!1),this.dirtifyLocal(r,r.transformable)}},{key:"resetLocalTransform",value:function(r){this.setLocalScale(r,gee,!1),this.setLocalPosition(r,Rf,!1),this.setLocalEulerAngles(r,Rf,void 0,void 0,!1),this.setLocalSkew(r,vee,void 0,!1),this.dirtifyLocal(r,r.transformable)}},{key:"getTransformedGeometryBounds",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(r,n);if(!kr.isEmpty(a)){var s=i||new kr;return s.setFromTransformedAABB(a,this.getWorldTransform(r)),s}return null}},{key:"getGeometryBounds",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=r,a=i.geometry;a.dirty&&Ae.styleValueRegistry.updateGeometry(r);var s=n?a.renderBounds:a.contentBounds||null;return s||new kr}},{key:"getBounds",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=r,s=a.renderable;if(!s.boundsDirty&&!i&&s.bounds)return s.bounds;if(!s.renderBoundsDirty&&i&&s.renderBounds)return s.renderBounds;var o=i?s.renderBounds:s.bounds,l=this.getTransformedGeometryBounds(r,i,o),u=r.childNodes;if(u.forEach(function(h){var d=n.getBounds(h,i);d&&(l?l.add(d):(l=o||new kr,l.update(d.center,d.halfExtents)))}),l||(l=new kr),i){var c=lF(r);if(c){var f=c.parsedStyle.clipPath.getBounds(i);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return i?(s.renderBounds=l,s.renderBoundsDirty=!1):(s.bounds=l,s.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(r){if(r.parentNode){var n=mee;r.parentNode.transformable&&(n=fa(il,this.getWorldTransform(r.parentNode)));var i=this.getBounds(r);if(!kr.isEmpty(i)){var a=new kr;return a.setFromTransformedAABB(i,n),a}}return this.getBounds(r)}},{key:"getBoundingClientRect",value:function(r){var n,i,a=this.getGeometryBounds(r);kr.isEmpty(a)||(i=new kr,i.setFromTransformedAABB(a,this.getWorldTransform(r)));var s=(n=r.ownerDocument)===null||n===void 0||(n=n.defaultView)===null||n===void 0?void 0:n.getContextService().getBoundingClientRect();if(i){var o=i.getMin(),l=st(o,2),u=l[0],c=l[1],f=i.getMax(),h=st(f,2),d=h[0],p=h[1];return new $l(u+((s==null?void 0:s.left)||0),c+((s==null?void 0:s.top)||0),d-u,p-c)}return new $l((s==null?void 0:s.left)||0,(s==null?void 0:s.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(r,n){var i=this;if(!n.dirtyFlag){n.dirtyFlag=!0,n.frozen=!1,r.childNodes.forEach(function(o){var l=o.transformable;l.dirtyFlag||i.dirtifyWorldInternal(o,l)});var a=r,s=a.renderable;s&&(s.renderBoundsDirty=!0,s.boundsDirty=!0,s.dirty=!0)}}},{key:"syncHierarchy",value:function(r){var n=r.transformable;if(!n.frozen){n.frozen=!0,(n.localDirtyFlag||n.dirtyFlag)&&this.sync(r,n);for(var i=r.childNodes,a=0;a<i.length;a++)this.syncHierarchy(i[a])}}},{key:"sync",value:function(r,n){if(n.localDirtyFlag&&(this.calcLocalTransform(n),n.localDirtyFlag=!1),n.dirtyFlag){var i=r.parentNode,a=i&&i.transformable;i===null||!a?Dl(n.worldTransform,n.localTransform):pn(n.worldTransform,a.worldTransform,n.localTransform),n.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(r){for(var n=r.parentNode;n;){var i=n.transformable;i&&(i.frozen=!1),n=n.parentNode}}}])}(),no={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},ZT=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Eee=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,See=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,kee=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,Tee=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,Mee=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,Aee=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Oee=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,Pee=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Nee=new RegExp("".concat(Eee.source,"|").concat(kee.source,"|").concat(Mee.source,"|").concat(Oee.source)),Cee=new RegExp("".concat(See.source,"|").concat(Tee.source,"|").concat(Aee.source,"|").concat(Pee.source)),Ree=function(){function e(t){var r=this;ke(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(n,i){return r.isBreakingSpace(i)?!1:!!(n&&(Cee.exec(i)||Nee.exec(n)))},this.trimByKinsokuShorui=function(n){var i=vt(n),a=i[i.length-2];if(!a)return n;var s=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=s+i[i.length-1],i},this.runtime=t}return Te(e,[{key:"measureFont",value:function(r,n){if(this.fontMetricsCache[r])return this.fontMetricsCache[r];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(n),s=this.runtime.offscreenCanvasCreator.getOrCreateContext(n,{willReadFrequently:!0});s.font=r;var o=no.MetricsString+no.BaselineSymbol,l=Math.ceil(s.measureText(o).width),u=Math.ceil(s.measureText(no.BaselineSymbol).width),c=no.HeightMultiplier*u;u=u*no.BaselineMultiplier|0,a.width=l,a.height=c,s.fillStyle="#f00",s.fillRect(0,0,l,c),s.font=r,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,u);var f=s.getImageData(0,0,l||1,c||1).data,h=f.length,d=l*4,p=0,v=0,g=!1;for(p=0;p<u;++p){for(var m=0;m<d;m+=4)if(f[v+m]!==255){g=!0;break}if(!g)v+=d;else break}for(i.ascent=u-p,v=h-d,g=!1,p=c;p>u;--p){for(var y=0;y<d;y+=4)if(f[v+y]!==255){g=!0;break}if(!g)v-=d;else break}return i.descent=p-u,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[r]=i,i}},{key:"measureText",value:function(r,n,i){var a=n.fontSize,s=a===void 0?16:a,o=n.wordWrap,l=o===void 0?!1:o,u=n.lineHeight,c=n.lineWidth,f=c===void 0?1:c,h=n.textBaseline,d=h===void 0?"alphabetic":h,p=n.textAlign,v=p===void 0?"start":p,g=n.letterSpacing,m=g===void 0?0:g,y=n.textPath;n.textPathSide,n.textPathStartOffset;var b=n.leading,x=b===void 0?0:b,E=UJ(n),S=this.measureFont(E,i);S.fontSize===0&&(S.fontSize=s,S.ascent=s);var _=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);_.font=E,n.isOverflowing=!1;var k=l?this.wordWrap(r,n,i):r,O=k.split(/(?:\r\n|\r|\n)/),P=new Array(O.length),N=0;if(y){y.getTotalLength();for(var R=0;R<O.length;R++)_.measureText(O[R]).width+(O[R].length-1)*m}else{for(var L=0;L<O.length;L++){var D=_.measureText(O[L]).width+(O[L].length-1)*m;P[L]=D,N=Math.max(N,D)}var $=N+f,X=u||S.fontSize+f,K=Math.max(X,S.fontSize+f)+(O.length-1)*(X+x);X+=x;var V=0;return d==="middle"?V=-K/2:d==="bottom"||d==="alphabetic"||d==="ideographic"?V=-K:(d==="top"||d==="hanging")&&(V=0),{font:E,width:$,height:K,lines:O,lineWidths:P,lineHeight:X,maxLineWidth:N,fontProperties:S,lineMetrics:P.map(function(ne,we){var Se=0;return v==="center"||v==="middle"?Se-=ne/2:(v==="right"||v==="end")&&(Se-=ne),new $l(Se-f/2,V+we*X,ne+f,X)})}}}},{key:"wordWrap",value:function(r,n,i){var a=this,s=this,o=n.wordWrapWidth,l=o===void 0?0:o,u=n.letterSpacing,c=u===void 0?0:u,f=n.maxLines,h=f===void 0?1/0:f,d=n.textOverflow,p=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),v=l+c,g="";d==="ellipsis"?g="...":d&&d!=="clip"&&(g=d);var m=Array.from(r),y=[],b=0,x=0,E=-1,S={},_=function(V){return a.getFromCache(V,c,S,p)},k=_(g);function O(K,V,ne,we){for(;_(K)<we&&V<m.length-1&&!s.isNewline(m[V+1]);)V+=1,K+=m[V];for(;_(K)>we&&V>=ne;)V-=1,K=K.slice(0,-1);return{lineTxt:K,txtLastCharIndex:V}}function P(K,V){if(!(k<=0||k>v)){if(!y[K]){y[K]=g;return}var ne=O(y[K],V,E+1,v-k);y[K]=ne.lineTxt+g}}for(var N=0;N<m.length;N++){var R=m[N],L=m[N-1],D=m[N+1],$=_(R);if(this.isNewline(R)){if(b+1>=h){n.isOverflowing=!0,N<m.length-1&&P(b,N-1);break}E=N-1,b+=1,x=0,y[b]="";continue}if(x>0&&x+$>v){var X=O(y[b],N-1,E+1,v);if(X.txtLastCharIndex!==N-1){if(y[b]=X.lineTxt,X.txtLastCharIndex===m.length-1)break;N=X.txtLastCharIndex+1,R=m[N],L=m[N-1],D=m[N+1],$=_(R)}if(b+1>=h){n.isOverflowing=!0,P(b,N-1);break}if(E=N-1,b+=1,x=0,y[b]="",this.isBreakingSpace(R))continue;this.canBreakInLastChar(R)||(y=this.trimToBreakable(y),x=this.sumTextWidthByCache(y[b]||"",_)),this.shouldBreakByKinsokuShorui(R,D)&&(y=this.trimByKinsokuShorui(y),x+=_(L||""))}x+=$,y[b]=(y[b]||"")+R}return y.join(`
`)}},{key:"isBreakingSpace",value:function(r){return typeof r!="string"?!1:no.BreakingSpaces.indexOf(r.charCodeAt(0))>=0}},{key:"isNewline",value:function(r){return typeof r!="string"?!1:no.Newlines.indexOf(r.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(r){var n=vt(r),i=n[n.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return n;var s=i.slice(a,a+1),o=this.isBreakingSpace(s),l=a+1,u=a+(o?0:1);return n[n.length-1]+=i.slice(l,i.length),n[n.length-2]=i.slice(0,u),n}},{key:"canBreakInLastChar",value:function(r){return!(r&&ZT.test(r))}},{key:"sumTextWidthByCache",value:function(r,n){return r.split("").reduce(function(i,a){return i+n(a)},0)}},{key:"findBreakableIndex",value:function(r){for(var n=r.length-1;n>=0;n--)if(!ZT.test(r[n]))return n;return-1}},{key:"getFromCache",value:function(r,n,i,a){var s=i[r];if(typeof s!="number"){var o=r.length*n,l=a.measureText(r);s=l.width+o,i[r]=s}return s}}])}(),Ae={},Lee=function(e){var t=new aee,r=new iee;return e={},$e($e($e($e($e($e($e($e($e($e(e,ye.FRAGMENT,null),ye.CIRCLE,new eee),ye.ELLIPSE,new tee),ye.RECT,t),ye.IMAGE,t),ye.GROUP,new oee),ye.LINE,new ree),ye.TEXT,new see(Ae)),ye.POLYLINE,r),ye.POLYGON,r),$e($e($e(e,ye.PATH,new nee),ye.HTML,new lee),ye.MESH,null)}(),Iee=function(e){var t=new hJ,r=new hx;return e={},$e($e($e($e($e($e($e($e($e($e(e,Ie.PERCENTAGE,null),Ie.NUMBER,new mJ),Ie.ANGLE,new cJ),Ie.DEFINED_PATH,new fJ),Ie.PAINT,t),Ie.COLOR,t),Ie.FILTER,new dJ),Ie.LENGTH,r),Ie.LENGTH_PERCENTAGE,r),Ie.LENGTH_PERCENTAGE_12,new pJ),$e($e($e($e($e($e($e($e($e($e(e,Ie.LENGTH_PERCENTAGE_14,new vJ),Ie.COORDINATE,new hx),Ie.OFFSET_DISTANCE,new yJ),Ie.OPACITY_VALUE,new bJ),Ie.PATH,new wJ),Ie.LIST_OF_POINTS,new xJ),Ie.SHADOW_BLUR,new _J),Ie.TEXT,new EJ),Ie.TEXT_TRANSFORM,new SJ),Ie.TRANSFORM,new ZJ),$e($e($e(e,Ie.TRANSFORM_ORIGIN,new QJ),Ie.Z_INDEX,new JJ),Ie.MARKER,new gJ)}(),Dee=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};Ae.CameraContribution=j5;Ae.AnimationTimeline=null;Ae.EasingFunction=null;Ae.offscreenCanvasCreator=new m2;Ae.sceneGraphSelector=new dee;Ae.sceneGraphService=new _ee(Ae);Ae.textService=new Ree(Ae);Ae.geometryUpdaterFactory=Lee;Ae.CSSPropertySyntaxFactory=Iee;Ae.styleValueRegistry=new lJ(Ae);Ae.layoutRegistry=null;Ae.globalThis=Dee();Ae.enableStyleSyntax=!0;Ae.enableSizeAttenuation=!1;var Fee=0,gx=new _a(gt.INSERTED,null,"","","",0,"",""),mx=new _a(gt.REMOVED,null,"","","",0,"",""),gF=new Tr(gt.DESTROY),Bee=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.entity=Fee++,r.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},r.cullable={strategy:WZ.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},r.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},r.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},r.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},r.rBushNode={aabb:void 0},r.namespaceURI="g",r.scrollLeft=0,r.scrollTop=0,r.clientTop=0,r.clientLeft=0,r.destroyed=!1,r.style={},r.computedStyle={},r.parsedStyle={},r.attributes={},r}return ct(t,e),Te(t,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(n){this.setAttribute("class",n)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(n){return n!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n-1]||null}return null}},{key:"cloneNode",value:function(n){throw new Error(Rt)}},{key:"appendChild",value:function(n,i){var a;if(n.destroyed)throw new Error(RZ);return Ae.sceneGraphService.attach(n,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!pd(this)&&n.nodeName===ye.FRAGMENT?this.ownerDocument.defaultView.mountFragment(n):this.ownerDocument.defaultView.mountChildren(n)),this.isMutationObserved&&(gx.relatedNode=this,n.dispatchEvent(gx)),n}},{key:"insertBefore",value:function(n,i){if(!i)this.appendChild(n);else{n.parentElement&&n.parentElement.removeChild(n);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(n):this.appendChild(n,a)}return n}},{key:"replaceChild",value:function(n,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(n,a),i}},{key:"removeChild",value:function(n){var i;return mx.relatedNode=this,n.dispatchEvent(mx),(i=n.ownerDocument)!==null&&i!==void 0&&i.defaultView&&n.ownerDocument.defaultView.unmountChildren(n),Ae.sceneGraphService.detach(n),n}},{key:"removeChildren",value:function(){for(var n=this.childNodes.length-1;n>=0;n--){var i=this.childNodes[n];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var n=this.childNodes.length-1;n>=0;n--){var i=this.childNodes[n];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(n){return Ae.sceneGraphService.matches(n,this)}},{key:"getElementById",value:function(n){return Ae.sceneGraphService.querySelector("#".concat(n),this)}},{key:"getElementsByName",value:function(n){return Ae.sceneGraphService.querySelectorAll('[name="'.concat(n,'"]'),this)}},{key:"getElementsByClassName",value:function(n){return Ae.sceneGraphService.querySelectorAll(".".concat(n),this)}},{key:"getElementsByTagName",value:function(n){return Ae.sceneGraphService.querySelectorAll(n,this)}},{key:"querySelector",value:function(n){return Ae.sceneGraphService.querySelector(n,this)}},{key:"querySelectorAll",value:function(n){return Ae.sceneGraphService.querySelectorAll(n,this)}},{key:"closest",value:function(n){var i=this;do{if(Ae.sceneGraphService.matches(n,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(n){var i=this,a=null;return this.forEach(function(s){return s!==i&&n(s)?(a=s,!1):!0}),a}},{key:"findAll",value:function(n){var i=this,a=[];return this.forEach(function(s){s!==i&&n(s)&&a.push(s)}),a}},{key:"after",value:function(){var n=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];s.forEach(function(l,u){var c;return(c=n.parentNode)===null||c===void 0?void 0:c.appendChild(l,i+u+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var n,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=s[0],u=s.slice(1);this.parentNode.appendChild(l,i),(n=l).after.apply(n,vt(u))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o){return n.appendChild(o)})}},{key:"prepend",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o,l){return n.appendChild(o,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(gF),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Ae.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Ae.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Ae.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Ae.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Ae.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(n){if(typeof n!="symbol"){var i=this.attributes[n];return i}}},{key:"hasAttribute",value:function(n){return this.getAttributeNames().includes(n)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(n){this.setAttribute(n,null),delete this.attributes[n]}},{key:"setAttribute",value:function(n,i,a,s){this.attributes[n]=i}},{key:"getAttributeNS",value:function(n,i){throw new Error(Rt)}},{key:"getAttributeNode",value:function(n){throw new Error(Rt)}},{key:"getAttributeNodeNS",value:function(n,i){throw new Error(Rt)}},{key:"hasAttributeNS",value:function(n,i){throw new Error(Rt)}},{key:"removeAttributeNS",value:function(n,i){throw new Error(Rt)}},{key:"removeAttributeNode",value:function(n){throw new Error(Rt)}},{key:"setAttributeNS",value:function(n,i,a){throw new Error(Rt)}},{key:"setAttributeNode",value:function(n){throw new Error(Rt)}},{key:"setAttributeNodeNS",value:function(n){throw new Error(Rt)}},{key:"toggleAttribute",value:function(n,i){throw new Error(Rt)}}])}(ur);function St(e){return!!(e!=null&&e.nodeName)}var $ee=Ae.globalThis.Proxy?Ae.globalThis.Proxy:function(){},sa=new _a(gt.ATTR_MODIFIED,null,null,null,null,_a.MODIFICATION,null,null),gu=mt(),qee=Dr(),Xt=function(e){function t(r){var n;return ke(this,t),n=ut(this,t),n.isCustomElement=!1,n.isMutationObserved=!1,n.activeAnimations=[],n.config=r,n.id=r.id||"",n.name=r.name||"",(r.className||r.class)&&(n.className=r.className||r.class),n.nodeName=r.type||ye.GROUP,r.initialParsedStyle&&Object.assign(n.parsedStyle,r.initialParsedStyle),n.initAttributes(r.style),Ae.enableStyleSyntax&&(n.style=new $ee({setProperty:function(a,s){n.setAttribute(a,s)},getPropertyValue:function(a){return n.getAttribute(a)},removeProperty:function(a){n.removeAttribute(a)},item:function(){return""}},{get:function(a,s){return a[s]!==void 0?a[s]:n.getAttribute(s)},set:function(a,s,o){return n.setAttribute(s,o),!0}})),n}return ct(t,e),Te(t,[{key:"destroy",value:function(){gT(t,"destroy",this)([]),this.getAnimations().forEach(function(n){n.cancel()})}},{key:"cloneNode",value:function(n,i){var a=ot({},this.attributes);for(var s in a){var o=a[s];St(o)&&s!=="clipPath"&&s!=="offsetPath"&&s!=="textPath"&&(a[s]=o.cloneNode(n)),i&&(a[s]=i(s,o))}var l=new this.constructor(ot(ot({},this.config),{},{style:a}));return l.setLocalTransform(this.getLocalTransform()),n&&this.children.forEach(function(u){if(!u.style.isMarker){var c=u.cloneNode(n);l.appendChild(c)}}),l}},{key:"initAttributes",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};Ae.styleValueRegistry.processProperties(this,n,i),this.renderable.dirty=!0}},{key:"setAttribute",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;er(i)||(a||i!==this.attributes[n])&&(this.internalSetAttribute(n,i,{memoize:s}),gT(t,"setAttribute",this)([n,i]))}},{key:"internalSetAttribute",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.renderable,o=this.attributes[n],l=this.parsedStyle[n];Ae.styleValueRegistry.processProperties(this,$e({},n,i),a),s.dirty=!0;var u=this.parsedStyle[n];if(this.isConnected&&(sa.relatedNode=this,sa.prevValue=o,sa.newValue=i,sa.attrName=n,sa.prevParsedValue=l,sa.newParsedValue=u,this.isMutationObserved?this.dispatchEvent(sa):(sa.target=this,this.ownerDocument.defaultView.dispatchEvent(sa,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var c,f;(c=(f=this).attributeChangedCallback)===null||c===void 0||c.call(f,n,o,i,l,u)}}},{key:"getBBox",value:function(){var n=this.getBounds(),i=n.getMin(),a=st(i,2),s=a[0],o=a[1],l=n.getMax(),u=st(l,2),c=u[0],f=u[1];return new $l(s,o,c-s,f-o)}},{key:"setOrigin",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ae.sceneGraphService.setOrigin(this,En(n,i,a,!1)),this}},{key:"getOrigin",value:function(){return Ae.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ae.sceneGraphService.setPosition(this,En(n,i,a,!1)),this}},{key:"setLocalPosition",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ae.sceneGraphService.setLocalPosition(this,En(n,i,a,!1)),this}},{key:"translate",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ae.sceneGraphService.translate(this,En(n,i,a,!1)),this}},{key:"translateLocal",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ae.sceneGraphService.translateLocal(this,En(n,i,a,!1)),this}},{key:"getPosition",value:function(){return Ae.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Ae.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(n,i,a){return this.scaleLocal(n,i,a)}},{key:"scaleLocal",value:function(n,i,a){return typeof n=="number"&&(i=i||n,a=a||n,n=En(n,i,a,!1)),Ae.sceneGraphService.scaleLocal(this,n),this}},{key:"setLocalScale",value:function(n,i,a){return typeof n=="number"&&(i=i||n,a=a||n,n=En(n,i,a,!1)),Ae.sceneGraphService.setLocalScale(this,n),this}},{key:"getLocalScale",value:function(){return Ae.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Ae.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var n=$v(gu,Ae.sceneGraphService.getWorldTransform(this)),i=st(n,3),a=i[2];return hi(a)}},{key:"getLocalEulerAngles",value:function(){var n=$v(gu,Ae.sceneGraphService.getLocalRotation(this)),i=st(n,3),a=i[2];return hi(a)}},{key:"setEulerAngles",value:function(n){return Ae.sceneGraphService.setEulerAngles(this,0,0,n),this}},{key:"setLocalEulerAngles",value:function(n){return Ae.sceneGraphService.setLocalEulerAngles(this,0,0,n),this}},{key:"rotateLocal",value:function(n,i,a){return Qe(i)&&Qe(a)?Ae.sceneGraphService.rotateLocal(this,0,0,n):Ae.sceneGraphService.rotateLocal(this,n,i,a),this}},{key:"rotate",value:function(n,i,a){return Qe(i)&&Qe(a)?Ae.sceneGraphService.rotate(this,0,0,n):Ae.sceneGraphService.rotate(this,n,i,a),this}},{key:"setRotation",value:function(n,i,a,s){return Ae.sceneGraphService.setRotation(this,n,i,a,s),this}},{key:"setLocalRotation",value:function(n,i,a,s){return Ae.sceneGraphService.setLocalRotation(this,n,i,a,s),this}},{key:"setLocalSkew",value:function(n,i){return Ae.sceneGraphService.setLocalSkew(this,n,i),this}},{key:"getRotation",value:function(){return Ae.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Ae.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Ae.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Ae.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Ae.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(n){return Ae.sceneGraphService.setLocalTransform(this,n),this}},{key:"resetLocalTransform",value:function(){Ae.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(n,i){var a,s=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return s?s.play(this,n,i):null}},{key:"isVisible",value:function(){var n;return((n=this.parsedStyle)===null||n===void 0?void 0:n.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(n){this.style.pointerEvents=n?"auto":"none"}},{key:"isInteractive",value:function(){var n;return((n=this.parsedStyle)===null||n===void 0?void 0:n.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,vt(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,vt(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=a[0],l=a[1];return o?Xa(o)?(Object.keys(o).forEach(function(u){n.setAttribute(u,o[u])}),this):a.length===2?(this.setAttribute(o,l),this):this.attributes[o]:this.attributes}},{key:"getMatrix",value:function(n){var i=n||this.getWorldTransform(),a=td(gu,i),s=st(a,2),o=s[0],l=s[1],u=Fl(gu,i),c=st(u,2),f=c[0],h=c[1],d=rd(qee,i),p=$v(gu,d),v=st(p,3),g=v[0],m=v[2];return $Z(g||m,o,l,f,h)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(n){var i=_T(n),a=st(i,5),s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];this.setEulerAngles(c).setPosition(s,o).setLocalScale(l,u)}},{key:"setLocalMatrix",value:function(n){var i=_T(n),a=st(i,5),s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];this.setLocalEulerAngles(c).setLocalPosition(s,o).setLocalScale(l,u)}},{key:"show",value:function(){this.forEach(function(n){n.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(n){n.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(n){return this.children[n]||null}},{key:"add",value:function(n,i){return this.appendChild(n,i)}},{key:"set",value:function(n,i){this.config[n]=i}},{key:"get",value:function(n){return this.config[n]}},{key:"moveTo",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(n,i,a),this}},{key:"move",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(n,i,a),this}},{key:"setZIndex",value:function(n){return this.style.zIndex=n,this}}])}(Bee);Xt.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var jc=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,t),ut(this,t,[ot({type:ye.CIRCLE},r)])}return ct(t,e),Te(t)}(Xt);jc.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var zee=["style"],mF=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=zo(n,zee);return ke(this,t),r=ut(this,t,[ot({style:i},a)]),r.isCustomElement=!0,r}return ct(t,e),Te(t)}(Xt);mF.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var y2=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,t),ut(this,t,[ot({type:ye.ELLIPSE},r)])}return ct(t,e),Te(t)}(Xt);y2.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var jee=function(e){function t(){return ke(this,t),ut(this,t,[{type:ye.FRAGMENT}])}return ct(t,e),Te(t)}(Xt);jee.PARSED_STYLE_LIST=new Set(["class","className"]);var tn=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,t),ut(this,t,[ot({type:ye.GROUP},r)])}return ct(t,e),Te(t)}(Xt);tn.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Gee=["style"],b2=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=zo(n,Gee);return ke(this,t),r=ut(this,t,[ot({type:ye.HTML,style:i},a)]),r.cullable.enable=!1,r}return ct(t,e),Te(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var n=fa(jt(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!kr.isEmpty(i)){var a=new kr;return a.setFromTransformedAABB(i,n),a}}return this.getBounds()}}])}(Xt);b2.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var w2=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,t),ut(this,t,[ot({type:ye.IMAGE},r)])}return ct(t,e),Te(t)}(Xt);w2.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Wee=["style"],vp=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=zo(n,Wee);ke(this,t),r=ut(this,t,[ot({type:ye.LINE,style:ot({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),r.markerStartAngle=0,r.markerEndAngle=0;var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd;return o&&St(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),l&&St(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return ct(t,e),Te(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="x1"||n==="y1"||n==="x2"||n==="y2"||n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&St(s)&&(this.markerStartAngle=0,s.remove()),o&&St(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"&&(s&&St(s)&&(this.markerEndAngle=0,s.remove()),o&&St(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1)))}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=i.x1,c=i.x2,f=i.y1,h=i.y2,d=n?a:s;if(!(!d||!St(d))){var p=0,v,g,m,y,b,x;n?(m=u,y=f,v=c-u,g=h-f,b=o||0,x=this.markerStartAngle):(m=c,y=h,v=u-c,g=f-h,b=l||0,x=this.markerEndAngle),p=Math.atan2(g,v),d.setLocalEulerAngles(p*180/Math.PI+x),d.setLocalPosition(m+Math.cos(p)*b,y+Math.sin(p)*b)}}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,s=a.x1,o=a.y1,l=a.x2,u=a.y2,c=$5(s,o,l,u,n),f=c.x,h=c.y,d=vn(mt(),Ut(f,h,0),i?this.getWorldTransform():this.getLocalTransform());return new Zr(d[0],d[1])}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(n/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var n=this.parsedStyle,i=n.x1,a=n.y1,s=n.x2,o=n.y2;return B5(i,a,s,o)}}])}(Xt);vp.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Vee=["style"],Gc=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=zo(n,Vee);ke(this,t),r=ut(this,t,[ot({type:ye.PATH,style:i,initialParsedStyle:{miterLimit:4,d:ot({},G5)}},a)]),r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd,u=s.markerMid;return o&&St(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),u&&St(u)&&r.placeMarkerMid(u),l&&St(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return ct(t,e),Te(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&St(s)&&(this.markerStartAngle=0,s.remove()),o&&St(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(s&&St(s)&&(this.markerEndAngle=0,s.remove()),o&&St(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=n?a:s;if(!(!u||!St(u))){var c=0,f,h,d,p,v,g;if(n){var m=this.getStartTangent(),y=st(m,2),b=y[0],x=y[1];d=x[0],p=x[1],f=b[0]-x[0],h=b[1]-x[1],v=o||0,g=this.markerStartAngle}else{var E=this.getEndTangent(),S=st(E,2),_=S[0],k=S[1];d=k[0],p=k[1],f=_[0]-k[0],h=_[1]-k[1],v=l||0,g=this.markerEndAngle}c=Math.atan2(h,f),u.setLocalEulerAngles(c*180/Math.PI+g),u.setLocalPosition(d+Math.cos(c)*v,p+Math.sin(c)*v)}}},{key:"placeMarkerMid",value:function(n){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(c){c.remove()}),n&&St(n))for(var a=1;a<i.length-1;a++){var s=st(i[a].currentPoint,2),o=s[0],l=s[1],u=a===1?n:n.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(o,l)}}},{key:"getTotalLength",value:function(){return cx(this)}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,s=lZ(a,n),o=s.x,l=s.y,u=vn(mt(),Ut(o,l,0),i?this.getWorldTransform():this.getLocalTransform());return new Zr(u[0],u[1])}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(n*cx(this),i)}},{key:"getStartTangent",value:function(){var n=this.parsedStyle.d.segments,i=[];if(n.length>1){var a=n[0].currentPoint,s=n[1].currentPoint,o=n[1].startTangent;i=[],o?(i.push([a[0]-o[0],a[1]-o[1]]),i.push([a[0],a[1]])):(i.push([s[0],s[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var n=this.parsedStyle.d.segments,i=n.length,a=[];if(i>1){var s=n[i-2].currentPoint,o=n[i-1].currentPoint,l=n[i-1].endTangent;a=[],l?(a.push([o[0]-l[0],o[1]-l[1]]),a.push([o[0],o[1]])):(a.push([s[0],s[1]]),a.push([o[0],o[1]]))}return a}}])}(Xt);Gc.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var Uee=["style"],Wc=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=zo(n,Uee);ke(this,t),r=ut(this,t,[ot({type:ye.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd,u=s.markerMid;return o&&St(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),u&&St(u)&&r.placeMarkerMid(u),l&&St(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return ct(t,e),Te(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&St(s)&&(this.markerStartAngle=0,s.remove()),o&&St(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(s&&St(s)&&(this.markerEndAngle=0,s.remove()),o&&St(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=i.points,c=u||{},f=c.points,h=n?a:s;if(!(!h||!St(h)||!f)){var d=0,p,v,g,m,y,b;if(g=f[0][0],m=f[0][1],n)p=f[1][0]-f[0][0],v=f[1][1]-f[0][1],y=o||0,b=this.markerStartAngle;else{var x=f.length;this.parsedStyle.isClosed?(p=f[x-1][0]-f[0][0],v=f[x-1][1]-f[0][1]):(g=f[x-1][0],m=f[x-1][1],p=f[x-2][0]-f[x-1][0],v=f[x-2][1]-f[x-1][1]),y=l||0,b=this.markerEndAngle}d=Math.atan2(v,p),h.setLocalEulerAngles(d*180/Math.PI+b),h.setLocalPosition(g+Math.cos(d)*y,m+Math.sin(d)*y)}}},{key:"placeMarkerMid",value:function(n){var i=this.parsedStyle.points,a=i||{},s=a.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],n&&St(n)&&s)for(var o=1;o<(this.parsedStyle.isClosed?s.length:s.length-1);o++){var l=s[o][0],u=s[o][1],c=o===1?n:n.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(l,u)}}}])}(Xt);Wc.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var Hee=["style"],x2=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.style,i=zo(r,Hee);return ke(this,t),ut(this,t,[ot({type:ye.POLYLINE,style:n,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return ct(t,e),Te(t,[{key:"getTotalLength",value:function(){return $Q(this)}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(n/this.getTotalLength(),i)}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var s=[],o=0,l,u,c=this.getTotalLength();a.forEach(function(m,y){a[y+1]&&(l=[0,0],l[0]=o/c,u=B5(m[0],m[1],a[y+1][0],a[y+1][1]),o+=u,l[1]=o/c,s.push(l))}),this.parsedStyle.points.segments=s}var f=0,h=0;this.parsedStyle.points.segments.forEach(function(m,y){n>=m[0]&&n<=m[1]&&(f=(n-m[0])/(m[1]-m[0]),h=y)});var d=$5(a[h][0],a[h][1],a[h+1][0],a[h+1][1],f),p=d.x,v=d.y,g=vn(mt(),Ut(p,v,0),i?this.getWorldTransform():this.getLocalTransform());return new Zr(g[0],g[1])}},{key:"getStartTangent",value:function(){var n=this.parsedStyle.points.points,i=[];return i.push([n[1][0],n[1][1]]),i.push([n[0][0],n[0][1]]),i}},{key:"getEndTangent",value:function(){var n=this.parsedStyle.points.points,i=n.length-1,a=[];return a.push([n[i-1][0],n[i-1][1]]),a.push([n[i][0],n[i][1]]),a}}])}(Wc);x2.PARSED_STYLE_LIST=new Set([].concat(vt(Wc.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Ds=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,t),ut(this,t,[ot({type:ye.RECT},r)])}return ct(t,e),Te(t)}(Xt);Ds.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Yee=["style"],gp=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.style,i=zo(r,Yee);return ke(this,t),ut(this,t,[ot({type:ye.TEXT,style:ot({fill:"black"},n)},i)])}return ct(t,e),Te(t,[{key:"getComputedTextLength",value:function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Xt);gp.PARSED_STYLE_LIST=new Set([].concat(vt(Xt.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Xee=function(){function e(){ke(this,e),this.registry={},this.define(ye.CIRCLE,jc),this.define(ye.ELLIPSE,y2),this.define(ye.RECT,Ds),this.define(ye.IMAGE,w2),this.define(ye.LINE,vp),this.define(ye.GROUP,tn),this.define(ye.PATH,Gc),this.define(ye.POLYGON,Wc),this.define(ye.POLYLINE,x2),this.define(ye.TEXT,gp),this.define(ye.HTML,b2)}return Te(e,[{key:"define",value:function(r,n){this.registry[r]=n}},{key:"get",value:function(r){return this.registry[r]}}])}(),Kee=function(e){function t(){var r;ke(this,t),r=ut(this,t),r.defaultView=null,r.ownerDocument=null,r.nodeName="document";try{r.timeline=new Ae.AnimationTimeline(r)}catch{}var n={};return p2.forEach(function(i){var a=i.n,s=i.inh,o=i.d;s&&o&&(n[a]=Ht(o)?o(ye.GROUP):o)}),r.documentElement=new tn({id:"g-root",style:n}),r.documentElement.ownerDocument=r,r.documentElement.parentNode=r,r.childNodes=[r.documentElement],r}return ct(t,e),Te(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(n,i){if(n==="svg")return this.documentElement;var a=this.defaultView.customElements.get(n);a||(console.warn("Unsupported tagName: ",n),a=n==="tspan"?gp:tn);var s=new a(i);return s.ownerDocument=this,s}},{key:"createElementNS",value:function(n,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(n){throw new Error(Rt)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(n,i,a,s){var o=this.defaultView.context.rBushRoot,l=o.search({minX:n,minY:i,maxX:a,maxY:s}),u=[];return l.forEach(function(c){var f=c.displayObject,h=f.parsedStyle.pointerEvents,d=h===void 0?"auto":h,p=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(d);(!p||p&&f.isVisible())&&!f.isCulled()&&f.isInteractive()&&u.push(f)}),u.sort(function(c,f){return f.sortable.renderOrder-c.sortable.renderOrder}),u}},{key:"elementFromPointSync",value:function(n,i){var a=this.defaultView.canvas2Viewport({x:n,y:i}),s=a.x,o=a.y,l=this.defaultView.getConfig(),u=l.width,c=l.height;if(s<0||o<0||s>u||o>c)return null;var f=this.defaultView.viewport2Client({x:s,y:o}),h=f.x,d=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:n,y:i,viewportX:s,viewportY:o,clientX:h,clientY:d},picked:[]}),v=p.picked;return v&&v[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var r=Is(Qr().mark(function i(a,s){var o,l,u,c,f,h,d,p,v,g,m;return Qr().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o=this.defaultView.canvas2Viewport({x:a,y:s}),l=o.x,u=o.y,c=this.defaultView.getConfig(),f=c.width,h=c.height,!(l<0||u<0||l>f||u>h)){b.next=4;break}return b.abrupt("return",null);case 4:return d=this.defaultView.viewport2Client({x:l,y:u}),p=d.x,v=d.y,b.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:s,viewportX:l,viewportY:u,clientX:p,clientY:v},picked:[]});case 7:return g=b.sent,m=g.picked,b.abrupt("return",m&&m[0]||this.documentElement);case 10:case"end":return b.stop()}},i,this)}));function n(i,a){return r.apply(this,arguments)}return n}()},{key:"elementsFromPointSync",value:function(n,i){var a=this.defaultView.canvas2Viewport({x:n,y:i}),s=a.x,o=a.y,l=this.defaultView.getConfig(),u=l.width,c=l.height;if(s<0||o<0||s>u||o>c)return[];var f=this.defaultView.viewport2Client({x:s,y:o}),h=f.x,d=f.y,p=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:n,y:i,viewportX:s,viewportY:o,clientX:h,clientY:d},picked:[]}),v=p.picked;return v[v.length-1]!==this.documentElement&&v.push(this.documentElement),v}},{key:"elementsFromPoint",value:function(){var r=Is(Qr().mark(function i(a,s){var o,l,u,c,f,h,d,p,v,g,m;return Qr().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o=this.defaultView.canvas2Viewport({x:a,y:s}),l=o.x,u=o.y,c=this.defaultView.getConfig(),f=c.width,h=c.height,!(l<0||u<0||l>f||u>h)){b.next=4;break}return b.abrupt("return",[]);case 4:return d=this.defaultView.viewport2Client({x:l,y:u}),p=d.x,v=d.y,b.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:s,viewportX:l,viewportY:u,clientX:p,clientY:v},picked:[]});case 7:return g=b.sent,m=g.picked,m[m.length-1]!==this.documentElement&&m.push(this.documentElement),b.abrupt("return",m);case 11:case"end":return b.stop()}},i,this)}));function n(i,a){return r.apply(this,arguments)}return n}()},{key:"appendChild",value:function(n,i){throw new Error(nl)}},{key:"insertBefore",value:function(n,i){throw new Error(nl)}},{key:"removeChild",value:function(n,i){throw new Error(nl)}},{key:"replaceChild",value:function(n,i,a){throw new Error(nl)}},{key:"append",value:function(){throw new Error(nl)}},{key:"prepend",value:function(){throw new Error(nl)}},{key:"getElementById",value:function(n){return this.documentElement.getElementById(n)}},{key:"getElementsByName",value:function(n){return this.documentElement.getElementsByName(n)}},{key:"getElementsByTagName",value:function(n){return this.documentElement.getElementsByTagName(n)}},{key:"getElementsByClassName",value:function(n){return this.documentElement.getElementsByClassName(n)}},{key:"querySelector",value:function(n){return this.documentElement.querySelector(n)}},{key:"querySelectorAll",value:function(n){return this.documentElement.querySelectorAll(n)}},{key:"find",value:function(n){return this.documentElement.find(n)}},{key:"findAll",value:function(n){return this.documentElement.findAll(n)}}])}(ur),yF=function(){function e(t){ke(this,e),this.strategies=t}return Te(e,[{key:"apply",value:function(r){var n=r.camera,i=r.renderingService,a=r.renderingContext,s=this.strategies;i.hooks.cull.tap(e.tag,function(o){if(o){var l=o.cullable;return s.length===0?l.visible=a.unculledEntities.indexOf(o.entity)>-1:l.visible=s.every(function(u){return u.isVisible(n,o)}),!o.isCulled()&&o.isVisible()?o:(o.dispatchEvent(new Tr(gt.CULLED)),null)}return o}),i.hooks.afterRender.tap(e.tag,function(o){o.cullable.visibilityPlaneMask=-1})}}])}();yF.tag="Culling";var bF=function(){function e(){var t=this;ke(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new px(null),this.rootWheelEvent=new vx(null),this.onPointerMove=function(r){var n,i=(n=t.context.renderingContext.root)===null||n===void 0||(n=n.ownerDocument)===null||n===void 0?void 0:n.defaultView;if(!(i.supportsTouchEvents&&r.pointerType==="touch")){var a=t.normalizeToPointerEvent(r,i),s=po(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=t.bootstrapEvent(t.rootPointerEvent,l,i,r);t.context.eventService.mapEvent(u)}}catch(c){s.e(c)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(r){var n,i=(n=t.context.renderingContext.root)===null||n===void 0||(n=n.ownerDocument)===null||n===void 0?void 0:n.defaultView,a=t.normalizeToPointerEvent(r,i),s=po(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=t.bootstrapEvent(t.rootPointerEvent,l,i,r);t.context.eventService.mapEvent(u)}}catch(c){s.e(c)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}}return Te(e,[{key:"apply",value:function(r){var n=this;this.context=r;var i=r.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(s){var o=n.context.renderingService.hooks.pickSync.call({position:s,picked:[],topmost:!0}),l=o.picked;return l[0]||null}),i.hooks.pointerWheel.tap(e.tag,function(s){var o=n.normalizeWheelEvent(s);n.context.eventService.mapEvent(o)}),i.hooks.pointerDown.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=n.normalizeToPointerEvent(s,a);if(n.autoPreventDefault&&o[0].isNormalized){var l=s.cancelable||!("cancelable"in s);l&&s.preventDefault()}var u=po(o),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,h=n.bootstrapEvent(n.rootPointerEvent,f,a,s);n.context.eventService.mapEvent(h)}}catch(d){u.e(d)}finally{u.f()}n.setCursor(n.context.eventService.cursor)}}),i.hooks.pointerUp.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=n.context.contextService.getDomElement(),l=n.context.eventService.isNativeEventFromCanvas(o,s),u=l?"":"outside",c=n.normalizeToPointerEvent(s,a),f=po(c),h;try{for(f.s();!(h=f.n()).done;){var d=h.value,p=n.bootstrapEvent(n.rootPointerEvent,d,a,s);p.type+=u,n.context.eventService.mapEvent(p)}}catch(v){f.e(v)}finally{f.f()}n.setCursor(n.context.eventService.cursor)}}),i.hooks.pointerMove.tap(e.tag,this.onPointerMove),i.hooks.pointerOver.tap(e.tag,this.onPointerMove),i.hooks.pointerOut.tap(e.tag,this.onPointerMove),i.hooks.click.tap(e.tag,this.onClick),i.hooks.pointerCancel.tap(e.tag,function(s){var o=n.normalizeToPointerEvent(s,a),l=po(o),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,f=n.bootstrapEvent(n.rootPointerEvent,c,a,s);n.context.eventService.mapEvent(f)}}catch(h){l.e(h)}finally{l.f()}n.setCursor(n.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(r,n,i,a){r.view=i,r.originalEvent=null,r.nativeEvent=a,r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist,this.transferMouseData(r,n);var s=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),o=s.x,l=s.y;r.viewport.x=o,r.viewport.y=l;var u=this.context.eventService.viewport2Canvas(r.viewport),c=u.x,f=u.y;return r.canvas.x=c,r.canvas.y=f,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.isTrusted=a.isTrusted,r.type==="pointerleave"&&(r.type="pointerout"),r.type.startsWith("mouse")&&(r.type=r.type.replace("mouse","pointer")),r.type.startsWith("touch")&&(r.type=CJ[r.type]||r.type),r}},{key:"normalizeWheelEvent",value:function(r){var n=this.rootWheelEvent;this.transferMouseData(n,r),n.deltaMode=r.deltaMode,n.deltaX=r.deltaX,n.deltaY=r.deltaY,n.deltaZ=r.deltaZ;var i=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),a=i.x,s=i.y;n.viewport.x=a,n.viewport.y=s;var o=this.context.eventService.viewport2Canvas(n.viewport),l=o.x,u=o.y;return n.canvas.x=l,n.canvas.y=u,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.nativeEvent=r,n.type=r.type,n}},{key:"transferMouseData",value:function(r,n){r.isTrusted=n.isTrusted,r.srcElement=n.srcElement,r.timeStamp=dx.now(),r.type=n.type,r.altKey=n.altKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.ctrlKey=n.ctrlKey,r.button=n.button,r.buttons=n.buttons,r.client.x=n.clientX,r.client.y=n.clientY,r.movement.x=n.movementX,r.movement.y=n.movementY,r.page.x=n.pageX,r.page.y=n.pageY,r.screen.x=n.screenX,r.screen.y=n.screenY,r.relatedTarget=null}},{key:"setCursor",value:function(r){this.context.contextService.applyCursorStyle(r||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(r,n){var i=[];if(n.isTouchEvent(r))for(var a=0;a<r.changedTouches.length;a++){var s=r.changedTouches[a];er(s.button)&&(s.button=0),er(s.buttons)&&(s.buttons=1),er(s.isPrimary)&&(s.isPrimary=r.touches.length===1&&r.type==="touchstart"),er(s.width)&&(s.width=s.radiusX||1),er(s.height)&&(s.height=s.radiusY||1),er(s.tiltX)&&(s.tiltX=0),er(s.tiltY)&&(s.tiltY=0),er(s.pointerType)&&(s.pointerType="touch"),er(s.pointerId)&&(s.pointerId=s.identifier||0),er(s.pressure)&&(s.pressure=s.force||.5),er(s.twist)&&(s.twist=0),er(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=r.type,i.push(s)}else if(n.isMouseEvent(r)){var o=r;er(o.isPrimary)&&(o.isPrimary=!0),er(o.width)&&(o.width=1),er(o.height)&&(o.height=1),er(o.tiltX)&&(o.tiltX=0),er(o.tiltY)&&(o.tiltY=0),er(o.pointerType)&&(o.pointerType="mouse"),er(o.pointerId)&&(o.pointerId=NJ),er(o.pressure)&&(o.pressure=.5),er(o.twist)&&(o.twist=0),er(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,i.push(o)}else i.push(r);return i}}])}();bF.tag="Event";var Zee=[ye.CIRCLE,ye.ELLIPSE,ye.IMAGE,ye.RECT,ye.LINE,ye.POLYLINE,ye.POLYGON,ye.TEXT,ye.PATH,ye.HTML],Qee=function(){function e(){ke(this,e)}return Te(e,[{key:"isVisible",value:function(r,n){var i,a=n.cullable;if(!a.enable)return!0;var s=n.getRenderBounds();if(kr.isEmpty(s))return!1;var o=r.getFrustum(),l=(i=n.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(n,s,l||rl.INDETERMINATE,o.planes),a.visible=a.visibilityPlaneMask!==rl.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(r,n,i,a){if(i===rl.OUTSIDE||i===rl.INSIDE)return i;for(var s=rl.INSIDE,o=Zee.indexOf(r.nodeName)>-1,l=0,u=a.length;l<u;++l){var c=1<<l;if((i&c)!==0&&!(o&&(l===4||l===5))){var f=a[l],h=f.normal,d=f.distance;if(da(h,n.getPositiveFarPoint(a[l]))+d<0)return rl.OUTSIDE;da(h,n.getNegativeFarPoint(a[l]))+d<0&&(s|=c)}}return s}}])}(),wF=function(){function e(){ke(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return Te(e,[{key:"apply",value:function(r){var n=this,i,a=r.renderingService,s=r.renderingContext,o=r.rBushRoot,l=s.root.ownerDocument.defaultView;this.rBush=o;var u=function(v){var g=v.target;g.renderable.dirty=!0,a.dirtify()},c=function(v){n.syncTasks.set(v.target,v.detail.affectChildren),a.dirtify()},f=function(v){var g=v.target;Ae.enableSizeAttenuation&&Ae.styleValueRegistry.updateSizeAttenuation(g,l.getCamera().getZoom())},h=function(v){var g=v.target,m=g.rBushNode;m.aabb&&n.rBush.remove(m.aabb),n.syncTasks.delete(g),Ae.sceneGraphService.dirtifyToRoot(g),a.dirtify()};a.hooks.init.tap(e.tag,function(){l.addEventListener(gt.MOUNTED,f),l.addEventListener(gt.UNMOUNTED,h),l.addEventListener(gt.ATTR_MODIFIED,u),l.addEventListener(gt.BOUNDS_CHANGED,c)}),a.hooks.destroy.tap(e.tag,function(){l.removeEventListener(gt.MOUNTED,f),l.removeEventListener(gt.UNMOUNTED,h),l.removeEventListener(gt.ATTR_MODIFIED,u),l.removeEventListener(gt.BOUNDS_CHANGED,c),n.syncTasks.clear()});var d=(i=Ae.globalThis.requestIdleCallback)!==null&&i!==void 0?i:g2.bind(Ae.globalThis);a.hooks.endFrame.tap(e.tag,function(){n.isFirstTimeRendering?(n.isFirstTimeRendering=!1,n.syncing=!0,d(function(){n.syncRTree(!0),n.isFirstTimeRenderingFinished=!0})):n.syncRTree()})}},{key:"syncNode",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r.isConnected){var i=r.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var a=r.getRenderBounds();if(a){var s=r.renderable;n&&(s.dirtyRenderBounds||(s.dirtyRenderBounds=new kr),s.dirtyRenderBounds.update(a.center,a.halfExtents));var o=a.getMin(),l=st(o,2),u=l[0],c=l[1],f=a.getMax(),h=st(f,2),d=h[0],p=h[1];i.aabb||(i.aabb={}),i.aabb.displayObject=r,i.aabb.minX=u,i.aabb.minY=c,i.aabb.maxX=d,i.aabb.maxY=p}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],a=new Set,s=function(l){if(!a.has(l)&&l.renderable){var u=r.syncNode(l,n);u&&(i.push(u),a.add(l))}};this.syncTasks.forEach(function(o,l){o&&l.forEach(s);for(var u=l;u;)s(u),u=u.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();wF.tag="Prepare";var pi=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),QT=500,Jee=.1,ete=1e3,Df=new Tr(gt.MOUNTED),Ff=new Tr(gt.UNMOUNTED),Kv=new Tr(pi.BEFORE_RENDER),JT=new Tr(pi.RERENDER),Zv=new Tr(pi.AFTER_RENDER),Bve=function(e){function t(r){var n;ke(this,t),n=ut(this,t),n.Element=Xt,n.inited=!1,n.context={};var i=r.container,a=r.canvas,s=r.renderer,o=r.width,l=r.height,u=r.background,c=r.cursor,f=r.supportsMutipleCanvasesInOneContainer,h=r.cleanUpOnDestroy,d=h===void 0?!0:h,p=r.offscreenCanvas,v=r.devicePixelRatio,g=r.requestAnimationFrame,m=r.cancelAnimationFrame,y=r.createImage,b=r.supportsTouchEvents,x=r.supportsPointerEvents,E=r.isTouchEvent,S=r.isMouseEvent,_=r.dblClickSpeed,k=o,O=l,P=v||v2&&window.devicePixelRatio||1;return P=P>=1?Math.ceil(P):1,a&&(k=o||OJ(a)||a.width/P,O=l||PJ(a)||a.height/P),n.customElements=new Xee,n.devicePixelRatio=P,n.requestAnimationFrame=g??g2.bind(Ae.globalThis),n.cancelAnimationFrame=m??hF.bind(Ae.globalThis),n.supportsTouchEvents=b??"ontouchstart"in Ae.globalThis,n.supportsPointerEvents=x??!!Ae.globalThis.PointerEvent,n.isTouchEvent=E??function(N){return n.supportsTouchEvents&&N instanceof Ae.globalThis.TouchEvent},n.isMouseEvent=S??function(N){return!Ae.globalThis.MouseEvent||N instanceof Ae.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(N instanceof Ae.globalThis.PointerEvent))},p&&(Ae.offscreenCanvas=p),n.document=new Kee,n.document.defaultView=n,f||kJ(i,n,d),n.initRenderingContext(ot(ot({},r),{},{width:k,height:O,background:u??"transparent",cursor:c??"default",cleanUpOnDestroy:d,devicePixelRatio:P,requestAnimationFrame:n.requestAnimationFrame,cancelAnimationFrame:n.cancelAnimationFrame,supportsTouchEvents:n.supportsTouchEvents,supportsPointerEvents:n.supportsPointerEvents,isTouchEvent:n.isTouchEvent,isMouseEvent:n.isMouseEvent,dblClickSpeed:_??200,createImage:y??function(){return new window.Image}})),n.initDefaultCamera(k,O,s.clipSpaceNearZ),n.initRenderer(s,!0),n}return ct(t,e),Te(t,[{key:"initRenderingContext",value:function(n){this.context.config=n,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(n,i,a){var s=this,o=new Ae.CameraContribution;o.clipSpaceNearZ=a,o.setType(Nt.EXPLORING,ax.DEFAULT).setPosition(n/2,i/2,QT).setFocalPoint(n/2,i/2,0).setOrthographic(n/-2,n/2,i/2,i/-2,Jee,ete),o.canvas=this,o.eventEmitter.on(z5.UPDATED,function(){s.context.renderingContext.renderReasons.add(xl.CAMERA_CHANGED),Ae.enableSizeAttenuation&&s.getConfig().renderer.getConfig().enableSizeAttenuation&&s.updateSizeAttenuation()}),this.context.camera=o}},{key:"updateSizeAttenuation",value:function(){var n=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){Ae.styleValueRegistry.updateSizeAttenuation(i,n)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){n.resolveReadyPromise=function(){i(n)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;Cr.clearCache(),i||this.dispatchEvent(new Tr(pi.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var a=this.getRoot();n&&(this.unmountChildren(a),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),i||this.dispatchEvent(new Tr(pi.AFTER_DESTROY));var s=function(l){l.currentTarget=null,l.manager=null,l.target=null,l.relatedNode=null};s(Df),s(Ff),s(Kv),s(JT),s(Zv),s(sa),s(gx),s(mx),s(gF)}},{key:"changeSize",value:function(n,i){this.resize(n,i)}},{key:"resize",value:function(n,i){var a=this.context.config;a.width=n,a.height=i,this.getContextService().resize(n,i);var s=this.context.camera,o=s.getProjectionMode();s.setPosition(n/2,i/2,QT).setFocalPoint(n/2,i/2,0),o===fi.ORTHOGRAPHIC?s.setOrthographic(n/-2,n/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(n/i),this.dispatchEvent(new Tr(pi.RESIZE,{width:n,height:i}))}},{key:"appendChild",value:function(n,i){return this.document.documentElement.appendChild(n,i)}},{key:"insertBefore",value:function(n,i){return this.document.documentElement.insertBefore(n,i)}},{key:"removeChild",value:function(n){return this.document.documentElement.removeChild(n)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(n){var i=this;n&&(Kv.detail=n,Zv.detail=n),this.dispatchEvent(Kv);var a=this.getRenderingService();a.render(this.getConfig(),n,function(){i.dispatchEvent(JT)}),this.dispatchEvent(Zv)}},{key:"run",value:function(){var n=this,i=function(s,o){n.render(o),n.frameId=n.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new MZ,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new bF,new wF,new yF([new Qee])),this.loadRendererContainerModule(n),this.context.contextService=new this.context.ContextService(ot(ot({},Ae),this.context)),this.context.renderingService=new fee(Ae,this.context),this.context.eventService=new cee(Ae,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(n,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(n,a)}).catch(function(s){console.error(s)})}},{key:"initRenderingService",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){i.inited=!0,a?s?i.requestAnimationFrame(function(){i.dispatchEvent(new Tr(pi.READY))}):i.dispatchEvent(new Tr(pi.READY)):i.dispatchEvent(new Tr(pi.RENDERER_CHANGED)),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(o){var l=o,u=l.renderable;u&&(u.renderBoundsDirty=!0,u.boundsDirty=!0,u.dirty=!0)}),i.mountChildren(i.getRoot()),n.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(n){var i=this,a=n.getPlugins();a.forEach(function(s){s.context=i.context,s.init(Ae)})}},{key:"setRenderer",value:function(n){var i=this.getConfig();if(i.renderer!==n){var a=i.renderer;i.renderer=n,this.destroy(!1,!0),vt((a==null?void 0:a.getPlugins())||[]).reverse().forEach(function(s){s.destroy(Ae)}),this.initRenderer(n)}}},{key:"setCursor",value:function(n){var i=this.getConfig();i.cursor=n,this.getContextService().applyCursorStyle(n)}},{key:"unmountChildren",value:function(n){var i=this;n.childNodes.forEach(function(a){i.unmountChildren(a)}),this.inited&&(n.isMutationObserved?n.dispatchEvent(Ff):(Ff.target=n,this.dispatchEvent(Ff,!0)),n!==this.document.documentElement&&(n.ownerDocument=null),n.isConnected=!1),n.isCustomElement&&n.disconnectedCallback&&n.disconnectedCallback()}},{key:"mountChildren",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pd(n);this.inited?n.isConnected||(n.ownerDocument=this.document,n.isConnected=!0,a||(n.isMutationObserved?n.dispatchEvent(Df):(Df.target=n,this.dispatchEvent(Df,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",n.nodeName),n.childNodes.forEach(function(s){i.mountChildren(s,a)}),n.isCustomElement&&n.connectedCallback&&n.connectedCallback()}},{key:"mountFragment",value:function(n){this.mountChildren(n,!1)}},{key:"client2Viewport",value:function(n){return this.getEventService().client2Viewport(n)}},{key:"viewport2Client",value:function(n){return this.getEventService().viewport2Client(n)}},{key:"viewport2Canvas",value:function(n){return this.getEventService().viewport2Canvas(n)}},{key:"canvas2Viewport",value:function(n){return this.getEventService().canvas2Viewport(n)}},{key:"getPointByClient",value:function(n,i){return this.client2Viewport({x:n,y:i})}},{key:"getClientByPoint",value:function(n,i){return this.viewport2Client({x:n,y:i})}}])}(vF);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.38
 * @date 5/9/2025, 8:19:12 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var tte=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.landmarks=[],r}return ct(t,e),Te(t,[{key:"rotate",value:function(n,i,a){if(this.relElevation=yl(i),this.relAzimuth=yl(n),this.relRoll=yl(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Nt.EXPLORING){var s=xs(Dr(),[1,0,0],Lt((this.rotateWorld?1:-1)*this.relElevation)),o=xs(Dr(),[0,1,0],Lt((this.rotateWorld?1:-1)*this.relAzimuth)),l=xs(Dr(),[0,0,1],Lt(this.relRoll)),u=Ps(Dr(),o,s);u=Ps(Dr(),u,l);var c=o2(jt(),u);ml(this.matrix,this.matrix,[0,0,-this.distance]),pn(this.matrix,this.matrix,c),ml(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Nt.ORBITING||this.type===Nt.EXPLORING?this._getPosition():this.type===Nt.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(n,i){var a=En(n,i,0),s=Pa(this.position);return Os(s,s,nd(mt(),this.right,a[0])),Os(s,s,nd(mt(),this.up,a[1])),this._setPosition(s),this.triggerUpdate(),this}},{key:"dolly",value:function(n){var i=this.forward,a=Pa(this.position),s=n*this.dollyingStep,o=this.distance+n*this.dollyingStep;return s=Math.max(Math.min(o,this.maxDistance),this.minDistance)-this.distance,a[0]+=s*i[0],a[1]+=s*i[1],a[2]+=s*i[2],this._setPosition(a),this.type===Nt.ORBITING||this.type===Nt.EXPLORING?this._getDistance():this.type===Nt.TRACKING&&Os(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(n){var i,a,s,o,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.position,c=u===void 0?this.position:u,f=l.focalPoint,h=f===void 0?this.focalPoint:f,d=l.roll,p=l.zoom,v=new Ae.CameraContribution;v.setType(this.type,void 0),v.setPosition(c[0],(i=c[1])!==null&&i!==void 0?i:this.position[1],(a=c[2])!==null&&a!==void 0?a:this.position[2]),v.setFocalPoint(h[0],(s=h[1])!==null&&s!==void 0?s:this.focalPoint[1],(o=h[2])!==null&&o!==void 0?o:this.focalPoint[2]),v.setRoll(d??this.roll),v.setZoom(p??this.zoom);var g={name:n,matrix:i5(v.getWorldTransform()),right:Pa(v.right),up:Pa(v.up),forward:Pa(v.forward),position:Pa(v.getPosition()),focalPoint:Pa(v.getFocalPoint()),distanceVector:Pa(v.getDistanceVector()),distance:v.getDistance(),dollyingStep:v.getDollyingStep(),azimuth:v.getAzimuth(),elevation:v.getElevation(),roll:v.getRoll(),relAzimuth:v.relAzimuth,relElevation:v.relElevation,relRoll:v.relRoll,zoom:v.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=Ft(n)?this.landmarks.find(function(N){return N.name===n}):n;if(s){var o=Ye(a)?{duration:a}:a,l=o.easing,u=l===void 0?"linear":l,c=o.duration,f=c===void 0?100:c,h=o.easingFunction,d=h===void 0?void 0:h,p=o.onfinish,v=p===void 0?void 0:p,g=o.onframe,m=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var b=s.position,x=s.focalPoint,E=s.zoom,S=s.roll,_=d||Ae.EasingFunction(u),k,O=function(){i.setFocalPoint(x),i.setPosition(b),i.setRoll(S),i.setZoom(E),i.computeMatrix(),i.triggerUpdate(),v==null||v()};if(f===0)return O();var P=function(R){k===void 0&&(k=R);var L=R-k;if(L>=f){O();return}var D=_(L/f),$=mt(),X=mt(),K=1,V=0;Xw($,i.focalPoint,x,D),Xw(X,i.position,b,D),V=i.roll*(1-D)+S*D,K=i.zoom*(1-D)+E*D,i.setFocalPoint($),i.setPosition(X),i.setRoll(V),i.setZoom(K);var ne=aT($,x)+aT(X,b);if(ne<=y&&E===void 0&&S===void 0)return O();i.computeMatrix(),i.triggerUpdate(),L<f&&(m==null||m(D),i.landmarkAnimationID=i.canvas.requestAnimationFrame(P))};this.canvas.requestAnimationFrame(P)}}}])}(j5);Ae.CameraContribution=tte;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.24
 * @date 5/9/2025, 8:20:56 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Qv=function(e){function t(r,n,i,a){var s;return ke(this,t),s=ut(this,t,[r]),s.currentTime=i,s.timelineTime=a,s.target=n,s.type="finish",s.bubbles=!1,s.currentTarget=n,s.defaultPrevented=!1,s.eventPhase=s.AT_TARGET,s.timeStamp=Date.now(),s.currentTime=i,s.timelineTime=a,s}return ct(t,e),Te(t)}(pp),rte=0,nte=function(){function e(t,r){var n;ke(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=r,this.id="".concat(rte++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((n=this.effect)===null||n===void 0?void 0:n.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Te(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(n,i){r.resolveReadyPromise=function(){n(r)},r.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var r=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(n,i){r.resolveFinishedPromise=function(){n(r)},r.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(r){if(r=Number(r),!isNaN(r)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var n;this._startTime=Number((n=this.timeline)===null||n===void 0?void 0:n.currentTime)-r/this.playbackRate}this.currentTimePending=!1,this._currentTime!==r&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(r,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(r){if(r!==null){if(this.updatePromises(),r=Number(r),isNaN(r)||this._paused||this._idle)return;this._startTime=r,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(r){if(r!==this._playbackRate){this.updatePromises();var n=this.currentTime;this._playbackRate=r,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),n!==null&&(this.currentTime=n),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var r=this.oldPlayState,n=this.pending?"pending":this.playState;return this.readyPromise&&n!==r&&(n==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():n==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&n!==r&&(n==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):n==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=n,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var r=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var n=new Qv(null,this,this.currentTime,null);setTimeout(function(){r.oncancel(n)})}}},{key:"reverse",value:function(){this.updatePromises();var r=this.currentTime;this.playbackRate*=-1,this.play(),r!==null&&(this.currentTime=r),this.updatePromises()}},{key:"updatePlaybackRate",value:function(r){this.playbackRate=r}},{key:"targetAnimations",value:function(){var r,n=(r=this.effect)===null||r===void 0?void 0:r.target;return n.getAnimations()}},{key:"markTarget",value:function(){var r=this.targetAnimations();r.indexOf(this)===-1&&r.push(this)}},{key:"unmarkTarget",value:function(){var r=this.targetAnimations(),n=r.indexOf(this);n!==-1&&r.splice(n,1)}},{key:"tick",value:function(r,n){!this._idle&&!this._paused&&(this._startTime===null?n&&(this.startTime=r-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((r-this._startTime)*this.playbackRate)),n&&(this.currentTimePending=!1,this.fireEvents(r))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(Rt)}},{key:"addEventListener",value:function(r,n,i){throw new Error(Rt)}},{key:"removeEventListener",value:function(r,n,i){throw new Error(Rt)}},{key:"dispatchEvent",value:function(r){throw new Error(Rt)}},{key:"commitStyles",value:function(){throw new Error(Rt)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(-1))}else{var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(r,n){r!==this._currentTime&&(this._currentTime=r,this._isFinished&&!n&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(r){var n=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new Qv(null,this,this.currentTime,r);setTimeout(function(){n.onfinish&&n.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new Qv(null,this,this.currentTime,r);this.onframe(a)}this._finishedFlag=!1}}}])}(),ite=4,ate=.001,ste=1e-7,ote=10,Mu=11,Bf=1/(Mu-1),lte=typeof Float32Array=="function",xF=function(t,r){return 1-3*r+3*t},_F=function(t,r){return 3*r-6*t},EF=function(t){return 3*t},vd=function(t,r,n){return((xF(r,n)*t+_F(r,n))*t+EF(r))*t},SF=function(t,r,n){return 3*xF(r,n)*t*t+2*_F(r,n)*t+EF(r)},ute=function(t,r,n,i,a){var s,o,l=0;do o=r+(n-r)/2,s=vd(o,i,a)-t,s>0?n=o:r=o;while(Math.abs(s)>ste&&++l<ote);return o},cte=function(t,r,n,i){for(var a=0;a<ite;++a){var s=SF(r,n,i);if(s===0)return r;var o=vd(r,n,i)-t;r-=o/s}return r},_2=function(t,r,n,i){if(!(t>=0&&t<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&n===i)return function(l){return l};for(var a=lte?new Float32Array(Mu):new Array(Mu),s=0;s<Mu;++s)a[s]=vd(s*Bf,t,n);var o=function(u){for(var c=0,f=1,h=Mu-1;f!==h&&a[f]<=u;++f)c+=Bf;--f;var d=(u-a[f])/(a[f+1]-a[f]),p=c+d*Bf,v=SF(p,t,n);return v>=ate?cte(u,p,t,n):v===0?p:ute(u,c,c+Bf,t,n)};return function(l){return l===0||l===1?l:vd(o(l),r,i)}},fte=function(t){return t=t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},$f=function(t){return Math.pow(t,2)},qf=function(t){return Math.pow(t,3)},zf=function(t){return Math.pow(t,4)},jf=function(t){return Math.pow(t,5)},Gf=function(t){return Math.pow(t,6)},Wf=function(t){return 1-Math.cos(t*Math.PI/2)},Vf=function(t){return 1-Math.sqrt(1-t*t)},Uf=function(t){return t*t*(3*t-2)},Hf=function(t){for(var r,n=4;t<((r=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((r*3-2)/22-t,2)},Yf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=st(r,2),i=n[0],a=i===void 0?1:i,s=n[1],o=s===void 0?.5:s,l=wr(Number(a),1,10),u=wr(Number(o),.1,2);return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-u/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/u)},mu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=st(r,4),a=i[0],s=a===void 0?1:a,o=i[1],l=o===void 0?100:o,u=i[2],c=u===void 0?10:u,f=i[3],h=f===void 0?0:f;s=wr(s,.1,1e3),l=wr(l,.1,1e3),c=wr(c,.1,1e3),h=wr(h,.1,1e3);var d=Math.sqrt(l/s),p=c/(2*Math.sqrt(l*s)),v=p<1?d*Math.sqrt(1-p*p):0,g=1,m=p<1?(p*d+-h)/v:-h+d,y=n?n*t/1e3:t;return p<1?y=Math.exp(-y*p*d)*(g*Math.cos(v*y)+m*Math.sin(v*y)):y=(g+m*y)*Math.exp(-y*d),t===0||t===1?t:1-y},Jv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=r,i=st(n,2),a=i[0],s=a===void 0?10:a,o=i[1],l=o==="start"?Math.ceil:Math.floor;return l(wr(t,0,1)*s)/s},eM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=st(r,4),i=n[0],a=n[1],s=n[2],o=n[3];return _2(i,a,s,o)(t)},Xf=_2(.42,0,1,1),oi=function(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-t(1-r,n,i)}},li=function(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return r<.5?t(r*2,n,i)/2:1-t(r*-2+2,n,i)/2}},ui=function(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return r<.5?(1-t(1-r*2,n,i))/2:(t(r*2-1,n,i)+1)/2}},tM={steps:Jv,"step-start":function(t){return Jv(t,[1,"start"])},"step-end":function(t){return Jv(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":eM,ease:function(t){return eM(t,[.25,.1,.25,1])},in:Xf,out:oi(Xf),"in-out":li(Xf),"out-in":ui(Xf),"in-quad":$f,"out-quad":oi($f),"in-out-quad":li($f),"out-in-quad":ui($f),"in-cubic":qf,"out-cubic":oi(qf),"in-out-cubic":li(qf),"out-in-cubic":ui(qf),"in-quart":zf,"out-quart":oi(zf),"in-out-quart":li(zf),"out-in-quart":ui(zf),"in-quint":jf,"out-quint":oi(jf),"in-out-quint":li(jf),"out-in-quint":ui(jf),"in-expo":Gf,"out-expo":oi(Gf),"in-out-expo":li(Gf),"out-in-expo":ui(Gf),"in-sine":Wf,"out-sine":oi(Wf),"in-out-sine":li(Wf),"out-in-sine":ui(Wf),"in-circ":Vf,"out-circ":oi(Vf),"in-out-circ":li(Vf),"out-in-circ":ui(Vf),"in-back":Uf,"out-back":oi(Uf),"in-out-back":li(Uf),"out-in-back":ui(Uf),"in-bounce":Hf,"out-bounce":oi(Hf),"in-out-bounce":li(Hf),"out-in-bounce":ui(Hf),"in-elastic":Yf,"out-elastic":oi(Yf),"in-out-elastic":li(Yf),"out-in-elastic":ui(Yf),spring:mu,"spring-in":mu,"spring-out":oi(mu),"spring-in-out":li(mu),"spring-out-in":ui(mu)},hte=function(t){return fte(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},dte=function(t){return tM[hte(t)]||tM.linear},pte=function(t){return t},vte=1,gte=.5,rM=0;function nM(e,t){return function(r){if(r>=1)return 1;var n=1/e;return r+=t*n,r-r%n}}var Kf="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",mte=new RegExp("cubic-bezier\\(".concat(Kf,",").concat(Kf,",").concat(Kf,",").concat(Kf,"\\)")),yte=/steps\(\s*(\d+)\s*\)/,bte=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function E2(e){var t=mte.exec(e);if(t)return _2.apply(void 0,vt(t.slice(1).map(Number)));var r=yte.exec(e);if(r)return nM(Number(r[1]),rM);var n=bte.exec(e);return n?nM(Number(n[1]),{start:vte,middle:gte,end:rM}[n[2]]):dte(e)}function wte(e){return Math.abs(xte(e)/(e.playbackRate||1))}function xte(e){var t;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((t=e.iterations)!==null&&t!==void 0?t:1)}var kF=0,S2=1,mp=2,TF=3;function _te(e,t,r){if(t===null)return kF;var n=r.endTime;return t<Math.min(r.delay,n)?S2:t>=Math.min(r.delay+e+r.endDelay,n)?mp:TF}function Ete(e,t,r,n,i){switch(n){case S2:return t==="backwards"||t==="both"?0:null;case TF:return r-i;case mp:return t==="forwards"||t==="both"?e:null;case kF:return null}}function Ste(e,t,r,n,i){var a=i;return e===0?t!==S2&&(a+=r):a+=n/e,a}function kte(e,t,r,n,i,a){var s=e===1/0?t%1:e%1;return s===0&&r===mp&&n!==0&&(i!==0||a===0)&&(s=1),s}function Tte(e,t,r,n){return e===mp&&t===1/0?1/0:r===1?Math.floor(n)-1:Math.floor(n)}function Mte(e,t,r){var n=e;if(e!=="normal"&&e!=="reverse"){var i=t;e==="alternate-reverse"&&(i+=1),n="normal",i!==1/0&&i%2!==0&&(n="reverse")}return n==="normal"?r:1-r}function Ate(e,t,r){var n=_te(e,t,r),i=Ete(e,r.fill,t,n,r.delay);if(i===null)return null;var a=r.duration==="auto"?0:r.duration,s=Ste(a,n,r.iterations,i,r.iterationStart),o=kte(s,r.iterationStart,n,r.iterations,i,a),l=Tte(n,r.iterations,o,s),u=Mte(r.direction,l,o);return r.currentIteration=l,r.progress=u,r.easingFunction(u)}function Ote(e,t,r){var n=Pte(e,t),i=Nte(n,r);return function(a,s){if(s!==null)i.filter(function(l){return s>=l.applyFrom&&s<l.applyTo}).forEach(function(l){var u=s-l.startOffset,c=l.endOffset-l.startOffset,f=c===0?0:u/c;a.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var o in n)MF(o)&&a.setAttribute(o,null)}}function MF(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function Pte(e,t){for(var r={},n=0;n<e.length;n++)for(var i in e[n])if(MF(i)){var a={offset:e[n].offset,computedOffset:e[n].computedOffset,easing:e[n].easing,easingFunction:E2(e[n].easing)||t.easingFunction,value:e[n][i]};r[i]=r[i]||[],r[i].push(a)}return r}function Nte(e,t){var r=[];for(var n in e)for(var i=e[n],a=0;a<i.length-1;a++){var s=a,o=a+1,l=i[s].computedOffset,u=i[o].computedOffset,c=l,f=u;a===0&&(c=-1/0,u===0&&(o=s)),a===i.length-2&&(f=1/0,l===1&&(s=o)),r.push({applyFrom:c,applyTo:f,startOffset:i[s].computedOffset,endOffset:i[o].computedOffset,easingFunction:i[s].easingFunction,property:n,interpolation:Cte(n,i[s].value,i[o].value,t)})}return r.sort(function(h,d){return h.startOffset-d.startOffset}),r}var iM=function(t,r,n){return function(i){var a=AF(t,r,i);return Ye(a)?a:n(a)}};function Cte(e,t,r,n){var i=aF[e];if(i&&i.syntax&&i.int){var a=Ae.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var s=a.parser,o=s?s(t,n):t,l=s?s(r,n):r,u=a.mixer(o,l,n);if(u){var c=iM.apply(void 0,vt(u));return function(f){return f===0?t:f===1?r:c(f)}}}}return iM(!1,!0,function(f){return f?r:t})}function AF(e,t,r){if(typeof e=="number"&&typeof t=="number")return e*(1-r)+t*r;if(typeof e=="boolean"&&typeof t=="boolean"||typeof e=="string"&&typeof t=="string")return r<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var n=e.length,i=t.length,a=Math.max(n,i),s=[],o=0;o<a;o++)s.push(AF(e[o<n?o:n-1],t[o<i?o:i-1],r));return s}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var Rte=function(){function e(){ke(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=pte,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Te(e,[{key:"easing",get:function(){return this._easing},set:function(r){this.easingFunction=E2(r),this._easing=r}}])}();function Lte(e){var t=[];for(var r in e)if(!(r in["easing","offset","composite"])){var n=e[r];Array.isArray(n)||(n=[n]);for(var i=n.length,a=0;a<i;a++){if(!t[a]){var s={};"offset"in e&&(s.offset=Number(e.offset)),"easing"in e&&(s.easing=e.easing),"composite"in e&&(s.composite=e.composite),t[a]=s}n[a]!==void 0&&n[a]!==null&&(t[a][r]=n[a])}}return t.sort(function(o,l){return(o.computedOffset||0)-(l.computedOffset||0)}),t}function aM(e,t){if(e===null)return[];Array.isArray(e)||(e=Lte(e));for(var r=e.map(function(l){var u={};t!=null&&t.composite&&(u.composite="auto");for(var c in l){var f=l[c];if(c==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");u.computedOffset=f}}else if(c==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));u[c]=f}return u.offset===void 0&&(u.offset=null),u.easing===void 0&&(u.easing=(t==null?void 0:t.easing)||"linear"),u.composite===void 0&&(u.composite="auto"),u}),n=!0,i=-1/0,a=0;a<r.length;a++){var s=r[a].offset;if(Qe(s))n=!1;else{if(s<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=s}}r=r.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function o(){var l,u=r,c=u.length;if(r[c-1].computedOffset=Number((l=r[c-1].offset)!==null&&l!==void 0?l:1),c>1){var f;r[0].computedOffset=Number((f=r[0].offset)!==null&&f!==void 0?f:0)}for(var h=0,d=Number(r[0].computedOffset),p=1;p<c;p++){var v=r[p].computedOffset;if(!Qe(v)&&!Qe(d)){for(var g=1;g<p-h;g++)r[h+g].computedOffset=d+(Number(v)-d)*g/(p-h);h=p,d=Number(v)}}}return n||o(),r}var Ite="backwards|forwards|both|none".split("|"),Dte="reverse|alternate|alternate-reverse".split("|");function Fte(e,t){var r=new Rte;return typeof e=="number"&&!isNaN(e)?r.duration=e:e!==void 0&&Object.keys(e).forEach(function(n){if(e[n]!==void 0&&e[n]!==null&&e[n]!=="auto"){if((typeof r[n]=="number"||n==="duration")&&(typeof e[n]!="number"||isNaN(e[n]))||n==="fill"&&Ite.indexOf(e[n])===-1||n==="direction"&&Dte.indexOf(e[n])===-1)return;r[n]=e[n]}}),r}function Bte(e,t){return e=$te(e??{duration:"auto"}),Fte(e)}function $te(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var qte=function(){function e(t,r,n){var i=this;ke(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=Bte(n),this.timing.effect=this,this.timing.activeDuration=wte(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=aM(r,this.timing),this.interpolations=Ote(this.normalizedKeyframes,this.timing,this.target);var a=Ae.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(o,l){return l==="duration"?o.duration==="auto"?0:o.duration:l==="fill"?o.fill==="auto"?"none":o.fill:l==="localTime"?i.animation&&i.animation.currentTime||null:l==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:o.currentIteration||0:l==="progress"?!i.animation||i.animation.playState!=="running"?null:o.progress||0:o[l]},set:function(){return!0}}):this.timing}return Te(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(r){return r===null?!1:(this.timeFraction=Ate(this.timing.activeDuration,r,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(r){this.normalizedKeyframes=aM(r)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(r){var n=this;Object.keys(r||{}).forEach(function(i){n.timing[i]=r[i]})}}])}();function sM(e,t){return Number(e.id)-Number(t.id)}var zte=function(){function e(t){var r=this;ke(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(n){r.currentTime=n,r.discardAnimations(),r.animations.length===0?r.timelineTicking=!1:r.requestAnimationFrame(r.webAnimationsNextTick)},this.processRafCallbacks=function(n){var i=r.rafCallbacks;r.rafCallbacks=[],n<Number(r.currentTime)&&(n=Number(r.currentTime)),r.animations.sort(sM),r.animations=r.tick(n,!0,r.animations)[0],i.forEach(function(a){a[1](n)}),r.applyPendingEffects()},this.document=t}return Te(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(r,n,i){var a=new qte(r,n,i),s=new nte(a,this);return this.animations.push(s),this.restartWebAnimationsNextTick(),s.updatePromises(),s.play(),s.updatePromises(),s}},{key:"applyDirtiedAnimation",value:function(r){var n=this;if(!this.inTick){r.markTarget();var i=r.targetAnimations();i.sort(sM);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(s){var o=n.animations.indexOf(s);o!==-1&&n.animations.splice(o,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(r){r==null||r.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(r){return r.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(r){return r.playState!=="finished"&&r.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(r){var n=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([n,r]),n}},{key:"requestAnimationFrame",value:function(r){var n=this;return this.rAF(function(i){n.updateAnimationsPromises(),r(i),n.updateAnimationsPromises()})}},{key:"tick",value:function(r,n,i){var a=this,s,o;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=r,this.ticking=!1;var l=[],u=[],c=[],f=[];return i.forEach(function(h){h.tick(r,n),h._inEffect?(u.push(h.effect),h.markTarget()):(l.push(h.effect),h.unmarkTarget()),h._needsTick&&(a.ticking=!0);var d=h._inEffect||h._needsTick;h._inTimeline=d,d?c.push(h):f.push(h)}),(s=this.pendingEffects).push.apply(s,l),(o=this.pendingEffects).push.apply(o,u),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[c,f]}}])}();Ae.EasingFunction=E2;Ae.AnimationTimeline=zte;var jte=function(t,r){return t===r},oM=function(){function e(t,r){r===void 0&&(r=null),this.value=t,this.next=r}return e.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},e}(),Gte=function(){function e(t){t===void 0&&(t=jte),this.head=null,this.tail=null,this.compare=t}return e.prototype.prepend=function(t){var r=new oM(t,this.head);return this.head=r,this.tail||(this.tail=r),this},e.prototype.append=function(t){var r=new oM(t);return this.head?(this.tail.next=r,this.tail=r,this):(this.head=r,this.tail=r,this)},e.prototype.delete=function(t){if(!this.head)return null;for(var r=null;this.head&&this.compare(this.head.value,t);)r=this.head,this.head=this.head.next;var n=this.head;if(n!==null)for(;n.next;)this.compare(n.next.value,t)?(r=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),r},e.prototype.find=function(t){var r=t.value,n=r===void 0?void 0:r,i=t.callback,a=i===void 0?void 0:i;if(!this.head)return null;for(var s=this.head;s;){if(a&&a(s.value)||n!==void 0&&this.compare(s.value,n))return s;s=s.next}return null},e.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var r=this.head;r.next;)r.next.next?r=r.next:r.next=null;return this.tail=r,t},e.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},e.prototype.fromArray=function(t){var r=this;return t.forEach(function(n){return r.append(n)}),this},e.prototype.toArray=function(){for(var t=[],r=this.head;r;)t.push(r),r=r.next;return t},e.prototype.reverse=function(){for(var t=this.head,r=null,n=null;t;)n=t.next,t.next=r,r=t,t=n;this.tail=this.head,this.head=r},e.prototype.toString=function(t){return t===void 0&&(t=void 0),this.toArray().map(function(r){return r.toString(t)}).toString()},e}(),Wte=function(t,r,n){r===void 0&&(r=[]);var i=r.filter(function(l){return l.source===t||l.target===t});if(n==="target"){var a=function(u){return u.source===t};return i.filter(a).map(function(l){return l.target})}if(n==="source"){var s=function(u){return u.target===t};return i.filter(s).map(function(l){return l.source})}var o=function(u){return u.source===t?u.target:u.source};return i.map(o)},Vte=function(t,r){return r.filter(function(n){return n.source===t})},Ute=function(t,r){return r.filter(function(n){return n.source===t||n.target===t})},Hte=function(t){var r={},n=t.nodes,i=n===void 0?[]:n,a=t.edges,s=a===void 0?[]:a;return i.forEach(function(o){r[o.id]={degree:0,inDegree:0,outDegree:0}}),s.forEach(function(o){r[o.source].degree++,r[o.source].outDegree++,r[o.target].degree++,r[o.target].inDegree++}),r},Yte={}.toString,k2=function(e,t){return Yte.call(e)==="[object "+t+"]"};const OF=function(e){return k2(e,"Function")},PF=function(e){return Array.isArray?Array.isArray(e):k2(e,"Array")},Xte=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function Kte(e,t){if(e){var r;if(PF(e))for(var n=0,i=e.length;n<i&&(r=t(e[n],n),r!==!1);n++);else if(Xte(e)){for(var a in e)if(e.hasOwnProperty(a)&&(r=t(e[a],a),r===!1))break}}}const Zte=function(e){return k2(e,"String")};var Qte=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Kte(e,function(r,n){OF(e)&&n==="prototype"||t.push(r)}),t};const Jte=function(e,t){if(!OF(e))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return s.set(a,o),o};return r.cache=new Map,r};var Zf;Jte(function(e,t){t===void 0&&(t={});var r=t.fontSize,n=t.fontFamily,i=t.fontWeight,a=t.fontStyle,s=t.fontVariant;return Zf||(Zf=document.createElement("canvas").getContext("2d")),Zf.font=[a,s,i,r+"px",n].join(" "),Zf.measureText(Zte(e)?e:"").width},function(e,t){return t===void 0&&(t={}),LK([e],Qte(t)).join("")});var ere=function(t,r,n){for(var i=1/0,a,s=0;s<r.length;s++){var o=r[s].id;!n[o]&&t[o]<=i&&(i=t[o],a=r[s])}return a},tre=function(t,r,n,i){var a=t.nodes,s=a===void 0?[]:a,o=t.edges,l=o===void 0?[]:o,u={},c={},f={};s.forEach(function(y,b){var x=y.id;c[x]=1/0,x===r&&(c[x]=0)});for(var h=s.length,d=function(b){var x=ere(c,s,u),E=x.id;if(u[E]=!0,c[E]===1/0)return"continue";var S=[];n?S=Vte(E,l):S=Ute(E,l),S.forEach(function(_){var k=_.target,O=_.source,P=k===E?O:k,N=i&&_[i]?_[i]:1;c[P]>c[x.id]+N?(c[P]=c[x.id]+N,f[P]=[x.id]):c[P]===c[x.id]+N&&f[P].push(x.id)})},p=0;p<h;p++)d();f[r]=[r];var v={};for(var g in c)c[g]!==1/0&&NF(r,g,f,v);var m={};for(var g in v)m[g]=v[g][0];return{length:c,path:m,allPath:v}};function NF(e,t,r,n){if(e===t)return[e];if(n[t])return n[t];for(var i=[],a=0,s=r[t];a<s.length;a++){var o=s[a],l=NF(e,o,r,n);if(!l)return;for(var u=0,c=l;u<c.length;u++){var f=c[u];PF(f)?i.push(Ue(Ue([],f,!0),[t],!1)):i.push([f,t])}}return n[t]=i,n[t]}var $ve=function(t,r,n,i,a){var s=tre(t,r,i,a),o=s.length,l=s.path,u=s.allPath;return{length:o[n],path:l[n],allPath:u[n]}},lM;(function(e){e.EuclideanDistance="euclideanDistance"})(lM||(lM={}));var qve=function(t,r,n){typeof r!="number"&&(r=1e-6),typeof n!="number"&&(n=.85);for(var i=1,a=0,s=1e3,o=t.nodes,l=o===void 0?[]:o,u=t.edges,c=u===void 0?[]:u,f=l.length,h,d={},p={},v=0;v<f;++v){var g=l[v],m=g.id;d[m]=1/f,p[m]=1/f}for(var y=Hte(t);s>0&&i>r;){a=0;for(var v=0;v<f;++v){var g=l[v],m=g.id;if(h=0,y[g.id].inDegree===0)d[m]=0;else{for(var b=Wte(m,c,"source"),x=0;x<b.length;++x){var E=b[x],S=y[E].outDegree;S>0&&(h+=p[E]/S)}d[m]=n*h,a+=d[m]}}a=(1-a)/f,i=0;for(var v=0;v<f;++v){var g=l[v],m=g.id;h=d[m]+a,i+=Math.abs(h-p[m]),p[m]=h}s-=1}return p};(function(){function e(t){t===void 0&&(t=10),this.linkedList=new Gte,this.maxStep=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e})();/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.19
 * @date 5/9/2025, 8:19:59 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function rre(e,t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,s=t.r;e.arc(n,a,s,0,Math.PI*2,!1)}function nre(e,t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,s=t.rx,o=t.ry;if(e.ellipse)e.ellipse(n,a,s,o,0,0,Math.PI*2,!1);else{var l=s>o?s:o,u=s>o?1:s/o,c=s>o?o/s:1;e.save(),e.scale(u,c),e.arc(n,a,l,0,Math.PI*2)}}function ire(e,t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2,s=t.markerStart,o=t.markerEnd,l=t.markerStartOffset,u=t.markerEndOffset,c=0,f=0,h=0,d=0,p=0,v,g;s&&St(s)&&l&&(v=i-r,g=a-n,p=Math.atan2(g,v),c=Math.cos(p)*(l||0),f=Math.sin(p)*(l||0)),o&&St(o)&&u&&(v=r-i,g=n-a,p=Math.atan2(g,v),h=Math.cos(p)*(u||0),d=Math.sin(p)*(u||0)),e.moveTo(r+c,n+f),e.lineTo(i+h,a+d)}function are(e,t){var r=t.markerStart,n=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.d,o=s.absolutePath,l=s.segments,u=0,c=0,f=0,h=0,d=0,p,v;if(r&&St(r)&&i){var g=r.parentNode.getStartTangent(),m=st(g,2),y=m[0],b=m[1];p=y[0]-b[0],v=y[1]-b[1],d=Math.atan2(v,p),u=Math.cos(d)*(i||0),c=Math.sin(d)*(i||0)}if(n&&St(n)&&a){var x=n.parentNode.getEndTangent(),E=st(x,2),S=E[0],_=E[1];p=S[0]-_[0],v=S[1]-_[1],d=Math.atan2(v,p),f=Math.cos(d)*(a||0),h=Math.sin(d)*(a||0)}for(var k=0;k<o.length;k++){var O=o[k],P=O[0],N=o[k+1],R=k===0&&(u!==0||c!==0),L=(k===o.length-1||N&&(N[0]==="M"||N[0]==="Z"))&&f!==0&&h!==0,D=R?[u,c]:[0,0],$=st(D,2),X=$[0],K=$[1],V=L?[f,h]:[0,0],ne=st(V,2),we=ne[0],Se=ne[1];switch(P){case"M":e.moveTo(O[1]+X,O[2]+K);break;case"L":e.lineTo(O[1]+we,O[2]+Se);break;case"Q":e.quadraticCurveTo(O[1],O[2],O[3]+we,O[4]+Se);break;case"C":e.bezierCurveTo(O[1],O[2],O[3],O[4],O[5]+we,O[6]+Se);break;case"A":{var pe=l[k].arcParams,qe=pe.cx,ee=pe.cy,U=pe.rx,le=pe.ry,Z=pe.startAngle,se=pe.endAngle,ve=pe.xRotation,ge=pe.sweepFlag;if(e.ellipse)e.ellipse(qe,ee,U,le,ve,Z,se,!!(1-ge));else{var Me=U>le?U:le,W=U>le?1:U/le,H=U>le?le/U:1;e.translate(qe,ee),e.rotate(ve),e.scale(W,H),e.arc(0,0,Me,Z,se,!!(1-ge)),e.scale(1/W,1/H),e.rotate(-ve),e.translate(-qe,-ee)}L&&e.lineTo(O[6]+f,O[7]+h);break}case"Z":e.closePath();break}}}function sre(e,t){var r=t.markerStart,n=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.points.points,o=s.length,l=s[0][0],u=s[0][1],c=s[o-1][0],f=s[o-1][1],h=0,d=0,p=0,v=0,g=0,m,y;r&&St(r)&&i&&(m=s[1][0]-s[0][0],y=s[1][1]-s[0][1],g=Math.atan2(y,m),h=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),n&&St(n)&&a&&(m=s[o-1][0]-s[0][0],y=s[o-1][1]-s[0][1],g=Math.atan2(y,m),p=Math.cos(g)*(a||0),v=Math.sin(g)*(a||0)),e.moveTo(l+(h||p),u+(d||v));for(var b=1;b<o-1;b++){var x=s[b];e.lineTo(x[0],x[1])}e.lineTo(c,f)}function ore(e,t){var r=t.markerStart,n=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.points.points,o=s.length,l=s[0][0],u=s[0][1],c=s[o-1][0],f=s[o-1][1],h=0,d=0,p=0,v=0,g=0,m,y;r&&St(r)&&i&&(m=s[1][0]-s[0][0],y=s[1][1]-s[0][1],g=Math.atan2(y,m),h=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),n&&St(n)&&a&&(m=s[o-2][0]-s[o-1][0],y=s[o-2][1]-s[o-1][1],g=Math.atan2(y,m),p=Math.cos(g)*(a||0),v=Math.sin(g)*(a||0)),e.moveTo(l+h,u+d);for(var b=1;b<o-1;b++){var x=s[b];e.lineTo(x[0],x[1])}e.lineTo(c+p,f+v)}function lre(e,t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.radius,o=t.width,l=t.height,u=o,c=l,f=s&&s.some(function(E){return E!==0});if(!f)e.rect(n,a,u,c);else{var h=o>0?1:-1,d=l>0?1:-1,p=h+d===0,v=s.map(function(E){return wr(E,0,Math.min(Math.abs(u)/2,Math.abs(c)/2))}),g=st(v,4),m=g[0],y=g[1],b=g[2],x=g[3];e.moveTo(h*m+n,a),e.lineTo(u-h*y+n,a),y!==0&&e.arc(u-h*y+n,d*y+a,y,-d*Math.PI/2,h>0?0:Math.PI,p),e.lineTo(u+n,c-d*b+a),b!==0&&e.arc(u-h*b+n,c-d*b+a,b,h>0?0:Math.PI,d>0?Math.PI/2:1.5*Math.PI,p),e.lineTo(h*x+n,c+a),x!==0&&e.arc(h*x+n,c-d*x+a,x,d>0?Math.PI/2:-Math.PI/2,h>0?Math.PI:0,p),e.lineTo(n,d*m+a),m!==0&&e.arc(h*m+n,d*m+a,m,h>0?Math.PI:0,d>0?Math.PI*1.5:Math.PI/2,p)}}var ure=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.name="canvas-path-generator",r}return ct(t,e),Te(t,[{key:"init",value:function(){var n,i=(n={},$e($e($e($e($e($e($e($e($e($e(n,ye.CIRCLE,rre),ye.ELLIPSE,nre),ye.RECT,lre),ye.LINE,ire),ye.POLYLINE,ore),ye.POLYGON,sre),ye.PATH,are),ye.TEXT,void 0),ye.GROUP,void 0),ye.IMAGE,void 0),$e($e($e(n,ye.HTML,void 0),ye.MESH,void 0),ye.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Xs);/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.22
 * @date 5/9/2025, 8:22:03 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var cre=mt(),fre=mt(),hre=mt(),dre=jt(),CF=function(){function e(){var t=this;ke(this,e),this.isHit=function(r,n,i,a){var s=t.context.pointInPathPickerFactory[r.nodeName];if(s){var o=fa(dre,i),l=vn(fre,hn(hre,n[0],n[1],0),o);if(s(r,new Zr(l[0],l[1]),a,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(r,n){var i=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),a=t.context.pathGeneratorFactory[r.nodeName];return a&&(i.beginPath(),a(i,r.parsedStyle),i.closePath()),i.isPointInPath(n.x,n.y)}}return Te(e,[{key:"apply",value:function(r,n){var i,a=this,s=r.renderingService,o=r.renderingContext;this.context=r,this.runtime=n;var l=(i=o.root)===null||i===void 0?void 0:i.ownerDocument;s.hooks.pick.tapPromise(e.tag,function(){var u=Is(Qr().mark(function c(f){return Qr().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",a.pick(l,f));case 1:case"end":return d.stop()}},c)}));return function(c){return u.apply(this,arguments)}}()),s.hooks.pickSync.tap(e.tag,function(u){return a.pick(l,u)})}},{key:"pick",value:function(r,n){var i=n.topmost,a=n.position,s=a.x,o=a.y,l=hn(cre,s,o,0),u=r.elementsFromBBox(l[0],l[1],l[0],l[1]),c=[],f=po(u),h;try{for(f.s();!(h=f.n()).done;){var d=h.value,p=d.getWorldTransform(),v=this.isHit(d,l,p,!1);if(v){var g=lF(d);if(g){var m=g.parsedStyle.clipPath,y=this.isHit(m,l,m.getWorldTransform(),!0);if(y){if(i)return n.picked=[d],n;c.push(d)}}else{if(i)return n.picked=[d],n;c.push(d)}}}}catch(b){f.e(b)}finally{f.f()}return n.picked=c,n}}])}();CF.tag="CanvasPicker";function pre(e,t,r){var n=e.parsedStyle,i=n.cx,a=i===void 0?0:i,s=n.cy,o=s===void 0?0:s,l=n.r,u=n.fill,c=n.stroke,f=n.lineWidth,h=f===void 0?1:f,d=n.increasedLineWidthForHitTesting,p=d===void 0?0:d,v=n.pointerEvents,g=v===void 0?"auto":v,m=(h+p)/2,y=Ua(a,o,t.x,t.y),b=jo(g,u,c),x=st(b,2),E=x[0],S=x[1];return E&&S||r?y<=l+m:E?y<=l:S?y>=l-m&&y<=l+m:!1}function Qf(e,t,r,n){return e/(r*r)+t/(n*n)}function vre(e,t,r){var n=e.parsedStyle,i=n.cx,a=i===void 0?0:i,s=n.cy,o=s===void 0?0:s,l=n.rx,u=n.ry,c=n.fill,f=n.stroke,h=n.lineWidth,d=h===void 0?1:h,p=n.increasedLineWidthForHitTesting,v=p===void 0?0:p,g=n.pointerEvents,m=g===void 0?"auto":g,y=t.x,b=t.y,x=jo(m,c,f),E=st(x,2),S=E[0],_=E[1],k=(d+v)/2,O=(y-a)*(y-a),P=(b-o)*(b-o);return S&&_||r?Qf(O,P,l+k,u+k)<=1:S?Qf(O,P,l,u)<=1:_?Qf(O,P,l-k,u-k)>=1&&Qf(O,P,l+k,u+k)<=1:!1}function wo(e,t,r,n,i,a){return i>=e&&i<=e+r&&a>=t&&a<=t+n}function gre(e,t,r,n,i,a,s){var o=i/2;return wo(e-o,t-o,r,i,a,s)||wo(e+r-o,t-o,i,n,a,s)||wo(e+o,t+n-o,r,i,a,s)||wo(e-o,t+o,i,n,a,s)}function Jf(e,t,r,n,i,a,s,o){var l=(Math.atan2(o-t,s-e)+Math.PI*2)%(Math.PI*2),u={x:e+r*Math.cos(l),y:t+r*Math.sin(l)};return Ua(u.x,u.y,s,o)<=a/2}function Es(e,t,r,n,i,a,s){var o=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),c=Math.max(t,n),f=i/2;return a>=o-f&&a<=l+f&&s>=u-f&&s<=c+f?mZ(e,t,r,n,a,s)<=i/2:!1}function RF(e,t,r,n,i){var a=e.length;if(a<2)return!1;for(var s=0;s<a-1;s++){var o=e[s][0],l=e[s][1],u=e[s+1][0],c=e[s+1][1];if(Es(o,l,u,c,t,r,n))return!0}if(i){var f=e[0],h=e[a-1];if(Es(f[0],f[1],h[0],h[1],t,r,n))return!0}return!1}var mre=1e-6;function eg(e){return Math.abs(e)<mre?0:e<0?-1:1}function yre(e,t,r){return(r[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(r[1]-e[1])&&Math.min(e[0],t[0])<=r[0]&&r[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=r[1]&&r[1]<=Math.max(e[1],t[1])}function LF(e,t,r){var n=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var s=e[a],o=e[(a+1)%i];if(yre(s,o,[t,r]))return!0;eg(s[1]-r)>0!=eg(o[1]-r)>0&&eg(t-(r-s[1])*(s[0]-o[0])/(s[1]-o[1])-s[0])<0&&(n=!n)}return n}function uM(e,t,r){for(var n=!1,i=0;i<e.length;i++){var a=e[i];if(n=LF(a,t,r),n)break}return n}function bre(e,t,r){var n=e.parsedStyle,i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.lineWidth,u=l===void 0?1:l,c=n.increasedLineWidthForHitTesting,f=c===void 0?0:c,h=n.pointerEvents,d=h===void 0?"auto":h,p=n.fill,v=n.stroke,g=jo(d,p,v),m=st(g,2),y=m[1];return!y&&!r||!u?!1:Es(i,a,s,o,u+f,t.x,t.y)}function wre(e,t,r,n,i){for(var a=!1,s=t/2,o=0;o<e.length;o++){var l=e[o],u=l.currentPoint,c=l.params,f=l.prePoint,h=l.box;if(!(h&&!wo(h.x-s,h.y-s,h.width+t,h.height+t,r,n)))switch(l.command){case"L":case"Z":if(a=Es(f[0],f[1],u[0],u[1],t,r,n),a)return!0;break;case"Q":var d=SZ(f[0],f[1],c[1],c[2],c[3],c[4],r,n);if(a=d<=t/2,a)return!0;break;case"C":var p=yT(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],r,n,i);if(a=p<=t/2,a)return!0;break;case"A":l.cubicParams||(l.cubicParams=u2(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var v=l.cubicParams,g=f,m=0;m<v.length;m+=6){var y=yT(g[0],g[1],v[m],v[m+1],v[m+2],v[m+3],v[m+4],v[m+5],r,n,i);if(g=[v[m+4],v[m+5]],a=y<=t/2,a)return!0}break}}return a}function xre(e,t,r,n,i,a){var s=e.parsedStyle,o=s.lineWidth,l=o===void 0?1:o,u=s.increasedLineWidthForHitTesting,c=u===void 0?0:u,f=s.stroke,h=s.fill,d=s.d,p=s.pointerEvents,v=p===void 0?"auto":p,g=d.segments,m=d.hasArc,y=d.polylines,b=d.polygons,x=jo(v,(b==null?void 0:b.length)&&h,f),E=st(x,2),S=E[0],_=E[1],k=cx(e),O=!1;return S||r?(m?O=n(e,t):O=uM(b,t.x,t.y)||uM(y,t.x,t.y),O):((_||r)&&(O=wre(g,l+c,t.x,t.y,k)),O)}function _re(e,t,r){var n=e.parsedStyle,i=n.stroke,a=n.fill,s=n.lineWidth,o=s===void 0?1:s,l=n.increasedLineWidthForHitTesting,u=l===void 0?0:l,c=n.points,f=n.pointerEvents,h=f===void 0?"auto":f,d=jo(h,a,i),p=st(d,2),v=p[0],g=p[1],m=!1;return(g||r)&&(m=RF(c.points,o+u,t.x,t.y,!0)),!m&&(v||r)&&(m=LF(c.points,t.x,t.y)),m}function Ere(e,t,r){var n=e.parsedStyle,i=n.lineWidth,a=i===void 0?1:i,s=n.increasedLineWidthForHitTesting,o=s===void 0?0:s,l=n.points,u=n.pointerEvents,c=u===void 0?"auto":u,f=n.fill,h=n.stroke,d=jo(c,f,h),p=st(d,2),v=p[1];return!v&&!r||!a?!1:RF(l.points,a+o,t.x,t.y,!1)}function Sre(e,t,r,n,i){var a=e.parsedStyle,s=a.radius,o=a.fill,l=a.stroke,u=a.lineWidth,c=u===void 0?1:u,f=a.increasedLineWidthForHitTesting,h=f===void 0?0:f,d=a.x,p=d===void 0?0:d,v=a.y,g=v===void 0?0:v,m=a.width,y=a.height,b=a.pointerEvents,x=b===void 0?"auto":b,E=jo(x,o,l),S=st(E,2),_=S[0],k=S[1],O=s&&s.some(function(L){return L!==0}),P=c+h;if(O){var R=!1;return(k||r)&&(R=kre(p,g,m,y,s.map(function(L){return wr(L,0,Math.min(Math.abs(m)/2,Math.abs(y)/2))}),P,t.x,t.y)),!R&&(_||r)&&(R=n(e,t)),R}else{var N=P/2;if(_&&k||r)return wo(p-N,g-N,m+N,y+N,t.x,t.y);if(_)return wo(p,g,m,y,t.x,t.y);if(k)return gre(p,g,m,y,P,t.x,t.y)}return!1}function kre(e,t,r,n,i,a,s,o){var l=st(i,4),u=l[0],c=l[1],f=l[2],h=l[3];return Es(e+u,t,e+r-c,t,a,s,o)||Es(e+r,t+c,e+r,t+n-f,a,s,o)||Es(e+r-f,t+n,e+h,t+n,a,s,o)||Es(e,t+n-h,e,t+u,a,s,o)||Jf(e+r-c,t+c,c,1.5*Math.PI,2*Math.PI,a,s,o)||Jf(e+r-f,t+n-f,f,0,.5*Math.PI,a,s,o)||Jf(e+h,t+n-h,h,.5*Math.PI,Math.PI,a,s,o)||Jf(e+u,t+u,u,Math.PI,1.5*Math.PI,a,s,o)}function Tre(e,t,r,n,i,a){var s=e.parsedStyle,o=s.pointerEvents,l=o===void 0?"auto":o,u=s.x,c=u===void 0?0:u,f=s.y,h=f===void 0?0:f,d=s.width,p=s.height;if(l==="non-transparent-pixel"){var v=i.config.offscreenCanvas,g=a.offscreenCanvasCreator.getOrCreateCanvas(v),m=a.offscreenCanvasCreator.getOrCreateContext(v,{willReadFrequently:!0});g.width=d,g.height=p,i.defaultStyleRendererFactory[ye.IMAGE].render(m,ot(ot({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0);var y=m.getImageData(t.x-c,t.y-h,1,1).data;return y.every(function(b){return b!==0})}return!0}function Mre(e,t,r,n){var i=e.getGeometryBounds();return t.x>=i.min[0]&&t.y>=i.min[1]&&t.x<=i.max[0]&&t.y<=i.max[1]}var Are=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.name="canvas-picker",r}return ct(t,e),Te(t,[{key:"init",value:function(){var n,i=(n={},$e($e($e($e($e($e($e($e($e($e(n,ye.CIRCLE,pre),ye.ELLIPSE,vre),ye.RECT,Sre),ye.LINE,bre),ye.POLYLINE,Ere),ye.POLYGON,_re),ye.PATH,xre),ye.TEXT,Mre),ye.GROUP,null),ye.IMAGE,Tre),$e($e(n,ye.HTML,null),ye.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new CF)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Xs);function ta(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ore=0;function Pre(e){return"__private_"+Ore+++"_"+e}/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.22
 * @date 5/9/2025, 8:20:25 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Nre=function(){function e(){ke(this,e),this.cacheStore=new Map}return Te(e,[{key:"onRefAdded",value:function(r){}},{key:"has",value:function(r){return this.cacheStore.has(r)}},{key:"put",value:function(r,n,i){return this.cacheStore.has(r)?!1:(this.cacheStore.set(r,{value:n,counter:new Set([i])}),this.onRefAdded(i),!0)}},{key:"get",value:function(r,n){var i=this.cacheStore.get(r);return i?(i.counter.has(n)||(i.counter.add(n),this.onRefAdded(n)),i.value):null}},{key:"update",value:function(r,n,i){var a=this.cacheStore.get(r);return a?(a.value=ot(ot({},a.value),n),a.counter.has(i)||(a.counter.add(i),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(r,n){var i=this.cacheStore.get(r);return i?(i.counter.delete(n),i.counter.size<=0&&this.cacheStore.delete(r),!0):!1}},{key:"releaseRef",value:function(r){var n=this;Array.from(this.cacheStore.keys()).forEach(function(i){n.release(i,r)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),tg=[],rg=[],yx=function(){function e(){ke(this,e)}return Te(e,null,[{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;e.rafId&&(r.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;tg.length<=0&&rg.length<=0||(rg.forEach(function(n){return n()}),rg=tg.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=r.requestAnimationFrame(function(){e.executeTask(r)}))}},{key:"sliceImage",value:function(r,n,i,a){for(var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e.api,l=r.naturalWidth||r.width,u=r.naturalHeight||r.height,c=n-s,f=i-s,h=Math.ceil(l/c),d=Math.ceil(u/f),p={tileSize:[n,i],gridSize:[d,h],tiles:Array(d).fill(null).map(function(){return Array(h).fill(null)})},v=function(y){for(var b=function(S){tg.push(function(){var _=S*c,k=y*f,O=[Math.min(n,l-_),Math.min(i,u-k)],P=O[0],N=O[1],R=o.createCanvas();R.width=n,R.height=i;var L=R.getContext("2d");L.drawImage(r,_,k,P,N,0,0,P,N),p.tiles[y][S]={x:_,y:k,tileX:S,tileY:y,data:R},a()})},x=0;x<h;x++)b(x)},g=0;g<d;g++)v(g);return e.stop(),e.executeTask(),p}}])}();yx.TASK_NUM_PER_FRAME=10;var Xn=new Nre;Xn.onRefAdded=function(t){var r=this;t.addEventListener(gt.DESTROY,function(){r.releaseRef(t)},{once:!0})};var T2=function(){function e(t,r){ke(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=r}return Te(e,[{key:"getImageSync",value:function(r,n,i){var a=Ft(r)?r:r.src;if(Xn.has(a)){var s=Xn.get(a,n);if(s.img.complete)return i==null||i(s),s}return this.getOrCreateImage(r,n).then(function(o){i==null||i(o)}).catch(function(o){console.error(o)}),null}},{key:"getOrCreateImage",value:function(r,n){var i=this,a=Ft(r)?r:r.src;if(!Ft(r)&&!Xn.has(a)){var s={img:r,size:[r.naturalWidth||r.width,r.naturalHeight||r.height],tileSize:eh(r)};Xn.put(a,s,n)}if(Xn.has(a)){var o=Xn.get(a,n);return o.img.complete?Promise.resolve(o):new Promise(function(l,u){o.img.addEventListener("load",function(){o.size=[o.img.naturalWidth||o.img.width,o.img.naturalHeight||o.img.height],o.tileSize=eh(o.img),l(o)}),o.img.addEventListener("error",function(c){u(c)})})}return new Promise(function(l,u){var c=i.context.config.createImage();if(c){var f={img:c,size:[0,0],tileSize:eh(c)};Xn.put(a,f,n),c.onload=function(){f.size=[c.naturalWidth||c.width,c.naturalHeight||c.height],f.tileSize=eh(f.img),l(f)},c.onerror=function(h){u(h)},c.crossOrigin="Anonymous",c.src=a}})}},{key:"createDownSampledImage",value:function(){var t=Is(Qr().mark(function n(i,a){var s,o,l,u,c,f,h,d,p,v,g,m,y,b;return Qr().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.getOrCreateImage(i,a);case 2:if(s=E.sent,!(typeof s.downSamplingRate<"u")){E.next=5;break}return E.abrupt("return",s);case 5:if(o=this.context.config.enableLargeImageOptimization,l=typeof o=="boolean"?{}:o,u=l.maxDownSampledImageSize,c=u===void 0?2048:u,f=l.downSamplingRateThreshold,h=f===void 0?.5:f,d=this.runtime.globalThis.createImageBitmap,p=st(s.size,2),v=p[0],g=p[1],m=s.img,y=Math.min((c+c)/(v+g),Math.max(.01,Math.min(h,.5))),b=ot(ot({},s),{},{downSamplingRate:y}),Xn.update(s.img.src,b,a),!d){E.next=25;break}return E.prev=14,E.next=17,d(s.img,{resizeWidth:v*y,resizeHeight:g*y});case 17:m=E.sent,E.next=23;break;case 20:E.prev=20,E.t0=E.catch(14),y=1;case 23:E.next=26;break;case 25:y=1;case 26:return b=ot(ot({},this.getImageSync(i,a)),{},{downSampled:m,downSamplingRate:y}),Xn.update(s.img.src,b,a),E.abrupt("return",b);case 29:case"end":return E.stop()}},n,this,[[14,20]])}));function r(n,i){return t.apply(this,arguments)}return r}()},{key:"createImageTiles",value:function(){var t=Is(Qr().mark(function n(i,a,s,o){var l,u,c,f,h;return Qr().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.getOrCreateImage(i,o);case 2:return l=p.sent,u=o.ownerDocument.defaultView,c=u.requestAnimationFrame,f=u.cancelAnimationFrame,yx.api={requestAnimationFrame:c,cancelAnimationFrame:f,createCanvas:function(){return m2.createCanvas()}},h=ot(ot({},l),yx.sliceImage(l.img,l.tileSize[0],l.tileSize[0],s)),Xn.update(l.img.src,h,o),p.abrupt("return",h);case 8:case"end":return p.stop()}},n,this)}));function r(n,i,a,s){return t.apply(this,arguments)}return r}()},{key:"releaseImage",value:function(r,n){Xn.release(Ft(r)?r:r.src,n)}},{key:"releaseImageRef",value:function(r){Xn.releaseRef(r)}},{key:"getOrCreatePatternSync",value:function(r,n,i,a,s,o,l){var u=this.generatePatternKey(n);if(u&&this.patternCache[u])return this.patternCache[u];var c=n.image,f=n.repetition,h=n.transform,d,p=!1;if(Ft(c)){var v=this.getImageSync(c,r,l);d=v==null?void 0:v.img}else a?(d=a,p=!0):d=c;var g=d&&i.createPattern(d,f);if(g){var m;h?m=dF(iF(h),new Xt({})):m=Rs(jt()),p&&l5(m,m,[1/s,1/s,1]),g.setTransform({a:m[0],b:m[1],c:m[4],d:m[5],e:m[12]+o[0],f:m[13]+o[1]})}return u&&g&&(this.patternCache[u]=g),g}},{key:"getOrCreateGradient",value:function(r,n){var i=this.generateGradientKey(r),a=r.type,s=r.steps,o=r.min,l=r.width,u=r.height,c=r.angle,f=r.cx,h=r.cy,d=r.size;if(this.gradientCache[i])return this.gradientCache[i];var p=null;if(a===_s.LinearGradient){var v=bQ(o,l,u,c),g=v.x1,m=v.y1,y=v.x2,b=v.y2;p=n.createLinearGradient(g,m,y,b)}else if(a===_s.RadialGradient){var x=wQ(o,l,u,f,h,d),E=x.x,S=x.y,_=x.r;p=n.createRadialGradient(E,S,0,E,S,_)}return p&&(s.forEach(function(k){var O=k.offset,P=k.color;if(O.unit===De.kPercentage){var N;(N=p)===null||N===void 0||N.addColorStop(O.value/100,P.toString())}}),this.gradientCache[i]=p),this.gradientCache[i]}},{key:"generateGradientKey",value:function(r){var n=r.type,i=r.min,a=r.width,s=r.height,o=r.steps,l=r.angle,u=r.cx,c=r.cy,f=r.size;return"gradient-".concat(n,"-").concat((l==null?void 0:l.toString())||0,"-").concat((u==null?void 0:u.toString())||0,"-").concat((c==null?void 0:c.toString())||0,"-").concat((f==null?void 0:f.toString())||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(s,"-").concat(o.map(function(h){var d=h.offset,p=h.color;return"".concat(d).concat(p)}).join("-"))}},{key:"generatePatternKey",value:function(r){var n=r.image,i=r.repetition;if(Ft(n))return"pattern-".concat(n,"-").concat(i);if(n.nodeName==="rect")return"pattern-".concat(n.entity,"-").concat(i)}}])}();T2.isSupportTile=!!m2.createCanvas();function eh(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,r=e.naturalHeight||e.height,n=256;return[256,512].forEach(function(i){var a=Math.ceil(r/i),s=Math.ceil(t/i);a*s<1e3&&(n=i)}),[n,n]}var IF=function(){function e(){ke(this,e)}return Te(e,[{key:"apply",value:function(r){var n=r.renderingService,i=r.renderingContext,a=r.imagePool,s=i.root.ownerDocument.defaultView,o=function(f,h,d){var p=f.parsedStyle,v=p.width,g=p.height;v&&!g?f.setAttribute("height",d/h*v):!v&&g&&f.setAttribute("width",h/d*g)},l=function(f){var h=f.target,d=h.nodeName,p=h.attributes;if(d===ye.IMAGE){var v=p.src,g=p.keepAspectRatio;a.getImageSync(v,h,function(m){var y=m.img,b=y.width,x=y.height;g&&o(h,b,x),h.renderable.dirty=!0,n.dirtify()})}},u=function(f){var h=f.target,d=f.attrName,p=f.prevValue,v=f.newValue;h.nodeName!==ye.IMAGE||d!=="src"||(p!==v&&a.releaseImage(p,h),Ft(v)&&a.getOrCreateImage(v,h).then(function(g){var m=g.img,y=m.width,b=m.height;h.attributes.keepAspectRatio&&o(h,y,b),h.renderable.dirty=!0,n.dirtify()}).catch(function(){}))};n.hooks.init.tap(e.tag,function(){s.addEventListener(gt.MOUNTED,l),s.addEventListener(gt.ATTR_MODIFIED,u)}),n.hooks.destroy.tap(e.tag,function(){s.removeEventListener(gt.MOUNTED,l),s.removeEventListener(gt.ATTR_MODIFIED,u)})}}])}();IF.tag="LoadImage";var Cre=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.name="image-loader",r}return ct(t,e),Te(t,[{key:"init",value:function(n){this.context.imagePool=new T2(this.context,n),this.addRenderingPlugin(new IF)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Xs);/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.2.22
 * @date 5/9/2025, 8:21:12 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var yr=Pre("renderState"),DF=function(){function e(t){ke(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,yr,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=jt(),this.dprMatrix=jt(),this.tmpMat4=jt(),this.vec3a=mt(),this.vec3b=mt(),this.vec3c=mt(),this.vec3d=mt(),this.canvasRendererPluginOptions=t}return Te(e,[{key:"apply",value:function(r,n){var i=this;this.context=r;var a=this.context,s=a.config,o=a.camera,l=a.renderingService,u=a.renderingContext,c=a.rBushRoot,f=a.pathGeneratorFactory,h=s.renderer.getConfig().enableRenderingOptimization;s.renderer.getConfig().enableDirtyCheck=!1,s.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=c,this.pathGeneratorFactory=f;var d=r.contextService,p=u.root.ownerDocument.defaultView,v=function(b){var x=b.target,E=x.rBushNode;E.aabb&&i.removedRBushNodeAABBs.push(E.aabb)},g=function(b){var x=b.target,E=x.rBushNode;E.aabb&&i.removedRBushNodeAABBs.push(E.aabb)};l.hooks.init.tap(e.tag,function(){p.addEventListener(gt.UNMOUNTED,v),p.addEventListener(gt.CULLED,g);var y=d.getDPR(),b=s.width,x=s.height,E=d.getContext();i.clearRect(E,0,0,b*y,x*y,s.background)}),l.hooks.destroy.tap(e.tag,function(){p.removeEventListener(gt.UNMOUNTED,v),p.removeEventListener(gt.CULLED,g),i.renderQueue=[],i.removedRBushNodeAABBs=[],ta(i,yr)[yr]={restoreStack:[],prevObject:null,currentContext:null}}),l.hooks.beginFrame.tap(e.tag,function(){var y,b=d.getContext(),x=d.getDPR(),E=s.width,S=s.height,_=i.canvasRendererPluginOptions,k=_.dirtyObjectNumThreshold,O=_.dirtyObjectRatioThreshold,P=l.getStats(),N=P.total,R=P.rendered,L=R/N;i.clearFullScreen=i.clearFullScreenLastFrame||!((y=p.context.renderingPlugins[1])!==null&&y!==void 0&&y.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||R>k&&L>O,b&&(typeof b.resetTransform=="function"?b.resetTransform():b.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(b,0,0,E*x,S*x,s.background))});var m=function(b,x){for(var E=[b];E.length>0;){var S,_=E.pop();_.isVisible()&&!_.isCulled()&&(h?i.renderDisplayObjectOptimized(_,x,i.context,ta(i,yr)[yr],n):i.renderDisplayObject(_,x,i.context,ta(i,yr)[yr],n));for(var k=((S=_.sortable)===null||S===void 0||(S=S.sorted)===null||S===void 0?void 0:S.length)>0?_.sortable.sorted:_.childNodes,O=k.length-1;O>=0;O--)E.push(k[O])}};l.hooks.endFrame.tap(e.tag,function(){if(u.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}h=s.renderer.getConfig().enableRenderingOptimization,ta(i,yr)[yr]={restoreStack:[],prevObject:null,currentContext:ta(i,yr)[yr].currentContext},ta(i,yr)[yr].currentContext.clear(),i.clearFullScreenLastFrame=!1;var y=d.getContext(),b=d.getDPR();if(ho(i.dprMatrix,[b,b,1]),pn(i.vpMatrix,i.dprMatrix,o.getOrthoMatrix()),i.clearFullScreen)h?(y.save(),m(u.root,y),y.restore()):m(u.root,y),i.removedRBushNodeAABBs=[];else{var x=i.safeMergeAABB.apply(i,[i.mergeDirtyAABBs(i.renderQueue)].concat(vt(i.removedRBushNodeAABBs.map(function(U){var le=U.minX,Z=U.minY,se=U.maxX,ve=U.maxY,ge=new kr;return ge.setMinMax([le,Z,0],[se,ve,0]),ge}))));if(i.removedRBushNodeAABBs=[],kr.isEmpty(x)){i.renderQueue=[];return}var E=i.convertAABB2Rect(x),S=E.x,_=E.y,k=E.width,O=E.height,P=vn(i.vec3a,[S,_,0],i.vpMatrix),N=vn(i.vec3b,[S+k,_,0],i.vpMatrix),R=vn(i.vec3c,[S,_+O,0],i.vpMatrix),L=vn(i.vec3d,[S+k,_+O,0],i.vpMatrix),D=Math.min(P[0],N[0],L[0],R[0]),$=Math.min(P[1],N[1],L[1],R[1]),X=Math.max(P[0],N[0],L[0],R[0]),K=Math.max(P[1],N[1],L[1],R[1]),V=Math.floor(D),ne=Math.floor($),we=Math.ceil(X-D),Se=Math.ceil(K-$);y.save(),i.clearRect(y,V,ne,we,Se,s.background),y.beginPath(),y.rect(V,ne,we,Se),y.clip(),y.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var pe=s.renderer.getConfig(),qe=pe.enableDirtyRectangleRenderingDebug;qe&&p.dispatchEvent(new Tr(pi.DIRTY_RECTANGLE,{dirtyRect:{x:V,y:ne,width:we,height:Se}}));var ee=i.searchDirtyObjects(x);ee.sort(function(U,le){return U.sortable.renderOrder-le.sortable.renderOrder}).forEach(function(U){U&&U.isVisible()&&!U.isCulled()&&i.renderDisplayObject(U,y,i.context,ta(i,yr)[yr],n)}),y.restore(),i.renderQueue.forEach(function(U){i.saveDirtyAABB(U)}),i.renderQueue=[]}ta(i,yr)[yr].restoreStack.forEach(function(){y.restore()}),ta(i,yr)[yr].restoreStack=[]}),l.hooks.render.tap(e.tag,function(y){i.clearFullScreen||i.renderQueue.push(y)})}},{key:"clearRect",value:function(r,n,i,a,s,o){r.clearRect(n,i,a,s),o&&(r.fillStyle=o,r.fillRect(n,i,a,s))}},{key:"renderDisplayObjectOptimized",value:function(r,n,i,a,s){var o=r.nodeName,l=!1,u=!1,c=this.context.styleRendererFactory[o],f=this.pathGeneratorFactory[o],h=r.parsedStyle.clipPath;if(h){l=!a.prevObject||!Hw(h.getWorldTransform(),a.prevObject.getWorldTransform()),l&&(this.applyWorldTransform(n,h),a.prevObject=null);var d=this.pathGeneratorFactory[h.nodeName];d&&(n.save(),u=!0,n.beginPath(),d(n,h.parsedStyle),n.closePath(),n.clip())}if(c){l=!a.prevObject||!Hw(r.getWorldTransform(),a.prevObject.getWorldTransform()),l&&this.applyWorldTransform(n,r);var p=!a.prevObject;if(!p){var v=a.prevObject.nodeName;o===ye.TEXT?p=v!==ye.TEXT:o===ye.IMAGE?p=v!==ye.IMAGE:p=v===ye.TEXT||v===ye.IMAGE}c.applyStyleToContext(n,r,p,a),a.prevObject=r}f&&(n.beginPath(),f(n,r.parsedStyle),o!==ye.LINE&&o!==ye.PATH&&o!==ye.POLYLINE&&n.closePath()),c&&c.drawToContext(n,r,ta(this,yr)[yr],this,s),u&&n.restore(),r.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(r,n,i,a,s){var o=r.nodeName,l=a.restoreStack[a.restoreStack.length-1];l&&!(r.compareDocumentPosition(l)&ur.DOCUMENT_POSITION_CONTAINS)&&(n.restore(),a.restoreStack.pop());var u=this.context.styleRendererFactory[o],c=this.pathGeneratorFactory[o],f=r.parsedStyle.clipPath;if(f){this.applyWorldTransform(n,f);var h=this.pathGeneratorFactory[f.nodeName];h&&(n.save(),a.restoreStack.push(r),n.beginPath(),h(n,f.parsedStyle),n.closePath(),n.clip())}u&&(this.applyWorldTransform(n,r),n.save(),this.applyAttributesToContext(n,r)),c&&(n.beginPath(),c(n,r.parsedStyle),o!==ye.LINE&&o!==ye.PATH&&o!==ye.POLYLINE&&n.closePath()),u&&(u.render(n,r.parsedStyle,r,i,this,s),n.restore()),r.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(r,n){var i=n.parsedStyle,a=i.stroke,s=i.fill,o=i.opacity,l=i.lineDash,u=i.lineDashOffset;l&&r.setLineDash(l),Qe(u)||(r.lineDashOffset=u),Qe(o)||(r.globalAlpha*=o),!Qe(a)&&!Array.isArray(a)&&!a.isNone&&(r.strokeStyle=n.attributes.stroke),!Qe(s)&&!Array.isArray(s)&&!s.isNone&&(r.fillStyle=n.attributes.fill)}},{key:"convertAABB2Rect",value:function(r){var n=r.getMin(),i=r.getMax(),a=Math.floor(n[0]),s=Math.floor(n[1]),o=Math.ceil(i[0]),l=Math.ceil(i[1]),u=o-a,c=l-s;return{x:a,y:s,width:u,height:c}}},{key:"mergeDirtyAABBs",value:function(r){var n=new kr;return r.forEach(function(i){var a=i.getRenderBounds();n.add(a);var s=i.renderable.dirtyRenderBounds;s&&n.add(s)}),n}},{key:"searchDirtyObjects",value:function(r){var n=r.getMin(),i=st(n,2),a=i[0],s=i[1],o=r.getMax(),l=st(o,2),u=l[0],c=l[1],f=this.rBush.search({minX:a,minY:s,maxX:u,maxY:c});return f.map(function(h){var d=h.displayObject;return d})}},{key:"saveDirtyAABB",value:function(r){var n=r.renderable;n.dirtyRenderBounds||(n.dirtyRenderBounds=new kr);var i=r.getRenderBounds();i&&n.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(r,n,i){i?(Dl(this.tmpMat4,n.getLocalTransform()),pn(this.tmpMat4,i,this.tmpMat4),pn(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(Dl(this.tmpMat4,n.getWorldTransform()),pn(this.tmpMat4,this.vpMatrix,this.tmpMat4)),r.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var r=new kr,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.forEach(function(s){r.add(s)}),r}}])}();DF.tag="CanvasRenderer";function gd(e,t,r,n,i,a,s){var o,l;if(e.image.nodeName==="rect"){var u=e.image.parsedStyle,c=u.width,f=u.height;l=n.contextService.getDPR();var h=n.config.offscreenCanvas;o=a.offscreenCanvasCreator.getOrCreateCanvas(h),o.width=c*l,o.height=f*l;var d=a.offscreenCanvasCreator.getOrCreateContext(h),p={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(g){i.renderDisplayObject(g,d,n,p,a)}),p.restoreStack.forEach(function(){d.restore()})}var v=s.getOrCreatePatternSync(t,e,r,o,l,t.getGeometryBounds().min,function(){t.renderable.dirty=!0,n.renderingService.dirtify()});return v}function md(e,t,r,n){var i;if(e.type===_s.LinearGradient||e.type===_s.RadialGradient){var a=t.getGeometryBounds(),s=a&&a.halfExtents[0]*2||1,o=a&&a.halfExtents[1]*2||1,l=a&&a.min||[0,0];i=n.getOrCreateGradient(ot(ot({type:e.type},e.value),{},{min:l,width:s,height:o}),r)}return i}var th=["shadowBlur","shadowOffsetX","shadowOffsetY"],cM=["lineCap","lineJoin","miterLimit"],Sr={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},fM={};function fr(e,t,r,n){var i=n.has(t)?n.get(t):Sr[t];return i!==r&&(t==="lineDash"?e.setLineDash(r):e[t]=r,n.set(t,r)),i}var Rre=function(){function e(t){ke(this,e),this.imagePool=t}return Te(e,[{key:"applyAttributesToContext",value:function(r,n){}},{key:"render",value:function(r,n,i,a,s,o){}},{key:"applyCommonStyleToContext",value:function(r,n,i,a){var s=i?fM:a.prevObject.parsedStyle,o=n.parsedStyle;(i||o.opacity!==s.opacity)&&fr(r,"globalAlpha",Qe(o.opacity)?Sr.globalAlpha:o.opacity,a.currentContext),(i||o.blend!==s.blend)&&fr(r,"globalCompositeOperation",Qe(o.blend)?Sr.globalCompositeOperation:o.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(r,n,i,a){var s=i?fM:a.prevObject.parsedStyle,o=n.parsedStyle,l=o.lineWidth,u=l===void 0?Sr.lineWidth:l,c=o.fill&&!o.fill.isNone,f=o.stroke&&!o.stroke.isNone&&u>0;if(f){if(i||n.attributes.stroke!==a.prevObject.attributes.stroke){var h=!Qe(o.stroke)&&!Array.isArray(o.stroke)&&!o.stroke.isNone?n.attributes.stroke:Sr.strokeStyle;fr(r,"strokeStyle",h,a.currentContext)}(i||o.lineWidth!==s.lineWidth)&&fr(r,"lineWidth",Qe(o.lineWidth)?Sr.lineWidth:o.lineWidth,a.currentContext),(i||o.lineDash!==s.lineDash)&&fr(r,"lineDash",o.lineDash||Sr.lineDash,a.currentContext),(i||o.lineDashOffset!==s.lineDashOffset)&&fr(r,"lineDashOffset",Qe(o.lineDashOffset)?Sr.lineDashOffset:o.lineDashOffset,a.currentContext);for(var d=0;d<cM.length;d++){var p=cM[d];(i||o[p]!==s[p])&&fr(r,p,Qe(o[p])?Sr[p]:o[p],a.currentContext)}}if(c&&(i||n.attributes.fill!==a.prevObject.attributes.fill)){var v=!Qe(o.fill)&&!Array.isArray(o.fill)&&!o.fill.isNone?n.attributes.fill:Sr.fillStyle;fr(r,"fillStyle",v,a.currentContext)}}},{key:"applyStyleToContext",value:function(r,n,i,a){var s=n.nodeName;this.applyCommonStyleToContext(r,n,i,a),s===ye.IMAGE||this.applyStrokeFillStyleToContext(r,n,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(r,n,i,a){var s=n.parsedStyle;if(i){fr(r,"shadowColor",s.shadowColor.toString(),a.currentContext);for(var o=0;o<th.length;o++){var l=th[o];fr(r,l,s[l]||Sr[l],a.currentContext)}}s.filter&&s.filter.length&&fr(r,"filter",n.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(r,n,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n){fr(r,"shadowColor",Sr.shadowColor,a.currentContext);for(var o=0;o<th.length;o++){var l=th[o];fr(r,l,Sr[l],a.currentContext)}}if(i)if(n&&s){var u=r.filter;!Qe(u)&&u.indexOf("drop-shadow")>-1&&fr(r,"filter",u.replace(/drop-shadow\([^)]*\)/,"").trim()||Sr.filter,a.currentContext)}else fr(r,"filter",Sr.filter,a.currentContext)}},{key:"fillToContext",value:function(r,n,i,a,s){var o=this,l=n.parsedStyle,u=l.fill,c=l.fillRule,f=null;if(Array.isArray(u)&&u.length>0)u.forEach(function(d){var p=fr(r,"fillStyle",md(d,n,r,o.imagePool),i.currentContext);f=f??p,c?r.fill(c):r.fill()});else{if(Do(u)){var h=gd(u,n,r,n.ownerDocument.defaultView.context,a,s,this.imagePool);h&&(r.fillStyle=h,f=!0)}c?r.fill(c):r.fill()}f!==null&&fr(r,"fillStyle",f,i.currentContext)}},{key:"strokeToContext",value:function(r,n,i,a,s){var o=this,l=n.parsedStyle.stroke,u=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(h){var d=fr(r,"strokeStyle",md(h,n,r,o.imagePool),i.currentContext);u=u??d,r.stroke()});else{if(Do(l)){var c=gd(l,n,r,n.ownerDocument.defaultView.context,a,s,this.imagePool);if(c){var f=fr(r,"strokeStyle",c,i.currentContext);u=u??f}}r.stroke()}u!==null&&fr(r,"strokeStyle",u,i.currentContext)}},{key:"drawToContext",value:function(r,n,i,a,s){var o,l=n.nodeName,u=n.parsedStyle,c=u.opacity,f=c===void 0?Sr.globalAlpha:c,h=u.fillOpacity,d=h===void 0?Sr.fillOpacity:h,p=u.strokeOpacity,v=p===void 0?Sr.strokeOpacity:p,g=u.lineWidth,m=g===void 0?Sr.lineWidth:g,y=u.fill&&!u.fill.isNone,b=u.stroke&&!u.stroke.isNone&&m>0;if(!(!y&&!b)){var x=!Qe(u.shadowColor)&&u.shadowBlur>0,E=u.shadowType==="inner",S=((o=u.fill)===null||o===void 0?void 0:o.alpha)===0,_=!!(u.filter&&u.filter.length),k=x&&b&&(l===ye.PATH||l===ye.LINE||l===ye.POLYLINE||S||E),O=null;if(y){k||this.applyShadowAndFilterStyleToContext(r,n,x,i);var P=f*d;O=fr(r,"globalAlpha",P,i.currentContext),this.fillToContext(r,n,i,a,s),k||this.clearShadowAndFilterStyleForContext(r,x,_,i)}if(b){var N=!1,R=f*v,L=fr(r,"globalAlpha",R,i.currentContext);if(O=y?O:L,k&&(this.applyShadowAndFilterStyleToContext(r,n,x,i),N=!0,E)){var D=r.globalCompositeOperation;r.globalCompositeOperation="source-atop",this.strokeToContext(r,n,i,a,s),r.globalCompositeOperation=D,this.clearShadowAndFilterStyleForContext(r,x,_,i,!0)}this.strokeToContext(r,n,i,a,s),N&&this.clearShadowAndFilterStyleForContext(r,x,_,i)}O!==null&&fr(r,"globalAlpha",O,i.currentContext)}}}])}(),M2=function(e){function t(){return ke(this,t),ut(this,t,arguments)}return ct(t,e),Te(t,[{key:"render",value:function(n,i,a,s,o,l){var u=i.fill,c=i.fillRule,f=i.opacity,h=f===void 0?1:f,d=i.fillOpacity,p=d===void 0?1:d,v=i.stroke,g=i.strokeOpacity,m=g===void 0?1:g,y=i.lineWidth,b=y===void 0?1:y,x=i.lineCap,E=i.lineJoin,S=i.shadowType,_=i.shadowColor,k=i.shadowBlur,O=i.filter,P=i.miterLimit,N=u&&!u.isNone,R=v&&!v.isNone&&b>0,L=(u==null?void 0:u.alpha)===0,D=!!(O&&O.length),$=!Qe(_)&&k>0,X=a.nodeName,K=S==="inner",V=R&&$&&(X===ye.PATH||X===ye.LINE||X===ye.POLYLINE||L||K);N&&(n.globalAlpha=h*p,V||yd(a,n,$),FF(n,a,u,c,s,o,l,this.imagePool),V||this.clearShadowAndFilter(n,D,$)),R&&(n.globalAlpha=h*m,n.lineWidth=b,Qe(P)||(n.miterLimit=P),Qe(x)||(n.lineCap=x),Qe(E)||(n.lineJoin=E),V&&(K&&(n.globalCompositeOperation="source-atop"),yd(a,n,!0),K&&(bx(n,a,v,s,o,l,this.imagePool),n.globalCompositeOperation=Sr.globalCompositeOperation,this.clearShadowAndFilter(n,D,!0))),bx(n,a,v,s,o,l,this.imagePool))}},{key:"clearShadowAndFilter",value:function(n,i,a){if(a&&(n.shadowColor="transparent",n.shadowBlur=0),i){var s=n.filter;!Qe(s)&&s.indexOf("drop-shadow")>-1&&(n.filter=s.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(Rre);function yd(e,t,r){var n=e.parsedStyle,i=n.filter,a=n.shadowColor,s=n.shadowBlur,o=n.shadowOffsetX,l=n.shadowOffsetY;i&&i.length&&(t.filter=e.style.filter),r&&(t.shadowColor=a.toString(),t.shadowBlur=s||0,t.shadowOffsetX=o||0,t.shadowOffsetY=l||0)}function FF(e,t,r,n,i,a,s,o){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(r)?r.forEach(function(u){e.fillStyle=md(u,t,e,o),l||(n?e.fill(n):e.fill())}):(Do(r)&&(e.fillStyle=gd(r,t,e,i,a,s,o)),l||(n?e.fill(n):e.fill()))}function bx(e,t,r,n,i,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(r)?r.forEach(function(l){e.strokeStyle=md(l,t,e,s),o||e.stroke()}):(Do(r)&&(e.strokeStyle=gd(r,t,e,n,i,a,s)),o||e.stroke())}function Lre(e,t){var r=st(e,4),n=r[0],i=r[1],a=r[2],s=r[3],o=st(t,4),l=o[0],u=o[1],c=o[2],f=o[3],h=Math.max(n,l),d=Math.max(i,u),p=Math.min(n+a,l+c),v=Math.min(i+s,u+f);return p<=h||v<=d?null:[h,d,p-h,v-d]}function Ire(e,t){var r=vn(mt(),[e[0],e[1],0],t),n=vn(mt(),[e[0]+e[2],e[1],0],t),i=vn(mt(),[e[0],e[1]+e[3],0],t),a=vn(mt(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(r[0],n[0],i[0],a[0]),Math.min(r[1],n[1],i[1],a[1]),Math.max(r[0],n[0],i[0],a[0])-Math.min(r[0],n[0],i[0],a[0]),Math.max(r[1],n[1],i[1],a[1])-Math.min(r[1],n[1],i[1],a[1])]}var Dre=function(e){function t(){return ke(this,t),ut(this,t,arguments)}return ct(t,e),Te(t,[{key:"renderDownSampled",value:function(n,i,a,s){var o=s.src,l=s.imageCache;if(!l.downSampled){this.imagePool.createDownSampledImage(o,a).then(function(){a.ownerDocument&&(a.renderable.dirty=!0,a.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(u){console.error(u)});return}n.drawImage(l.downSampled,Math.floor(s.drawRect[0]),Math.floor(s.drawRect[1]),Math.ceil(s.drawRect[2]),Math.ceil(s.drawRect[3]))}},{key:"renderTile",value:function(n,i,a,s){var o=s.src,l=s.imageCache,u=s.imageRect,c=s.drawRect,f=l.size,h=n.getTransform(),d=h.a,p=h.b,v=h.c,g=h.d,m=h.e,y=h.f;if(n.resetTransform(),!(l!=null&&l.gridSize)){this.imagePool.createImageTiles(o,[],function(){a.ownerDocument&&(a.renderable.dirty=!0,a.ownerDocument.defaultView.context.renderingService.dirtify())},a).catch(function($){console.error($)});return}for(var b=[f[0]/u[2],f[1]/u[3]],x=[l.tileSize[0]/b[0],l.tileSize[1]/b[1]],E=[Math.floor((c[0]-u[0])/x[0]),Math.ceil((c[0]+c[2]-u[0])/x[0])],S=E[0],_=E[1],k=[Math.floor((c[1]-u[1])/x[1]),Math.ceil((c[1]+c[3]-u[1])/x[1])],O=k[0],P=k[1],N=O;N<=P;N++)for(var R=S;R<=_;R++){var L=l.tiles[N][R];if(L){var D=[Math.floor(u[0]+L.tileX*x[0]),Math.floor(u[1]+L.tileY*x[1]),Math.ceil(x[0]),Math.ceil(x[1])];n.drawImage(L.data,D[0],D[1],D[2],D[3])}}n.setTransform(d,p,v,g,m,y)}},{key:"render",value:function(n,i,a){var s=i.x,o=s===void 0?0:s,l=i.y,u=l===void 0?0:l,c=i.width,f=i.height,h=i.src,d=i.shadowColor,p=i.shadowBlur,v=this.imagePool.getImageSync(h,a),g=v==null?void 0:v.img,m=c,y=f;if(g){m||(m=g.width),y||(y=g.height);var b=!Qe(d)&&p>0;yd(a,n,b);try{var x=a.ownerDocument.defaultView.getContextService().getDomElement(),E=x.width,S=x.height,_=n.getTransform(),k=_.a,O=_.b,P=_.c,N=_.d,R=_.e,L=_.f,D=a5(k,P,0,0,O,N,0,0,0,0,1,0,R,L,0,1),$=Ire([o,u,m,y],D),X=Lre([0,0,E,S],$);if(!X)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){t.renderFull(n,i,a,{image:g,drawRect:[o,u,m,y]});return}var K=$[2]/v.size[0];if(K<(v.downSamplingRate||.5)){this.renderDownSampled(n,i,a,{src:h,imageCache:v,drawRect:[o,u,m,y]});return}if(!T2.isSupportTile){t.renderFull(n,i,a,{image:g,drawRect:[o,u,m,y]});return}this.renderTile(n,i,a,{src:h,imageCache:v,imageRect:$,drawRect:X})}catch{}}}},{key:"drawToContext",value:function(n,i,a,s,o){this.render(n,i.parsedStyle,i)}}],[{key:"renderFull",value:function(n,i,a,s){n.drawImage(s.image,Math.floor(s.drawRect[0]),Math.floor(s.drawRect[1]),Math.ceil(s.drawRect[2]),Math.ceil(s.drawRect[3]))}}])}(M2),Fre=function(e){function t(){return ke(this,t),ut(this,t,arguments)}return ct(t,e),Te(t,[{key:"render",value:function(n,i,a,s,o,l){a.getBounds();var u=i.lineWidth,c=u===void 0?1:u,f=i.textAlign,h=f===void 0?"start":f,d=i.textBaseline,p=d===void 0?"alphabetic":d,v=i.lineJoin,g=v===void 0?"miter":v,m=i.miterLimit,y=m===void 0?10:m,b=i.letterSpacing,x=b===void 0?0:b,E=i.stroke,S=i.fill,_=i.fillRule,k=i.fillOpacity,O=k===void 0?1:k,P=i.strokeOpacity,N=P===void 0?1:P,R=i.opacity,L=R===void 0?1:R,D=i.metrics,$=i.x,X=$===void 0?0:$,K=i.y,V=K===void 0?0:K,ne=i.dx,we=i.dy,Se=i.shadowColor,pe=i.shadowBlur,qe=D.font,ee=D.lines,U=D.height,le=D.lineHeight,Z=D.lineMetrics;n.font=qe,n.lineWidth=c,n.textAlign=h==="middle"?"center":h;var se=p;se==="alphabetic"&&(se="bottom"),n.lineJoin=g,Qe(y)||(n.miterLimit=y);var ve=V;p==="middle"?ve+=-U/2-le/2:p==="bottom"||p==="alphabetic"||p==="ideographic"?ve+=-U:(p==="top"||p==="hanging")&&(ve+=-le);var ge=X+(ne||0);ve+=we||0,ee.length===1&&(se==="bottom"?(se="middle",ve-=.5*U):se==="top"&&(se="middle",ve+=.5*U)),n.textBaseline=se;var Me=!Qe(Se)&&pe>0;yd(a,n,Me);for(var W=0;W<ee.length;W++){var H=c/2+ge;ve+=le,!Qe(E)&&!E.isNone&&c&&this.drawLetterSpacing(n,a,ee[W],Z[W],h,H,ve,x,S,_,O,E,N,L,!0,s,o,l),Qe(S)||this.drawLetterSpacing(n,a,ee[W],Z[W],h,H,ve,x,S,_,O,E,N,L,!1,s,o,l)}}},{key:"drawLetterSpacing",value:function(n,i,a,s,o,l,u,c,f,h,d,p,v,g,m,y,b,x){if(c===0){m?this.strokeText(n,i,a,l,u,p,v,y,b,x):this.fillText(n,i,a,l,u,f,h,d,g,y,b,x);return}var E=n.textAlign;n.textAlign="left";var S=l;o==="center"||o==="middle"?S=l-s.width/2:(o==="right"||o==="end")&&(S=l-s.width);for(var _=Array.from(a),k=n.measureText(a).width,O=0,P=0;P<_.length;++P){var N=_[P];m?this.strokeText(n,i,N,S,u,p,v,y,b,x):this.fillText(n,i,N,S,u,f,h,d,g,y,b,x),O=n.measureText(a.substring(P+1)).width,S+=k-O+c,k=O}n.textAlign=E}},{key:"fillText",value:function(n,i,a,s,o,l,u,c,f,h,d,p){FF(n,i,l,u,h,d,p,this.imagePool,!0);var v,g=!Qe(c)&&c!==1;g&&(v=n.globalAlpha,n.globalAlpha=c*f),n.fillText(a,s,o),g&&(n.globalAlpha=v)}},{key:"strokeText",value:function(n,i,a,s,o,l,u,c,f,h){bx(n,i,l,c,f,h,this.imagePool,!0);var d,p=!Qe(u)&&u!==1;p&&(d=n.globalAlpha,n.globalAlpha=u),n.strokeText(a,s,o),p&&(n.globalAlpha=d)}},{key:"drawToContext",value:function(n,i,a,s,o){this.render(n,i.parsedStyle,i,i.ownerDocument.defaultView.context,s,o)}}])}(M2),Bre=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,t),r=ut(this,t),r.name="canvas-renderer",r.options=n,r}return ct(t,e),Te(t,[{key:"init",value:function(){var n,i=ot({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,s=new M2(a),o=(n={},$e($e($e($e($e($e($e($e($e($e(n,ye.CIRCLE,s),ye.ELLIPSE,s),ye.RECT,s),ye.IMAGE,new Dre(a)),ye.TEXT,new Fre(a)),ye.LINE,s),ye.POLYLINE,s),ye.POLYGON,s),ye.PATH,s),ye.GROUP,void 0),$e($e($e(n,ye.HTML,void 0),ye.MESH,void 0),ye.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=o,this.context.styleRendererFactory=o,this.addRenderingPlugin(new DF(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Xs);/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.24
 * @date 5/9/2025, 8:20:12 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var BF=function(){function e(){ke(this,e)}return Te(e,[{key:"apply",value:function(r,n){var i=this,a=r.renderingService,s=r.renderingContext,o=r.config;this.context=r;var l=s.root.ownerDocument.defaultView,u=function(k){a.hooks.pointerMove.call(k)},c=function(k){a.hooks.pointerUp.call(k)},f=function(k){a.hooks.pointerDown.call(k)},h=function(k){a.hooks.pointerOver.call(k)},d=function(k){a.hooks.pointerOut.call(k)},p=function(k){a.hooks.pointerCancel.call(k)},v=function(k){a.hooks.pointerWheel.call(k)},g=function(k){a.hooks.click.call(k)},m=function(k){n.globalThis.document.addEventListener("pointermove",u,!0),k.addEventListener("pointerdown",f,!0),k.addEventListener("pointerleave",d,!0),k.addEventListener("pointerover",h,!0),n.globalThis.addEventListener("pointerup",c,!0),n.globalThis.addEventListener("pointercancel",p,!0)},y=function(k){k.addEventListener("touchstart",f,!0),k.addEventListener("touchend",c,!0),k.addEventListener("touchmove",u,!0),k.addEventListener("touchcancel",p,!0)},b=function(k){n.globalThis.document.addEventListener("mousemove",u,!0),k.addEventListener("mousedown",f,!0),k.addEventListener("mouseout",d,!0),k.addEventListener("mouseover",h,!0),n.globalThis.addEventListener("mouseup",c,!0)},x=function(k){n.globalThis.document.removeEventListener("pointermove",u,!0),k.removeEventListener("pointerdown",f,!0),k.removeEventListener("pointerleave",d,!0),k.removeEventListener("pointerover",h,!0),n.globalThis.removeEventListener("pointerup",c,!0),n.globalThis.removeEventListener("pointercancel",p,!0)},E=function(k){k.removeEventListener("touchstart",f,!0),k.removeEventListener("touchend",c,!0),k.removeEventListener("touchmove",u,!0),k.removeEventListener("touchcancel",p,!0)},S=function(k){n.globalThis.document.removeEventListener("mousemove",u,!0),k.removeEventListener("mousedown",f,!0),k.removeEventListener("mouseout",d,!0),k.removeEventListener("mouseover",h,!0),n.globalThis.removeEventListener("mouseup",c,!0)};a.hooks.init.tap(e.tag,function(){var _=i.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(_.style.msContentZooming="none",_.style.msTouchAction="none"):l.supportsPointerEvents&&(_.style.touchAction="none"),l.supportsPointerEvents?m(_):b(_),l.supportsTouchEvents&&y(_),o.useNativeClickEvent&&_.addEventListener("click",g,!0),_.addEventListener("wheel",v,{passive:!0,capture:!0})}),a.hooks.destroy.tap(e.tag,function(){var _=i.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(_.style.msContentZooming="",_.style.msTouchAction=""):l.supportsPointerEvents&&(_.style.touchAction=""),l.supportsPointerEvents?x(_):S(_),l.supportsTouchEvents&&E(_),o.useNativeClickEvent&&_.removeEventListener("click",g,!0),_.removeEventListener("wheel",v,!0)})}}])}();BF.tag="DOMInteraction";var $re=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.name="dom-interaction",r}return ct(t,e),Te(t,[{key:"init",value:function(){this.addRenderingPlugin(new BF)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Xs);/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.24
 * @date 5/9/2025, 8:20:22 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var qre="g-canvas-camera",$F=function(){function e(){ke(this,e),this.displayObjectHTMLElementMap=new WeakMap}return Te(e,[{key:"joinTransformMatrix",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([r[0],r[1],r[4],r[5],r[12]+n[0],r[13]+n[1]].join(","),")")}},{key:"apply",value:function(r,n){var i=this,a=r.camera,s=r.renderingContext,o=r.renderingService;this.context=r;var l=s.root.ownerDocument.defaultView,u=l.context.eventService.nativeHTMLMap,c=function(m,y){y.style.transform=i.joinTransformMatrix(m.getWorldTransform(),m.getOrigin())},f=function(m){var y=m.target;if(y.nodeName===ye.HTML){i.$camera||(i.$camera=i.createCamera(a));var b=i.getOrCreateEl(y);i.$camera.appendChild(b),Object.keys(y.attributes).forEach(function(x){i.updateAttribute(x,y)}),c(y,b),u.set(b,y)}},h=function(m){var y=m.target;if(y.nodeName===ye.HTML&&i.$camera){var b=i.getOrCreateEl(y);b&&(b.remove(),u.delete(b))}},d=function(m){var y=m.target;if(y.nodeName===ye.HTML){var b=m.attrName;i.updateAttribute(b,y)}},p=function(m){var y=m.target,b=y.nodeName===ye.FRAGMENT?y.childNodes:[y];b.forEach(function(x){if(x.nodeName===ye.HTML){var E=i.getOrCreateEl(x);c(x,E)}})},v=function(){if(i.$camera){var m=i.context.config,y=m.width,b=m.height;i.$camera.parentElement.style.width="".concat(y||0,"px"),i.$camera.parentElement.style.height="".concat(b||0,"px")}};o.hooks.init.tap(e.tag,function(){l.addEventListener(pi.RESIZE,v),l.addEventListener(gt.MOUNTED,f),l.addEventListener(gt.UNMOUNTED,h),l.addEventListener(gt.ATTR_MODIFIED,d),l.addEventListener(gt.BOUNDS_CHANGED,p)}),o.hooks.endFrame.tap(e.tag,function(){i.$camera&&s.renderReasons.has(xl.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),o.hooks.destroy.tap(e.tag,function(){i.$camera&&i.$camera.remove(),l.removeEventListener(pi.RESIZE,v),l.removeEventListener(gt.MOUNTED,f),l.removeEventListener(gt.UNMOUNTED,h),l.removeEventListener(gt.ATTR_MODIFIED,d),l.removeEventListener(gt.BOUNDS_CHANGED,p)})}},{key:"createCamera",value:function(r){var n=this.context.config,i=n.document,a=n.width,s=n.height,o=this.context.contextService.getDomElement(),l=o.parentNode;if(l){var u=qre,c=l.querySelector("#".concat(u));if(!c){var f=(i||document).createElement("div");f.style.overflow="hidden",f.style.pointerEvents="none",f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.width="".concat(a||0,"px"),f.style.height="".concat(s||0,"px");var h=(i||document).createElement("div");c=h,h.id=u,h.style.position="absolute",h.style.left="".concat(o.offsetLeft||0,"px"),h.style.top="".concat(o.offsetTop||0,"px"),h.style.transformOrigin="left top",h.style.transform=this.joinTransformMatrix(r.getOrthoMatrix()),h.style.pointerEvents="none",h.style.width="100%",h.style.height="100%",f.appendChild(h),l.appendChild(f)}return c}return null}},{key:"getOrCreateEl",value:function(r){var n=this.context.config.document,i=this.displayObjectHTMLElementMap.get(r);return i||(i=(n||document).createElement("div"),r.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(r,i),r.id&&(i.id=r.id),r.name&&i.setAttribute("name",r.name),r.className&&(i.className=r.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(r.getWorldTransform(),r.getOrigin())),i}},{key:"updateAttribute",value:function(r,n){var i=this.getOrCreateEl(n);switch(r){case"innerHTML":var a=n.parsedStyle.innerHTML;Ft(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(n.parsedStyle.x,"px");break;case"y":i.style.top="".concat(n.parsedStyle.y,"px");break;case"transformOrigin":var s=n.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(s[0].buildCSSText(null,null,"")," ").concat(s[1].buildCSSText(null,null,""));break;case"width":var o=n.parsedStyle.width;i.style.width=Ye(o)?"".concat(o,"px"):o.toString();break;case"height":var l=n.parsedStyle.height;i.style.height=Ye(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var u=n.parsedStyle.zIndex;i.style["z-index"]="".concat(u);break;case"visibility":var c=n.parsedStyle.visibility;i.style.visibility=c;break;case"pointerEvents":var f=n.parsedStyle.pointerEvents,h=f===void 0?"auto":f;i.style.pointerEvents=h;break;case"opacity":var d=n.parsedStyle.opacity;i.style.opacity="".concat(d);break;case"fill":var p=n.parsedStyle.fill,v="";hd(p)?p.isNone?v="transparent":v=n.getAttribute("fill"):Array.isArray(p)?v=n.getAttribute("fill"):Do(p),i.style.background=v;break;case"stroke":var g=n.parsedStyle.stroke,m="";hd(g)?g.isNone?m="transparent":m=n.getAttribute("stroke"):Array.isArray(g)?m=n.getAttribute("stroke"):Do(g),i.style["border-color"]=m,i.style["border-style"]="solid";break;case"lineWidth":var y=n.parsedStyle.lineWidth;i.style["border-width"]="".concat(y||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var b=n.style.filter;i.style.filter=b;break;default:!Qe(n.style[r])&&n.style[r]!==""&&(i.style[r]=n.style[r])}}}])}();$F.tag="HTMLRendering";var zre=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.name="html-renderer",r}return ct(t,e),Te(t,[{key:"init",value:function(){this.addRenderingPlugin(new $F)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Xs);/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.43
 * @date 5/9/2025, 8:22:49 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var jre=function(){function e(t){ke(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return Te(e,[{key:"init",value:function(){var r=this.canvasConfig,n=r.container,i=r.canvas;if(i)this.$canvas=i,n&&i.parentElement!==n&&n.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(n&&(this.$container=Ft(n)?document.getElementById(n):n,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(r,n){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*r,this.$canvas.height=this.dpr*n,AJ(this.$canvas,r,n)),this.renderingContext.renderReasons.add(xl.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(r){this.$container&&this.$container.style&&(this.$container.style.cursor=r)}},{key:"toDataURL",value:function(){var t=Is(Qr().mark(function n(){var i,a,s,o=arguments;return Qr().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=o.length>0&&o[0]!==void 0?o[0]:{},a=i.type,s=i.encoderOptions,u.abrupt("return",this.context.canvas.toDataURL(a,s));case 3:case"end":return u.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}])}(),Gre=function(e){function t(){var r;ke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ut(this,t,[].concat(i)),r.name="canvas-context-register",r}return ct(t,e),Te(t,[{key:"init",value:function(){this.context.ContextService=jre}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Xs),zve=function(e){function t(r){var n;return ke(this,t),n=ut(this,t,[r]),n.registerPlugin(new Gre),n.registerPlugin(new Cre),n.registerPlugin(new ure),n.registerPlugin(new Bre),n.registerPlugin(new $re),n.registerPlugin(new Are),n.registerPlugin(new zre),n}return ct(t,e),Te(t)}(AZ),Wre="*",qF=function(){function e(){this._events={}}return e.prototype.on=function(t,r,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:r,once:!!n}),this},e.prototype.once=function(t,r){return this.on(t,r,!0)},e.prototype.emit=function(t){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this._events[t]||[],s=this._events[Wre]||[],o=function(l){for(var u=l.length,c=0;c<u;c++)if(l[c]){var f=l[c],h=f.callback,d=f.once;d&&(l.splice(c,1),l.length===0&&delete r._events[t],u--,c--),h.apply(r,n)}};o(a),o(s)},e.prototype.off=function(t,r){if(!t)this._events={};else if(!r)delete this._events[t];else{for(var n=this._events[t]||[],i=n.length,a=0;a<i;a++)n[a].callback===r&&(n.splice(a,1),i--,a--);n.length===0&&delete this._events[t]}return this},e.prototype.getEvents=function(){return this._events},e}();function wx(e,t,r,n){for(;e.length;){const i=e.shift();if(r(i))return!0;t.add(i.id),n(i.id).forEach(s=>{t.has(s.id)||(t.add(s.id),e.push(s))})}return!1}function bd(e,t,r,n){if(r(e))return!0;t.add(e.id);for(const a of n(e.id))if(!t.has(a.id)&&bd(a,t,r,n))return!0;return!1}const hM=()=>!0;class Vre{constructor(t){Qt(this,"graph");Qt(this,"nodeFilter");Qt(this,"edgeFilter");Qt(this,"cacheEnabled");Qt(this,"inEdgesMap",new Map);Qt(this,"outEdgesMap",new Map);Qt(this,"bothEdgesMap",new Map);Qt(this,"allNodesMap",new Map);Qt(this,"allEdgesMap",new Map);Qt(this,"clearCache",()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()});Qt(this,"refreshCache",()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(t=>t.id))});Qt(this,"updateCache",t=>{const r=new Set;t.forEach(n=>{const i=this.bothEdgesMap.get(n);if(i&&i.forEach(a=>r.add(a.id)),!this.hasNode(n))this.inEdgesMap.delete(n),this.outEdgesMap.delete(n),this.bothEdgesMap.delete(n),this.allNodesMap.delete(n);else{const a=this.graph.getRelatedEdges(n,"in").filter(this.edgeFilter),s=this.graph.getRelatedEdges(n,"out").filter(this.edgeFilter),o=Array.from(new Set([...a,...s]));o.forEach(l=>r.add(l.id)),this.inEdgesMap.set(n,a),this.outEdgesMap.set(n,s),this.bothEdgesMap.set(n,o),this.allNodesMap.set(n,this.graph.getNode(n))}}),r.forEach(n=>{this.hasEdge(n)?this.allEdgesMap.set(n,this.graph.getEdge(n)):this.allEdgesMap.delete(n)})});Qt(this,"handleGraphChanged",t=>{const r=new Set;t.changes.forEach(n=>{switch(n.type){case"NodeAdded":r.add(n.value.id);break;case"NodeDataUpdated":r.add(n.id);break;case"EdgeAdded":r.add(n.value.source),r.add(n.value.target);break;case"EdgeUpdated":(n.propertyName==="source"||n.propertyName==="target")&&(r.add(n.oldValue),r.add(n.newValue));break;case"EdgeDataUpdated":if(t.graph.hasEdge(n.id)){const i=t.graph.getEdge(n.id);r.add(i.source),r.add(i.target)}break;case"EdgeRemoved":r.add(n.value.source),r.add(n.value.target);break;case"NodeRemoved":r.add(n.value.id);break}}),this.updateCache(r)});this.graph=t.graph;const r=t.nodeFilter||hM,n=t.edgeFilter||hM;this.nodeFilter=r,this.edgeFilter=i=>{const{source:a,target:s}=this.graph.getEdgeDetail(i.id);return!r(a)||!r(s)?!1:n(i,a,s)},t.cache==="auto"?(this.cacheEnabled=!0,this.startAutoCache()):t.cache==="manual"?this.cacheEnabled=!0:this.cacheEnabled=!1}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(t){this.getNode(t)}hasNode(t){if(!this.graph.hasNode(t))return!1;const r=this.graph.getNode(t);return this.nodeFilter(r)}areNeighbors(t,r){return this.checkNodeExistence(t),this.getNeighbors(r).some(n=>n.id===t)}getNode(t){const r=this.graph.getNode(t);if(!this.nodeFilter(r))throw new Error("Node not found for id: "+t);return r}getRelatedEdges(t,r){return this.checkNodeExistence(t),this.cacheEnabled?r==="in"?this.inEdgesMap.get(t):r==="out"?this.outEdgesMap.get(t):this.bothEdgesMap.get(t):this.graph.getRelatedEdges(t,r).filter(this.edgeFilter)}getDegree(t,r){return this.getRelatedEdges(t,r).length}getSuccessors(t){const n=this.getRelatedEdges(t,"out").map(i=>this.getNode(i.target));return Array.from(new Set(n))}getPredecessors(t){const n=this.getRelatedEdges(t,"in").map(i=>this.getNode(i.source));return Array.from(new Set(n))}getNeighbors(t){const r=this.getPredecessors(t),n=this.getSuccessors(t);return Array.from(new Set([...r,...n]))}hasEdge(t){if(!this.graph.hasEdge(t))return!1;const r=this.graph.getEdge(t);return this.edgeFilter(r)}getEdge(t){const r=this.graph.getEdge(t);if(!this.edgeFilter(r))throw new Error("Edge not found for id: "+t);return r}getEdgeDetail(t){const r=this.getEdge(t);return{edge:r,source:this.getNode(r.source),target:this.getNode(r.target)}}hasTreeStructure(t){return this.graph.hasTreeStructure(t)}getRoots(t){return this.graph.getRoots(t).filter(this.nodeFilter)}getChildren(t,r){return this.checkNodeExistence(t),this.graph.getChildren(t,r).filter(this.nodeFilter)}getParent(t,r){this.checkNodeExistence(t);const n=this.graph.getParent(t,r);return!n||!this.nodeFilter(n)?null:n}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(t,r,n="out"){const i={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];wx([this.getNode(t)],new Set,r,i)}dfs(t,r,n="out"){const i={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];bd(this.getNode(t),new Set,r,i)}}class Wr extends qF{constructor(r){super();Qt(this,"nodeMap",new Map);Qt(this,"edgeMap",new Map);Qt(this,"inEdgesMap",new Map);Qt(this,"outEdgesMap",new Map);Qt(this,"bothEdgesMap",new Map);Qt(this,"treeIndices",new Map);Qt(this,"changes",[]);Qt(this,"batchCount",0);Qt(this,"onChanged",()=>{});Qt(this,"batch",r=>{this.batchCount+=1,r(),this.batchCount-=1,this.batchCount||this.commit()});r&&(r.nodes&&this.addNodes(r.nodes),r.edges&&this.addEdges(r.edges),r.tree&&this.addTree(r.tree),r.onChanged&&(this.onChanged=r.onChanged))}commit(){const r=this.changes;this.changes=[];const n={graph:this,changes:r};this.emit("changed",n),this.onChanged(n)}reduceChanges(r){let n=[];return r.forEach(i=>{switch(i.type){case"NodeRemoved":{let a=!1;n=n.filter(s=>{if(s.type==="NodeAdded"){const o=s.value.id===i.value.id;return o&&(a=!0),!o}else{if(s.type==="NodeDataUpdated")return s.id!==i.value.id;if(s.type==="TreeStructureChanged")return s.nodeId!==i.value.id}return!0}),a||n.push(i);break}case"EdgeRemoved":{let a=!1;n=n.filter(s=>{if(s.type==="EdgeAdded"){const o=s.value.id===i.value.id;return o&&(a=!0),!o}else if(s.type==="EdgeDataUpdated"||s.type==="EdgeUpdated")return s.id!==i.value.id;return!0}),a||n.push(i);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const a=n.findIndex(o=>o.type===i.type&&o.id===i.id&&(i.propertyName===void 0||o.propertyName===i.propertyName)),s=n[a];s?i.propertyName!==void 0?s.newValue=i.newValue:(n.splice(a,1),n.push(i)):n.push(i);break}case"TreeStructureDetached":{n=n.filter(a=>a.type==="TreeStructureAttached"||a.type==="TreeStructureChanged"?a.treeKey!==i.treeKey:!0),n.push(i);break}case"TreeStructureChanged":{const a=n.find(s=>s.type==="TreeStructureChanged"&&s.treeKey===i.treeKey&&s.nodeId===i.nodeId);a?a.newParentId=i.newParentId:n.push(i);break}default:n.push(i);break}}),n}checkNodeExistence(r){this.getNode(r)}hasNode(r){return this.nodeMap.has(r)}areNeighbors(r,n){return this.getNeighbors(n).some(i=>i.id===r)}getNode(r){const n=this.nodeMap.get(r);if(!n)throw new Error("Node not found for id: "+r);return n}getRelatedEdges(r,n){if(this.checkNodeExistence(r),n==="in"){const i=this.inEdgesMap.get(r);return Array.from(i)}else if(n==="out"){const i=this.outEdgesMap.get(r);return Array.from(i)}else{const i=this.bothEdgesMap.get(r);return Array.from(i)}}getDegree(r,n){return this.getRelatedEdges(r,n).length}getSuccessors(r){const i=this.getRelatedEdges(r,"out").map(a=>this.getNode(a.target));return Array.from(new Set(i))}getPredecessors(r){const i=this.getRelatedEdges(r,"in").map(a=>this.getNode(a.source));return Array.from(new Set(i))}getNeighbors(r){const n=this.getPredecessors(r),i=this.getSuccessors(r);return Array.from(new Set([...n,...i]))}doAddNode(r){if(this.hasNode(r.id))throw new Error("Node already exists: "+r.id);this.nodeMap.set(r.id,r),this.inEdgesMap.set(r.id,new Set),this.outEdgesMap.set(r.id,new Set),this.bothEdgesMap.set(r.id,new Set),this.treeIndices.forEach(n=>{n.childrenMap.set(r.id,new Set)}),this.changes.push({type:"NodeAdded",value:r})}addNodes(r){this.batch(()=>{for(const n of r)this.doAddNode(n)})}addNode(r){this.addNodes([r])}doRemoveNode(r){const n=this.getNode(r),i=this.bothEdgesMap.get(r);i==null||i.forEach(a=>this.doRemoveEdge(a.id)),this.nodeMap.delete(r),this.treeIndices.forEach(a=>{var o,l;(o=a.childrenMap.get(r))==null||o.forEach(u=>{a.parentMap.delete(u.id)});const s=a.parentMap.get(r);s&&((l=a.childrenMap.get(s.id))==null||l.delete(n)),a.parentMap.delete(r),a.childrenMap.delete(r)}),this.bothEdgesMap.delete(r),this.inEdgesMap.delete(r),this.outEdgesMap.delete(r),this.changes.push({type:"NodeRemoved",value:n})}removeNodes(r){this.batch(()=>{r.forEach(n=>this.doRemoveNode(n))})}removeNode(r){this.removeNodes([r])}updateNodeDataProperty(r,n,i){const a=this.getNode(r);this.batch(()=>{const s=a.data[n],o=i;a.data[n]=o,this.changes.push({type:"NodeDataUpdated",id:r,propertyName:n,oldValue:s,newValue:o})})}mergeNodeData(r,n){this.batch(()=>{Object.entries(n).forEach(([i,a])=>{this.updateNodeDataProperty(r,i,a)})})}updateNodeData(...r){const n=r[0],i=this.getNode(n);if(typeof r[1]=="string"){this.updateNodeDataProperty(n,r[1],r[2]);return}let a;if(typeof r[1]=="function"){const s=r[1];a=s(i.data)}else typeof r[1]=="object"&&(a=r[1]);this.batch(()=>{const s=i.data,o=a;i.data=a,this.changes.push({type:"NodeDataUpdated",id:n,oldValue:s,newValue:o})})}checkEdgeExistence(r){if(!this.hasEdge(r))throw new Error("Edge not found for id: "+r)}hasEdge(r){return this.edgeMap.has(r)}getEdge(r){return this.checkEdgeExistence(r),this.edgeMap.get(r)}getEdgeDetail(r){const n=this.getEdge(r);return{edge:n,source:this.getNode(n.source),target:this.getNode(n.target)}}doAddEdge(r){if(this.hasEdge(r.id))throw new Error("Edge already exists: "+r.id);this.checkNodeExistence(r.source),this.checkNodeExistence(r.target),this.edgeMap.set(r.id,r);const n=this.inEdgesMap.get(r.target),i=this.outEdgesMap.get(r.source),a=this.bothEdgesMap.get(r.source),s=this.bothEdgesMap.get(r.target);n.add(r),i.add(r),a.add(r),s.add(r),this.changes.push({type:"EdgeAdded",value:r})}addEdges(r){this.batch(()=>{for(const n of r)this.doAddEdge(n)})}addEdge(r){this.addEdges([r])}doRemoveEdge(r){const n=this.getEdge(r),i=this.outEdgesMap.get(n.source),a=this.inEdgesMap.get(n.target),s=this.bothEdgesMap.get(n.source),o=this.bothEdgesMap.get(n.target);i.delete(n),a.delete(n),s.delete(n),o.delete(n),this.edgeMap.delete(r),this.changes.push({type:"EdgeRemoved",value:n})}removeEdges(r){this.batch(()=>{r.forEach(n=>this.doRemoveEdge(n))})}removeEdge(r){this.removeEdges([r])}updateEdgeSource(r,n){const i=this.getEdge(r);this.checkNodeExistence(n);const a=i.source,s=n;this.outEdgesMap.get(a).delete(i),this.bothEdgesMap.get(a).delete(i),this.outEdgesMap.get(s).add(i),this.bothEdgesMap.get(s).add(i),i.source=n,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:r,propertyName:"source",oldValue:a,newValue:s})})}updateEdgeTarget(r,n){const i=this.getEdge(r);this.checkNodeExistence(n);const a=i.target,s=n;this.inEdgesMap.get(a).delete(i),this.bothEdgesMap.get(a).delete(i),this.inEdgesMap.get(s).add(i),this.bothEdgesMap.get(s).add(i),i.target=n,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:r,propertyName:"target",oldValue:a,newValue:s})})}updateEdgeDataProperty(r,n,i){const a=this.getEdge(r);this.batch(()=>{const s=a.data[n],o=i;a.data[n]=o,this.changes.push({type:"EdgeDataUpdated",id:r,propertyName:n,oldValue:s,newValue:o})})}updateEdgeData(...r){const n=r[0],i=this.getEdge(n);if(typeof r[1]=="string"){this.updateEdgeDataProperty(n,r[1],r[2]);return}let a;if(typeof r[1]=="function"){const s=r[1];a=s(i.data)}else typeof r[1]=="object"&&(a=r[1]);this.batch(()=>{const s=i.data,o=a;i.data=a,this.changes.push({type:"EdgeDataUpdated",id:n,oldValue:s,newValue:o})})}mergeEdgeData(r,n){this.batch(()=>{Object.entries(n).forEach(([i,a])=>{this.updateEdgeDataProperty(r,i,a)})})}checkTreeExistence(r){if(!this.hasTreeStructure(r))throw new Error("Tree structure not found for treeKey: "+r)}hasTreeStructure(r){return this.treeIndices.has(r)}attachTreeStructure(r){this.treeIndices.has(r)||(this.treeIndices.set(r,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:r})}))}detachTreeStructure(r){this.checkTreeExistence(r),this.treeIndices.delete(r),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:r})})}addTree(r,n){this.batch(()=>{this.attachTreeStructure(n);const i=[],a=Array.isArray(r)?r:[r];for(;a.length;){const s=a.shift();i.push(s),s.children&&a.push(...s.children)}this.addNodes(i),i.forEach(s=>{var o;(o=s.children)==null||o.forEach(l=>{this.setParent(l.id,s.id,n)})})})}getRoots(r){return this.checkTreeExistence(r),this.getAllNodes().filter(n=>!this.getParent(n.id,r))}getChildren(r,n){this.checkNodeExistence(r),this.checkTreeExistence(n);const a=this.treeIndices.get(n).childrenMap.get(r);return Array.from(a||[])}getParent(r,n){return this.checkNodeExistence(r),this.checkTreeExistence(n),this.treeIndices.get(n).parentMap.get(r)||null}getAncestors(r,n){const i=[];let a=this.getNode(r),s;for(;s=this.getParent(a.id,n);)i.push(s),a=s;return i}setParent(r,n,i){var c,f;this.checkTreeExistence(i);const a=this.treeIndices.get(i);if(!a)return;const s=this.getNode(r),o=a.parentMap.get(r);if((o==null?void 0:o.id)===n)return;if(n==null){o&&((c=a.childrenMap.get(o.id))==null||c.delete(s)),a.parentMap.delete(r);return}const l=this.getNode(n);a.parentMap.set(r,l),o&&((f=a.childrenMap.get(o.id))==null||f.delete(s));let u=a.childrenMap.get(l.id);u||(u=new Set,a.childrenMap.set(l.id,u)),u.add(s),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:i,nodeId:r,oldParentId:o==null?void 0:o.id,newParentId:l.id})})}dfsTree(r,n,i){const a=s=>this.getChildren(s,i);return bd(this.getNode(r),new Set,n,a)}bfsTree(r,n,i){const a=s=>this.getChildren(s,i);return wx([this.getNode(r)],new Set,n,a)}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(r,n,i="out"){const a={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];return wx([this.getNode(r)],new Set,n,a)}dfs(r,n,i="out"){const a={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];return bd(this.getNode(r),new Set,n,a)}clone(){const r=this.getAllNodes().map(a=>({...a,data:{...a.data}})),n=this.getAllEdges().map(a=>({...a,data:{...a.data}})),i=new Wr({nodes:r,edges:n});return this.treeIndices.forEach(({parentMap:a,childrenMap:s},o)=>{const l=new Map;a.forEach((c,f)=>{l.set(f,i.getNode(c.id))});const u=new Map;s.forEach((c,f)=>{u.set(f,new Set(Array.from(c).map(h=>i.getNode(h.id))))}),i.treeIndices.set(o,{parentMap:l,childrenMap:u})}),i}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(r){return new Vre({graph:this,...r})}}var ng,dM;function Ks(){if(dM)return ng;dM=1;function e(t,r,n,i){return i===void 0&&(i="height"),n==="center"?(t[i]+r[i])/2:t.height}return ng={assign:Object.assign,getHeight:e},ng}var ig,pM;function zF(){if(pM)return ig;pM=1;var e=Ks(),t=18,r=t*2,n=t,i={getId:function(l){return l.id||l.name},getPreH:function(l){return l.preH||0},getPreV:function(l){return l.preV||0},getHGap:function(l){return l.hgap||n},getVGap:function(l){return l.vgap||n},getChildren:function(l){return l.children},getHeight:function(l){return l.height||r},getWidth:function(l){var u=l.label||" ";return l.width||u.split("").length*t}};function a(o,l){var u=this;if(u.vgap=u.hgap=0,o instanceof a)return o;u.data=o;var c=l.getHGap(o),f=l.getVGap(o);return u.preH=l.getPreH(o),u.preV=l.getPreV(o),u.width=l.getWidth(o),u.height=l.getHeight(o),u.width+=u.preH,u.height+=u.preV,u.id=l.getId(o),u.x=u.y=0,u.depth=0,u.children||(u.children=[]),u.addGap(c,f),u}e.assign(a.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(l,u){var c=this;c.hgap+=l,c.vgap+=u,c.width+=2*l,c.height+=2*u},eachNode:function(l){for(var u=this,c=[u],f;f=c.shift();)l(f),c=f.children.concat(c)},DFTraverse:function(l){this.eachNode(l)},BFTraverse:function(l){for(var u=this,c=[u],f;f=c.shift();)l(f),c=c.concat(f.children)},getBoundingBox:function(){var l={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(u){l.left=Math.min(l.left,u.x),l.top=Math.min(l.top,u.y),l.width=Math.max(l.width,u.x+u.width),l.height=Math.max(l.height,u.y+u.height)}),l},translate:function(l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.eachNode(function(c){c.x+=l,c.y+=u,c.x+=c.preH,c.y+=c.preV})},right2left:function(){var l=this,u=l.getBoundingBox();l.eachNode(function(c){c.x=c.x-(c.x-u.left)*2-c.width}),l.translate(u.width,0)},bottom2top:function(){var l=this,u=l.getBoundingBox();l.eachNode(function(c){c.y=c.y-(c.y-u.top)*2-c.height}),l.translate(0,u.height)}});function s(o,l,u){l===void 0&&(l={}),l=e.assign({},i,l);var c=new a(o,l),f=[c],h;if(!u&&!o.collapsed){for(;h=f.shift();)if(!h.data.collapsed){var d=l.getChildren(h.data),p=d?d.length:0;if(h.children=new Array(p),d&&p)for(var v=0;v<p;v++){var g=new a(d[v],l);h.children[v]=g,f.push(g),g.parent=h,g.depth=h.depth+1}}}return c}return ig=s,ig}var ag,vM;function yp(){if(vM)return ag;vM=1;var e=zF(),t=function(){function r(i,a){a===void 0&&(a={});var s=this;s.options=a,s.rootNode=e(i,a)}var n=r.prototype;return n.execute=function(){throw new Error("please override this method")},r}();return ag=t,ag}var sg,gM;function Ure(){if(gM)return sg;gM=1;function e(s,o,l,u){u===void 0&&(u=[]);var c=this;c.w=s||0,c.h=o||0,c.y=l||0,c.x=0,c.c=u||[],c.cs=u.length,c.prelim=0,c.mod=0,c.shift=0,c.change=0,c.tl=null,c.tr=null,c.el=null,c.er=null,c.msel=0,c.mser=0}e.fromNode=function(s,o){if(!s)return null;var l=[];return s.children.forEach(function(u){l.push(e.fromNode(u,o))}),o?new e(s.height,s.width,s.x,l):new e(s.width,s.height,s.y,l)};function t(s,o,l){l?s.y+=o:s.x+=o,s.children.forEach(function(u){t(u,o,l)})}function r(s,o){var l=o?s.y:s.x;return s.children.forEach(function(u){l=Math.min(r(u,o),l)}),l}function n(s,o){var l=r(s,o);t(s,-l,o)}function i(s,o,l){l?o.y=s.x:o.x=s.x,s.c.forEach(function(u,c){i(u,o.children[c],l)})}function a(s,o,l){l===void 0&&(l=0),o?(s.x=l,l+=s.width):(s.y=l,l+=s.height),s.children.forEach(function(u){a(u,o,l)})}return sg=function(s,o){o===void 0&&(o={});var l=o.isHorizontal;function u(k){if(k.cs===0){c(k);return}u(k.c[0]);for(var O=S(v(k.c[0].el),0,null),P=1;P<k.cs;++P){u(k.c[P]);var N=v(k.c[P].er);f(k,P,O),O=S(N,P,O)}y(k),c(k)}function c(k){k.cs===0?(k.el=k,k.er=k,k.msel=k.mser=0):(k.el=k.c[0].el,k.msel=k.c[0].msel,k.er=k.c[k.cs-1].er,k.mser=k.c[k.cs-1].mser)}function f(k,O,P){for(var N=k.c[O-1],R=N.mod,L=k.c[O],D=L.mod;N!==null&&L!==null;){v(N)>P.low&&(P=P.nxt);var $=R+N.prelim+N.w-(D+L.prelim);$>0&&(D+=$,h(k,O,P.index,$));var X=v(N),K=v(L);X<=K&&(N=p(N),N!==null&&(R+=N.mod)),X>=K&&(L=d(L),L!==null&&(D+=L.mod))}!N&&L?g(k,O,L,D):N&&!L&&m(k,O,N,R)}function h(k,O,P,N){k.c[O].mod+=N,k.c[O].msel+=N,k.c[O].mser+=N,x(k,O,P,N)}function d(k){return k.cs===0?k.tl:k.c[0]}function p(k){return k.cs===0?k.tr:k.c[k.cs-1]}function v(k){return k.y+k.h}function g(k,O,P,N){var R=k.c[0].el;R.tl=P;var L=N-P.mod-k.c[0].msel;R.mod+=L,R.prelim-=L,k.c[0].el=k.c[O].el,k.c[0].msel=k.c[O].msel}function m(k,O,P,N){var R=k.c[O].er;R.tr=P;var L=N-P.mod-k.c[O].mser;R.mod+=L,R.prelim-=L,k.c[O].er=k.c[O-1].er,k.c[O].mser=k.c[O-1].mser}function y(k){k.prelim=(k.c[0].prelim+k.c[0].mod+k.c[k.cs-1].mod+k.c[k.cs-1].prelim+k.c[k.cs-1].w)/2-k.w/2}function b(k,O){O+=k.mod,k.x=k.prelim+O,E(k);for(var P=0;P<k.cs;P++)b(k.c[P],O)}function x(k,O,P,N){if(P!==O-1){var R=O-P;k.c[P+1].shift+=N/R,k.c[O].shift-=N/R,k.c[O].change-=N-N/R}}function E(k){for(var O=0,P=0,N=0;N<k.cs;N++)O+=k.c[N].shift,P+=O+k.c[N].change,k.c[N].mod+=P}function S(k,O,P){for(;P!==null&&k>=P.low;)P=P.nxt;return{low:k,index:O,nxt:P}}a(s,l);var _=e.fromNode(s,l);return u(_),b(_,0),i(_,s,l),n(s,l),s},sg}var og,mM;function jF(){if(mM)return og;mM=1;var e=zF();return og=function(t,r){for(var n=e(t.data,r,!0),i=e(t.data,r,!0),a=t.children.length,s=Math.round(a/2),o=r.getSide||function(f,h){return h<s?"right":"left"},l=0;l<a;l++){var u=t.children[l],c=o(u,l);c==="right"?i.children.push(u):n.children.push(u)}return n.eachNode(function(f){f.isRoot()||(f.side="left")}),i.eachNode(function(f){f.isRoot()||(f.side="right")}),{left:n,right:i}},og}var lg,yM;function A2(){if(yM)return lg;yM=1;var e=jF(),t=["LR","RL","TB","BT","H","V"],r=["LR","RL","H"],n=function(o){return r.indexOf(o)>-1},i=t[0];lg=function(s,o,l){var u=o.direction||i;if(o.isHorizontal=n(u),t.indexOf(u)===-1)throw new TypeError("Invalid direction: "+u);if(u===t[0])l(s,o);else if(u===t[1])l(s,o),s.right2left();else if(u===t[2])l(s,o);else if(u===t[3])l(s,o),s.bottom2top();else if(u===t[4]||u===t[5]){var c=e(s,o),f=c.left,h=c.right;l(f,o),l(h,o),o.isHorizontal?f.right2left():f.bottom2top(),h.translate(f.x-h.x,f.y-h.y),s.x=f.x,s.y=h.y;var d=s.getBoundingBox();o.isHorizontal?d.top<0&&s.translate(0,-d.top):d.left<0&&s.translate(-d.left,0)}var p=o.fixedRoot;return p===void 0&&(p=!0),p&&s.translate(-(s.x+s.width/2+s.hgap),-(s.y+s.height/2+s.vgap)),a(s,o),s};function a(s,o){if(o.radial){var l=o.isHorizontal?["x","y"]:["y","x"],u=l[0],c=l[1],f={x:1/0,y:1/0},h={x:-1/0,y:-1/0},d=0;s.DFTraverse(function(g){d++;var m=g.x,y=g.y;f.x=Math.min(f.x,m),f.y=Math.min(f.y,y),h.x=Math.max(h.x,m),h.y=Math.max(h.y,y)});var p=h[c]-f[c];if(p===0)return;var v=Math.PI*2/d;s.DFTraverse(function(g){var m=(g[c]-f[c])/p*(Math.PI*2-v)+v,y=g[u]-s[u];g.x=Math.cos(m)*y,g.y=Math.sin(m)*y})}}return lg}var ug,bM;function Hre(){if(bM)return ug;bM=1;function e(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,t(u,c)}function t(u,c){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},t(u,c)}var r=yp(),n=Ure(),i=A2(),a=Ks(),s=function(u){function c(){return u.apply(this,arguments)||this}e(c,u);var f=c.prototype;return f.execute=function(){var d=this;return i(d.rootNode,d.options,n)},c}(r),o={};function l(u,c){return c=a.assign({},o,c),new s(u,c).execute()}return ug=l,ug}var cg,wM;function Yre(){if(wM)return cg;wM=1;var e=Ks();function t(i,a){a===void 0&&(a=[]);var s=this;s.x=s.y=0,s.leftChild=s.rightChild=null,s.height=0,s.children=a}var r={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function n(i,a,s){s?(a.x=i.x,a.y=i.y):(a.x=i.y,a.y=i.x),i.children.forEach(function(o,l){n(o,a.children[l],s)})}return cg=function(i,a){a===void 0&&(a={}),a=e.assign({},r,a);var s=0;function o(h){if(!h)return null;h.width=0,h.depth&&h.depth>s&&(s=h.depth);var d=h.children,p=d.length,v=new t(h.height,[]);return d.forEach(function(g,m){var y=o(g);v.children.push(y),m===0&&(v.leftChild=y),m===p-1&&(v.rightChild=y)}),v.originNode=h,v.isLeaf=h.isLeaf(),v}function l(h){if(h.isLeaf||h.children.length===0)h.drawingDepth=s;else{var d=h.children.map(function(v){return l(v)}),p=Math.min.apply(null,d);h.drawingDepth=p-1}return h.drawingDepth}var u;function c(h){h.x=h.drawingDepth*a.rankSep,h.isLeaf?(h.y=0,u&&(h.y=u.y+u.height+a.nodeSep,h.originNode.parent!==u.originNode.parent&&(h.y+=a.subTreeSep)),u=h):(h.children.forEach(function(d){c(d)}),h.y=(h.leftChild.y+h.rightChild.y)/2)}var f=o(i);return l(f),c(f),n(f,i,a.isHorizontal),i},cg}var fg,xM;function Xre(){if(xM)return fg;xM=1;function e(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,t(u,c)}function t(u,c){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},t(u,c)}var r=yp(),n=Yre(),i=A2(),a=Ks(),s=function(u){function c(){return u.apply(this,arguments)||this}e(c,u);var f=c.prototype;return f.execute=function(){var d=this;return d.rootNode.width=0,i(d.rootNode,d.options,n)},c}(r),o={};function l(u,c){return c=a.assign({},o,c),new s(u,c).execute()}return fg=l,fg}var hg,_M;function Kre(){if(_M)return hg;_M=1;var e=Ks();function t(r,n,i,a,s){var o=(typeof i=="function"?i(r):i)*r.depth;if(!a)try{if(r.id===r.parent.children[0].id){r.x+=o,r.y=n?n.y:0;return}}catch{}if(r.x+=o,n){if(r.y=n.y+e.getHeight(n,r,s),n.parent&&r.parent.id!==n.parent.id){var l=n.parent,u=l.y+e.getHeight(l,r,s);r.y=u>r.y?u:r.y}}else r.y=0}return hg=function(r,n,i,a){var s=null;r.eachNode(function(o){t(o,s,n,i,a),s=o})},hg}var dg,EM;function Zre(){if(EM)return dg;EM=1;function e(f,h){f.prototype=Object.create(h.prototype),f.prototype.constructor=f,t(f,h)}function t(f,h){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,p){return d.__proto__=p,d},t(f,h)}var r=yp(),n=Kre(),i=jF(),a=Ks(),s=["LR","RL","H"],o=s[0],l=function(f){function h(){return f.apply(this,arguments)||this}e(h,f);var d=h.prototype;return d.execute=function(){var v=this,g=v.options,m=v.rootNode;g.isHorizontal=!0;var y=g.indent,b=y===void 0?20:y,x=g.dropCap,E=x===void 0?!0:x,S=g.direction,_=S===void 0?o:S,k=g.align;if(_&&s.indexOf(_)===-1)throw new TypeError("Invalid direction: "+_);if(_===s[0])n(m,b,E,k);else if(_===s[1])n(m,b,E,k),m.right2left();else if(_===s[2]){var O=i(m,g),P=O.left,N=O.right;n(P,b,E,k),P.right2left(),n(N,b,E,k);var R=P.getBoundingBox();N.translate(R.width,0),m.x=N.x-m.width/2}return m},h}(r),u={};function c(f,h){return h=a.assign({},u,h),new l(f,h).execute()}return dg=c,dg}var pg,SM;function Qre(){if(SM)return pg;SM=1;var e=Ks();function t(i,a){var s=0;return i.children.length?i.children.forEach(function(o){s+=t(o,a)}):s=i.height,i._subTreeSep=a.getSubTreeSep(i.data),i.totalHeight=Math.max(i.height,s)+2*i._subTreeSep,i.totalHeight}function r(i){var a=i.children,s=a.length;if(s){a.forEach(function(h){r(h)});var o=a[0],l=a[s-1],u=l.y-o.y+l.height,c=0;if(a.forEach(function(h){c+=h.totalHeight}),u>i.height)i.y=o.y+u/2-i.height/2;else if(a.length!==1||i.height>c){var f=i.y+(i.height-u)/2-o.y;a.forEach(function(h){h.translate(0,f)})}else i.y=(o.y+o.height/2+l.y+l.height/2)/2-i.height/2}}var n={getSubTreeSep:function(){return 0}};return pg=function(i,a){a===void 0&&(a={}),a=e.assign({},n,a),i.parent={x:0,width:0,height:0,y:0},i.BFTraverse(function(s){s.x=s.parent.x+s.parent.width}),i.parent=null,t(i,a),i.startY=0,i.y=i.totalHeight/2-i.height/2,i.eachNode(function(s){var o=s.children,l=o.length;if(l){var u=o[0];if(u.startY=s.startY+s._subTreeSep,l===1)u.y=s.y+s.height/2-u.height/2;else{u.y=u.startY+u.totalHeight/2-u.height/2;for(var c=1;c<l;c++){var f=o[c];f.startY=o[c-1].startY+o[c-1].totalHeight,f.y=f.startY+f.totalHeight/2-f.height/2}}}}),r(i)},pg}var vg,kM;function Jre(){if(kM)return vg;kM=1;function e(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,t(u,c)}function t(u,c){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},t(u,c)}var r=yp(),n=Qre(),i=A2(),a=Ks(),s=function(u){function c(){return u.apply(this,arguments)||this}e(c,u);var f=c.prototype;return f.execute=function(){var d=this;return i(d.rootNode,d.options,n)},c}(r),o={};function l(u,c){return c=a.assign({},o,c),new s(u,c).execute()}return vg=l,vg}var gg,TM;function ene(){if(TM)return gg;TM=1;var e={compactBox:Hre(),dendrogram:Xre(),indented:Zre(),mindmap:Jre()};return gg=e,gg}var jve=ene();const tne=(e,t)=>{if(e!=="next"&&e!=="prev")return t},MM=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev};let rne=class{constructor(){const t={};t.prev=t,t.next=t.prev,this.shortcut=t}dequeue(){const t=this.shortcut,r=t.prev;if(r&&r!==t)return MM(r),r}enqueue(t){const r=this.shortcut;t.prev&&t.next&&MM(t),t.next=r.next,r.next.prev=t,r.next=t,t.prev=r}toString(){const t=[],r=this.shortcut;let n=r.prev;for(;n!==r;)t.push(JSON.stringify(n,tne)),n=n==null?void 0:n.prev;return`[${t.join(", ")}]`}};class nne extends rne{}const ine=()=>1,ane=(e,t)=>{var r;if(e.getAllNodes().length<=1)return[];const n=one(e,t||ine);return(r=sne(n.graph,n.buckets,n.zeroIdx).map(a=>e.getRelatedEdges(a.v,"out").filter(({target:s})=>s===a.w)))===null||r===void 0?void 0:r.flat()},sne=(e,t,r)=>{let n=[];const i=t[t.length-1],a=t[0];let s;for(;e.getAllNodes().length;){for(;s=a.dequeue();)mg(e,t,r,s);for(;s=i.dequeue();)mg(e,t,r,s);if(e.getAllNodes().length){for(let o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){n=n.concat(mg(e,t,r,s,!0));break}}}return n},mg=(e,t,r,n,i)=>{var a,s;const o=[];return e.hasNode(n.v)&&((a=e.getRelatedEdges(n.v,"in"))===null||a===void 0||a.forEach(l=>{const u=l.data.weight,c=e.getNode(l.source);i&&o.push({v:l.source,w:l.target,in:0,out:0}),c.data.out===void 0&&(c.data.out=0),c.data.out-=u,xx(t,r,Object.assign({v:c.id},c.data))}),(s=e.getRelatedEdges(n.v,"out"))===null||s===void 0||s.forEach(l=>{const u=l.data.weight,c=l.target,f=e.getNode(c);f.data.in===void 0&&(f.data.in=0),f.data.in-=u,xx(t,r,Object.assign({v:f.id},f.data))}),e.removeNode(n.v)),i?o:void 0},one=(e,t)=>{const r=new Wr;let n=0,i=0;e.getAllNodes().forEach(l=>{r.addNode({id:l.id,data:{v:l.id,in:0,out:0}})}),e.getAllEdges().forEach(l=>{const u=r.getRelatedEdges(l.source,"out").find(f=>f.target===l.target),c=(t==null?void 0:t(l))||1;u?r.updateEdgeData(u==null?void 0:u.id,Object.assign(Object.assign({},u.data),{weight:u.data.weight+c})):r.addEdge({id:l.id,source:l.source,target:l.target,data:{weight:c}}),i=Math.max(i,r.getNode(l.source).data.out+=c),n=Math.max(n,r.getNode(l.target).data.in+=c)});const a=[],s=i+n+3;for(let l=0;l<s;l++)a.push(new nne);const o=n+1;return r.getAllNodes().forEach(l=>{xx(a,o,Object.assign({v:l.id},r.getNode(l.id).data))}),{buckets:a,zeroIdx:o,graph:r}},xx=(e,t,r)=>{r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)},lne=(e,t)=>{const n=ane(e,(i=>a=>a.data.weight||1)());n==null||n.forEach(i=>{const a=i.data;e.removeEdge(i.id),a.forwardName=i.data.name,a.reversed=!0,e.addEdge({id:i.id,source:i.target,target:i.source,data:Object.assign({},a)})})},une=e=>{e.getAllEdges().forEach(t=>{const r=t.data;if(r.reversed){e.removeEdge(t.id);const n=r.forwardName;delete r.reversed,delete r.forwardName,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign(Object.assign({},r),{forwardName:n})})}})},cne=(e,t)=>Number(e)-Number(t),Ql=(e,t,r,n)=>{let i;do i=`${n}${Math.random()}`;while(e.hasNode(i));return r.dummy=t,e.addNode({id:i,data:r}),i},fne=e=>{const t=new Wr;return e.getAllNodes().forEach(r=>{t.addNode(Object.assign({},r))}),e.getAllEdges().forEach(r=>{const n=t.getRelatedEdges(r.source,"out").find(i=>i.target===r.target);n?t.updateEdgeData(n==null?void 0:n.id,Object.assign(Object.assign({},n.data),{weight:n.data.weight+r.data.weight||0,minlen:Math.max(n.data.minlen,r.data.minlen||1)})):t.addEdge({id:r.id,source:r.source,target:r.target,data:{weight:r.data.weight||0,minlen:r.data.minlen||1}})}),t},GF=e=>{const t=new Wr;return e.getAllNodes().forEach(r=>{e.getChildren(r.id).length||t.addNode(Object.assign({},r))}),e.getAllEdges().forEach(r=>{t.addEdge(r)}),t},hne=(e,t)=>e==null?void 0:e.reduce((r,n,i)=>(r[n]=t[i],r),{}),AM=(e,t)=>{const r=Number(e.x),n=Number(e.y),i=Number(t.x)-r,a=Number(t.y)-n;let s=Number(e.width)/2,o=Number(e.height)/2;if(!i&&!a)return{x:0,y:0};let l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:r+l,y:n+u}},_c=e=>{const t=[],r=WF(e)+1;for(let n=0;n<r;n++)t.push([]);e.getAllNodes().forEach(n=>{const i=n.data.rank;i!==void 0&&t[i]&&t[i].push(n.id)});for(let n=0;n<r;n++)t[n]=t[n].sort((i,a)=>cne(e.getNode(i).data.order,e.getNode(a).data.order));return t},dne=e=>{const t=e.getAllNodes().filter(n=>n.data.rank!==void 0).map(n=>n.data.rank),r=Math.min(...t);e.getAllNodes().forEach(n=>{n.data.hasOwnProperty("rank")&&r!==1/0&&(n.data.rank-=r)})},pne=(e,t=0)=>{const r=e.getAllNodes(),n=r.filter(o=>o.data.rank!==void 0).map(o=>o.data.rank),i=Math.min(...n),a=[];r.forEach(o=>{const l=(o.data.rank||0)-i;a[l]||(a[l]=[]),a[l].push(o.id)});let s=0;for(let o=0;o<a.length;o++){const l=a[o];l===void 0?o%t!==0&&(s-=1):s&&(l==null||l.forEach(u=>{const c=e.getNode(u);c&&(c.data.rank=c.data.rank||0,c.data.rank+=s)}))}},OM=(e,t,r,n)=>{const i={width:0,height:0};return Ye(r)&&Ye(n)&&(i.rank=r,i.order=n),Ql(e,"border",i,t)},WF=e=>{let t;return e.getAllNodes().forEach(r=>{const n=r.data.rank;n!==void 0&&(t===void 0||n>t)&&(t=n)}),t||(t=0),t},vne=(e,t)=>{const r={lhs:[],rhs:[]};return e==null||e.forEach(n=>{t(n)?r.lhs.push(n):r.rhs.push(n)}),r},O2=(e,t)=>e.reduce((r,n)=>{const i=t(r),a=t(n);return i>a?n:r}),VF=(e,t,r,n,i,a)=>{n.includes(t.id)||(n.push(t.id),r||a.push(t.id),i(t.id).forEach(s=>VF(e,s,r,n,i,a)),r&&a.push(t.id))},UF=(e,t,r,n)=>{const i=Array.isArray(t)?t:[t],a=l=>e.getNeighbors(l),s=[],o=[];return i.forEach(l=>{if(e.hasNode(l.id))VF(e,l,r==="post",o,a,s);else throw new Error(`Graph does not have node: ${l}`)}),s},gne=e=>{const t=r=>{const n=e.getChildren(r),i=e.getNode(r);if(n!=null&&n.length&&n.forEach(a=>t(a.id)),i.data.hasOwnProperty("minRank")){i.data.borderLeft=[],i.data.borderRight=[];for(let a=i.data.minRank,s=i.data.maxRank+1;a<s;a+=1)PM(e,"borderLeft","_bl",r,i,a),PM(e,"borderRight","_br",r,i,a)}};e.getRoots().forEach(r=>t(r.id))},PM=(e,t,r,n,i,a)=>{const s={rank:a,borderType:t,width:0,height:0},o=i.data[t][a-1],l=Ql(e,"border",s,r);i.data[t][a]=l,e.setParent(l,n),o&&e.addEdge({id:`e${Math.random()}`,source:o,target:l,data:{weight:1}})},mne=(e,t)=>{const r=t.toLowerCase();(r==="lr"||r==="rl")&&HF(e)},yne=(e,t)=>{const r=t.toLowerCase();(r==="bt"||r==="rl")&&bne(e),(r==="lr"||r==="rl")&&(wne(e),HF(e))},HF=e=>{e.getAllNodes().forEach(t=>{NM(t)}),e.getAllEdges().forEach(t=>{NM(t)})},NM=e=>{const t=e.data.width;e.data.width=e.data.height,e.data.height=t},bne=e=>{e.getAllNodes().forEach(t=>{yg(t.data)}),e.getAllEdges().forEach(t=>{var r;(r=t.data.points)===null||r===void 0||r.forEach(n=>yg(n)),t.data.hasOwnProperty("y")&&yg(t.data)})},yg=e=>{e!=null&&e.y&&(e.y=-e.y)},wne=e=>{e.getAllNodes().forEach(t=>{bg(t.data)}),e.getAllEdges().forEach(t=>{var r;(r=t.data.points)===null||r===void 0||r.forEach(n=>bg(n)),t.data.hasOwnProperty("x")&&bg(t.data)})},bg=e=>{const t=e.x;e.x=e.y,e.y=t},xne=e=>{const t=Ql(e,"root",{},"_root"),r=_ne(e);let n=Math.max(...Object.values(r));Math.abs(n)===1/0&&(n=1);const i=n-1,a=2*i+1;e.getAllEdges().forEach(o=>{o.data.minlen*=a});const s=Ene(e)+1;return e.getRoots().forEach(o=>{YF(e,t,a,s,i,r,o.id)}),{nestingRoot:t,nodeRankFactor:a}},YF=(e,t,r,n,i,a,s)=>{const o=e.getChildren(s);if(!(o!=null&&o.length)){s!==t&&e.addEdge({id:`e${Math.random()}`,source:t,target:s,data:{weight:0,minlen:r}});return}const l=OM(e,"_bt"),u=OM(e,"_bb"),c=e.getNode(s);e.setParent(l,s),c.data.borderTop=l,e.setParent(u,s),c.data.borderBottom=u,o==null||o.forEach(f=>{YF(e,t,r,n,i,a,f.id);const h=f.data.borderTop?f.data.borderTop:f.id,d=f.data.borderBottom?f.data.borderBottom:f.id,p=f.data.borderTop?n:2*n,v=h!==d?1:i-a[s]+1;e.addEdge({id:`e${Math.random()}`,source:l,target:h,data:{minlen:v,weight:p,nestingEdge:!0}}),e.addEdge({id:`e${Math.random()}`,source:d,target:u,data:{minlen:v,weight:p,nestingEdge:!0}})}),e.getParent(s)||e.addEdge({id:`e${Math.random()}`,source:t,target:l,data:{weight:0,minlen:i+a[s]}})},_ne=e=>{const t={},r=(n,i)=>{const a=e.getChildren(n);a==null||a.forEach(s=>r(s.id,i+1)),t[n]=i};return e.getRoots().forEach(n=>r(n.id,1)),t},Ene=e=>{let t=0;return e.getAllEdges().forEach(r=>{t+=r.data.weight}),t},Sne=(e,t)=>{t&&e.removeNode(t),e.getAllEdges().forEach(r=>{r.data.nestingEdge&&e.removeEdge(r.id)})},kne="edge",XF="edge-label",Tne=(e,t)=>{e.getAllEdges().forEach(r=>Mne(e,r,t))},Mne=(e,t,r)=>{let n=t.source,i=e.getNode(n).data.rank;const a=t.target,s=e.getNode(a).data.rank,o=t.data.labelRank;if(s===i+1)return;e.removeEdge(t.id);let l,u,c;for(c=0,++i;i<s;++c,++i)t.data.points=[],u={originalEdge:t,width:0,height:0,rank:i},l=Ql(e,kne,u,"_d"),i===o&&(u.width=t.data.width,u.height=t.data.height,u.dummy=XF,u.labelpos=t.data.labelpos),e.addEdge({id:`e${Math.random()}`,source:n,target:l,data:{weight:t.data.weight}}),c===0&&r.push(l),n=l;e.addEdge({id:`e${Math.random()}`,source:n,target:a,data:{weight:t.data.weight}})},Ane=(e,t)=>{t.forEach(r=>{let n=e.getNode(r);const{data:i}=n,a=i.originalEdge;let s;a&&e.addEdge(a);let o=r;for(;n.data.dummy;)s=e.getSuccessors(o)[0],e.removeNode(o),a.data.points.push({x:n.data.x,y:n.data.y}),n.data.dummy===XF&&(a.data.x=n.data.x,a.data.y=n.data.y,a.data.width=n.data.width,a.data.height=n.data.height),o=s.id,n=e.getNode(o)})},One=(e,t,r)=>{const n={};let i;r==null||r.forEach(a=>{let s=e.getParent(a),o,l;for(;s;){if(o=e.getParent(s.id),o?(l=n[o.id],n[o.id]=s.id):(l=i,i=s.id),l&&l!==s.id){t.hasNode(l)||t.addNode({id:l,data:{}}),t.hasNode(s.id)||t.addNode({id:s.id,data:{}}),t.hasEdge(`e${l}-${s.id}`)||t.addEdge({id:`e${l}-${s.id}`,source:l,target:s.id,data:{}});return}s=o}})},Pne=(e,t,r)=>{const n=Nne(e),i=new Wr({tree:[{id:n,children:[],data:{}}]});return e.getAllNodes().forEach(a=>{const s=e.getParent(a.id);(a.data.rank===t||a.data.minRank<=t&&t<=a.data.maxRank)&&(i.hasNode(a.id)||i.addNode(Object.assign({},a)),s!=null&&s.id&&!i.hasNode(s==null?void 0:s.id)&&i.addNode(Object.assign({},s)),i.setParent(a.id,(s==null?void 0:s.id)||n),e.getRelatedEdges(a.id,r).forEach(o=>{const l=o.source===a.id?o.target:o.source;i.hasNode(l)||i.addNode(Object.assign({},e.getNode(l)));const u=i.getRelatedEdges(l,"out").find(({target:f})=>f===a.id),c=u!==void 0?u.data.weight:0;u?i.updateEdgeData(u.id,Object.assign(Object.assign({},u.data),{weight:o.data.weight+c})):i.addEdge({id:o.id,source:l,target:a.id,data:{weight:o.data.weight+c}})}),a.data.hasOwnProperty("minRank")&&i.updateNodeData(a.id,Object.assign(Object.assign({},a.data),{borderLeft:a.data.borderLeft[t],borderRight:a.data.borderRight[t]})))}),i},Nne=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t},Cne=(e,t,r)=>{const n=hne(r,r.map((c,f)=>f)),a=t.map(c=>{const f=e.getRelatedEdges(c,"out").map(h=>({pos:n[h.target]||0,weight:h.data.weight}));return f==null?void 0:f.sort((h,d)=>h.pos-d.pos)}).flat().filter(c=>c!==void 0);let s=1;for(;s<r.length;)s<<=1;const o=2*s-1;s-=1;const l=Array(o).fill(0,0,o);let u=0;return a==null||a.forEach(c=>{if(c){let f=c.pos+s;l[f]+=c.weight;let h=0;for(;f>0;)f%2&&(h+=l[f+1]),f=f-1>>1,l[f]+=c.weight;u+=c.weight*h}}),u},CM=(e,t)=>{let r=0;for(let n=1;n<(t==null?void 0:t.length);n+=1)r+=Cne(e,t[n-1],t[n]);return r},RM=e=>{const t={},r=e.getAllNodes(),n=r.map(u=>{var c;return(c=u.data.rank)!==null&&c!==void 0?c:-1/0}),i=Math.max(...n),a=[];for(let u=0;u<i+1;u++)a.push([]);const s=r.sort((u,c)=>e.getNode(u.id).data.rank-e.getNode(c.id).data.rank),l=s.filter(u=>e.getNode(u.id).data.fixorder!==void 0).sort((u,c)=>e.getNode(u.id).data.fixorder-e.getNode(c.id).data.fixorder);return l==null||l.forEach(u=>{isNaN(e.getNode(u.id).data.rank)||a[e.getNode(u.id).data.rank].push(u.id),t[u.id]=!0}),s==null||s.forEach(u=>e.dfsTree(u.id,c=>{if(t.hasOwnProperty(c.id))return!0;t[c.id]=!0,isNaN(c.data.rank)||a[c.data.rank].push(c.id)})),a},Rne=(e,t)=>t.map(r=>{const n=e.getRelatedEdges(r,"in");if(!(n!=null&&n.length))return{v:r};const i={sum:0,weight:0};return n==null||n.forEach(a=>{const s=e.getNode(a.source);i.sum+=a.data.weight*s.data.order,i.weight+=a.data.weight}),{v:r,barycenter:i.sum/i.weight,weight:i.weight}}),Lne=(e,t)=>{var r,n,i;const a={};e==null||e.forEach((o,l)=>{a[o.v]={i:l,indegree:0,in:[],out:[],vs:[o.v]};const u=a[o.v];o.barycenter!==void 0&&(u.barycenter=o.barycenter,u.weight=o.weight)}),(r=t.getAllEdges())===null||r===void 0||r.forEach(o=>{const l=a[o.source],u=a[o.target];l!==void 0&&u!==void 0&&(u.indegree++,l.out.push(a[o.target]))});const s=(i=(n=Object.values(a)).filter)===null||i===void 0?void 0:i.call(n,o=>!o.indegree);return Ine(s)},Ine=e=>{var t,r;const n=[],i=l=>u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&Dne(l,u)},a=l=>u=>{u.in.push(l),--u.indegree===0&&e.push(u)};for(;e!=null&&e.length;){const l=e.pop();n.push(l),(t=l.in.reverse())===null||t===void 0||t.forEach(u=>i(l)(u)),(r=l.out)===null||r===void 0||r.forEach(u=>a(l)(u))}const s=n.filter(l=>!l.merged),o=["vs","i","barycenter","weight"];return s.map(l=>{const u={};return o==null||o.forEach(c=>{l[c]!==void 0&&(u[c]=l[c])}),u})},Dne=(e,t)=>{var r;let n=0,i=0;e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.vs=(r=t.vs)===null||r===void 0?void 0:r.concat(e.vs),e.barycenter=n/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0},Fne=(e,t,r,n)=>{const i=vne(e,h=>{const d=h.hasOwnProperty("fixorder")&&!isNaN(h.fixorder);return n?!d&&h.hasOwnProperty("barycenter"):d||h.hasOwnProperty("barycenter")}),a=i.lhs,s=i.rhs.sort((h,d)=>-h.i- -d.i),o=[];let l=0,u=0,c=0;a==null||a.sort(Bne(!!t,!!r)),c=LM(o,s,c),a==null||a.forEach(h=>{var d;c+=(d=h.vs)===null||d===void 0?void 0:d.length,o.push(h.vs),l+=h.barycenter*h.weight,u+=h.weight,c=LM(o,s,c)});const f={vs:o.flat()};return u&&(f.barycenter=l/u,f.weight=u),f},LM=(e,t,r)=>{let n=r,i;for(;t.length&&(i=t[t.length-1]).i<=n;)t.pop(),e==null||e.push(i.vs),n++;return n},Bne=(e,t)=>(r,n)=>{if(r.fixorder!==void 0&&n.fixorder!==void 0)return r.fixorder-n.fixorder;if(r.barycenter<n.barycenter)return-1;if(r.barycenter>n.barycenter)return 1;if(t&&r.order!==void 0&&n.order!==void 0){if(r.order<n.order)return-1;if(r.order>n.order)return 1}return e?n.i-r.i:r.i-n.i},KF=(e,t,r,n,i,a)=>{var s,o,l,u;let c=e.getChildren(t).map(y=>y.id);const f=e.getNode(t),h=f?f.data.borderLeft:void 0,d=f?f.data.borderRight:void 0,p={};h&&(c=c==null?void 0:c.filter(y=>y!==h&&y!==d));const v=Rne(e,c||[]);v==null||v.forEach(y=>{var b;if(!((b=e.getChildren(y.v))===null||b===void 0)&&b.length){const x=KF(e,y.v,r,n,a);p[y.v]=x,x.hasOwnProperty("barycenter")&&qne(y,x)}});const g=Lne(v,r);$ne(g,p),(s=g.filter(y=>y.vs.length>0))===null||s===void 0||s.forEach(y=>{const b=e.getNode(y.vs[0]);b&&(y.fixorder=b.data.fixorder,y.order=b.data.order)});const m=Fne(g,n,i,a);if(h&&(m.vs=[h,m.vs,d].flat(),!((o=e.getPredecessors(h))===null||o===void 0)&&o.length)){const y=e.getNode(((l=e.getPredecessors(h))===null||l===void 0?void 0:l[0].id)||""),b=e.getNode(((u=e.getPredecessors(d))===null||u===void 0?void 0:u[0].id)||"");m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.data.order+b.data.order)/(m.weight+2),m.weight+=2}return m},$ne=(e,t)=>{e==null||e.forEach(r=>{var n;const i=(n=r.vs)===null||n===void 0?void 0:n.map(a=>t[a]?t[a].vs:a);r.vs=i.flat()})},qne=(e,t)=>{e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)},zne=(e,t)=>{const r=WF(e),n=[],i=[];for(let c=1;c<r+1;c++)n.push(c);for(let c=r-1;c>-1;c--)i.push(c);const a=IM(e,n,"in"),s=IM(e,i,"out");let o=RM(e);wg(e,o);let l=Number.POSITIVE_INFINITY,u;for(let c=0,f=0;f<4;++c,++f){DM(c%2?a:s,c%4>=2,!1,t),o=_c(e);const h=CM(e,o);h<l&&(f=0,u=Lo(o),l=h)}o=RM(e),wg(e,o);for(let c=0,f=0;f<4;++c,++f){DM(c%2?a:s,c%4>=2,!0,t),o=_c(e);const h=CM(e,o);h<l&&(f=0,u=Lo(o),l=h)}wg(e,u)},IM=(e,t,r)=>t.map(n=>Pne(e,n,r)),DM=(e,t,r,n)=>{const i=new Wr;e==null||e.forEach(a=>{var s;const o=a.getRoots()[0].id,l=KF(a,o,i,t,r,n);for(let u=0;u<((s=l.vs)===null||s===void 0?void 0:s.length);u++){const c=a.getNode(l.vs[u]);c&&(c.data.order=u)}One(a,i,l.vs)})},wg=(e,t)=>{t==null||t.forEach(r=>{r==null||r.forEach((n,i)=>{e.getNode(n).data.order=i})})},jne=(e,t)=>{const n=e.getAllNodes().filter(s=>{var o;return!(!((o=e.getChildren(s.id))===null||o===void 0)&&o.length)}).map(s=>s.data.rank),i=Math.max(...n),a=[];for(let s=0;s<i+1;s++)a[s]=[];t==null||t.forEach(s=>{const o=e.getNode(s);!o||o.data.dummy||isNaN(o.data.rank)||(o.data.fixorder=a[o.data.rank].length,a[o.data.rank].push(s))})},Gne=e=>{const t={};let r=0;const n=i=>{const a=r;e.getChildren(i).forEach(s=>n(s.id)),t[i]={low:a,lim:r++}};return e.getRoots().forEach(i=>n(i.id)),t},Wne=(e,t,r,n)=>{var i,a;const s=[],o=[],l=Math.min(t[r].low,t[n].low),u=Math.max(t[r].lim,t[n].lim);let c,f;c=r;do c=(i=e.getParent(c))===null||i===void 0?void 0:i.id,s.push(c);while(c&&(t[c].low>l||u>t[c].lim));for(f=c,c=n;c&&c!==f;)o.push(c),c=(a=e.getParent(c))===null||a===void 0?void 0:a.id;return{lca:f,path:s.concat(o.reverse())}},Vne=(e,t)=>{const r=Gne(e);t.forEach(n=>{var i,a;let s=n,o=e.getNode(s);const l=o.data.originalEdge;if(!l)return;const u=Wne(e,r,l.source,l.target),c=u.path,f=u.lca;let h=0,d=c[h],p=!0;for(;s!==l.target;){if(o=e.getNode(s),p){for(;d!==f&&((i=e.getNode(d))===null||i===void 0?void 0:i.data.maxRank)<o.data.rank;)h++,d=c[h];d===f&&(p=!1)}if(!p){for(;h<c.length-1&&((a=e.getNode(c[h+1]))===null||a===void 0?void 0:a.data.minRank)<=o.data.rank;)h++;d=c[h]}e.hasNode(d)&&e.setParent(s,d),s=e.getSuccessors(s)[0].id}})},Une=(e,t)=>{const r={},n=(i,a)=>{let s=0,o=0;const l=i.length,u=a==null?void 0:a[(a==null?void 0:a.length)-1];return a==null||a.forEach((c,f)=>{var h;const d=Yne(e,c),p=d?e.getNode(d.id).data.order:l;(d||c===u)&&((h=a.slice(o,f+1))===null||h===void 0||h.forEach(v=>{var g;(g=e.getPredecessors(v))===null||g===void 0||g.forEach(m=>{var y;const b=e.getNode(m.id),x=b.data.order;(x<s||p<x)&&!(b.data.dummy&&(!((y=e.getNode(v))===null||y===void 0)&&y.data.dummy))&&ZF(r,m.id,v)})}),o=f+1,s=p)}),a};return t!=null&&t.length&&t.reduce(n),r},Hne=(e,t)=>{const r={};function n(o,l,u,c,f){var h,d;let p;for(let v=l;v<u;v++)p=o[v],!((h=e.getNode(p))===null||h===void 0)&&h.data.dummy&&((d=e.getPredecessors(p))===null||d===void 0||d.forEach(g=>{const m=e.getNode(g.id);m.data.dummy&&(m.data.order<c||m.data.order>f)&&ZF(r,g.id,p)}))}function i(o){return JSON.stringify(o.slice(1))}function a(o,l){const u=i(o);l.get(u)||(n(...o),l.set(u,!0))}const s=(o,l)=>{let u=-1,c,f=0;const h=new Map;return l==null||l.forEach((d,p)=>{var v;if(((v=e.getNode(d))===null||v===void 0?void 0:v.data.dummy)==="border"){const g=e.getPredecessors(d)||[];g.length&&(c=e.getNode(g[0].id).data.order,a([l,f,p,u,c],h),f=p,u=c)}a([l,f,l.length,c,o.length],h)}),l};return t!=null&&t.length&&t.reduce(s),r},Yne=(e,t)=>{var r,n;if(!((r=e.getNode(t))===null||r===void 0)&&r.data.dummy)return(n=e.getPredecessors(t))===null||n===void 0?void 0:n.find(i=>e.getNode(i.id).data.dummy)},ZF=(e,t,r)=>{let n=t,i=r;if(n>i){const s=n;n=i,i=s}let a=e[n];a||(e[n]=a={}),a[i]=!0},Xne=(e,t,r)=>{let n=t,i=r;if(n>i){const a=t;n=i,i=a}return!!e[n]},Kne=(e,t,r,n)=>{const i={},a={},s={};return t==null||t.forEach(o=>{o==null||o.forEach((l,u)=>{i[l]=l,a[l]=l,s[l]=u})}),t==null||t.forEach(o=>{let l=-1;o==null||o.forEach(u=>{let c=n(u).map(f=>f.id);if(c.length){c=c.sort((h,d)=>s[h]-s[d]);const f=(c.length-1)/2;for(let h=Math.floor(f),d=Math.ceil(f);h<=d;++h){const p=c[h];a[u]===u&&l<s[p]&&!Xne(r,u,p)&&(a[p]=u,a[u]=i[u]=i[p],l=s[p])}}})}),{root:i,align:a}},Zne=(e,t,r,n,i,a,s)=>{var o;const l={},u=Qne(e,t,r,i,a,s),c=s?"borderLeft":"borderRight",f=(p,v)=>{let g=u.getAllNodes(),m=g.pop();const y={};for(;m;)y[m.id]?p(m.id):(y[m.id]=!0,g.push(m),g=g.concat(v(m.id))),m=g.pop()},h=p=>{l[p]=(u.getRelatedEdges(p,"in")||[]).reduce((v,g)=>Math.max(v,(l[g.source]||0)+g.data.weight),0)},d=p=>{const v=(u.getRelatedEdges(p,"out")||[]).reduce((m,y)=>Math.min(m,(l[y.target]||0)-y.data.weight),Number.POSITIVE_INFINITY),g=e.getNode(p);v!==Number.POSITIVE_INFINITY&&g.data.borderType!==c&&(l[p]=Math.max(l[p],v))};return f(h,u.getPredecessors.bind(u)),f(d,u.getSuccessors.bind(u)),(o=Object.values(n))===null||o===void 0||o.forEach(p=>{l[p]=l[r[p]]}),l},Qne=(e,t,r,n,i,a)=>{const s=new Wr,o=rie(n,i,a);return t==null||t.forEach(l=>{let u;l==null||l.forEach(c=>{const f=r[c];if(s.hasNode(f)||s.addNode({id:f,data:{}}),u){const h=r[u],d=s.getRelatedEdges(h,"out").find(p=>p.target===f);d?s.updateEdgeData(d.id,Object.assign(Object.assign({},d.data),{weight:Math.max(o(e,c,u),d.data.weight||0)})):s.addEdge({id:`e${Math.random()}`,source:h,target:f,data:{weight:Math.max(o(e,c,u),0)}})}u=c})}),s},Jne=(e,t)=>O2(Object.values(t),r=>{var n;let i=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return(n=Object.keys(r))===null||n===void 0||n.forEach(s=>{const o=r[s],l=nie(e,s)/2;i=Math.max(o+l,i),a=Math.min(o-l,a)}),i-a});function eie(e,t){const r=Object.values(t),n=Math.min(...r),i=Math.max(...r);["u","d"].forEach(a=>{["l","r"].forEach(s=>{const o=a+s,l=e[o];let u;if(l===t)return;const c=Object.values(l);u=s==="l"?n-Math.min(...c):i-Math.max(...c),u&&(e[o]={},Object.keys(l).forEach(f=>{e[o][f]=l[f]+u}))})})}const tie=(e,t)=>{const r={};return Object.keys(e.ul).forEach(n=>{if(t)r[n]=e[t.toLowerCase()][n];else{const i=Object.values(e).map(a=>a[n]);r[n]=(i[0]+i[1])/2}}),r},rie=(e,t,r)=>(n,i,a)=>{const s=n.getNode(i),o=n.getNode(a);let l=0,u=0;if(l+=s.data.width/2,s.data.hasOwnProperty("labelpos"))switch((s.data.labelpos||"").toLowerCase()){case"l":u=-s.data.width/2;break;case"r":u=s.data.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(s.data.dummy?t:e)/2,l+=(o.data.dummy?t:e)/2,l+=o.data.width/2,o.data.labelpos)switch((o.data.labelpos||"").toLowerCase()){case"l":u=o.data.width/2;break;case"r":u=-o.data.width/2;break}return u&&(l+=r?u:-u),u=0,l},nie=(e,t)=>e.getNode(t).data.width||0,iie=(e,t)=>{const{ranksep:r=0}=t||{},n=_c(e);let i=0;n==null||n.forEach(a=>{const s=a.map(l=>e.getNode(l).data.height),o=Math.max(...s,0);a==null||a.forEach(l=>{e.getNode(l).data.y=i+o/2}),i+=o+r})},aie=(e,t)=>{const{align:r,nodesep:n=0,edgesep:i=0}=t||{},a=_c(e),s=Object.assign(Une(e,a),Hne(e,a)),o={};let l=[];["u","d"].forEach(c=>{l=c==="u"?a:Object.values(a).reverse(),["l","r"].forEach(f=>{f==="r"&&(l=l.map(v=>Object.values(v).reverse()));const h=(c==="u"?e.getPredecessors:e.getSuccessors).bind(e),d=Kne(e,l,s,h),p=Zne(e,l,d.root,d.align,n,i,f==="r");f==="r"&&Object.keys(p).forEach(v=>p[v]=-p[v]),o[c+f]=p})});const u=Jne(e,o);return u&&eie(o,u),tie(o,r)},sie=(e,t)=>{var r;const n=GF(e);iie(n,t);const i=aie(n,t);(r=Object.keys(i))===null||r===void 0||r.forEach(a=>{n.getNode(a).data.x=i[a]})},QF=e=>{const t={},r=n=>{var i;const a=e.getNode(n);if(!a)return 0;if(t[n])return a.data.rank;t[n]=!0;let s;return(i=e.getRelatedEdges(n,"out"))===null||i===void 0||i.forEach(o=>{const l=r(o.target),u=o.data.minlen,c=l-u;c&&(s===void 0||c<s)&&(s=c)}),s||(s=0),a.data.rank=s,s};e.getAllNodes().filter(n=>e.getRelatedEdges(n.id,"in").length===0).forEach(n=>r(n.id))},oie=e=>{const t={};let r;const n=s=>{var o;const l=e.getNode(s);if(!l)return 0;if(t[s])return l.data.rank;t[s]=!0;let u;return(o=e.getRelatedEdges(s,"out"))===null||o===void 0||o.forEach(c=>{const f=n(c.target),h=c.data.minlen,d=f-h;d&&(u===void 0||d<u)&&(u=d)}),u||(u=0),(r===void 0||u<r)&&(r=u),l.data.rank=u,u};e.getAllNodes().filter(s=>e.getRelatedEdges(s.id,"in").length===0).forEach(s=>{s&&n(s.id)}),r===void 0&&(r=0);const i={},a=(s,o)=>{var l;const u=e.getNode(s),c=isNaN(u.data.layer)?o:u.data.layer;(u.data.rank===void 0||u.data.rank<c)&&(u.data.rank=c),!i[s]&&(i[s]=!0,(l=e.getRelatedEdges(s,"out"))===null||l===void 0||l.forEach(f=>{a(f.target,c+f.data.minlen)}))};e.getAllNodes().forEach(s=>{const o=s.data;o&&(isNaN(o.layer)?o.rank-=r:a(s.id,o.layer))})},Fs=(e,t)=>e.getNode(t.target).data.rank-e.getNode(t.source).data.rank-t.data.minlen,lie=e=>{const t=new Wr({tree:[]}),r=e.getAllNodes()[0],n=e.getAllNodes().length;t.addNode(r);let i,a;for(;uie(t,e)<n;)i=JF(t,e),a=t.hasNode(i.source)?Fs(e,i):-Fs(e,i),e4(t,e,a);return t},uie=(e,t)=>{const r=n=>{t.getRelatedEdges(n,"both").forEach(i=>{const a=i.source,s=n===a?i.target:a;!e.hasNode(s)&&!Fs(t,i)&&(e.addNode({id:s,data:{}}),e.addEdge({id:i.id,source:n,target:s,data:{}}),r(s))})};return e.getAllNodes().forEach(n=>r(n.id)),e.getAllNodes().length},cie=e=>{const t=new Wr({tree:[]}),r=e.getAllNodes()[0],n=e.getAllNodes().length;t.addNode(r);let i,a;for(;fie(t,e)<n;)i=JF(t,e),a=t.hasNode(i.source)?Fs(e,i):-Fs(e,i),e4(t,e,a);return t},fie=(e,t)=>{const r=n=>{var i;(i=t.getRelatedEdges(n,"both"))===null||i===void 0||i.forEach(a=>{const s=a.source,o=n===s?a.target:s;!e.hasNode(o)&&(t.getNode(o).data.layer!==void 0||!Fs(t,a))&&(e.addNode({id:o,data:{}}),e.addEdge({id:a.id,source:n,target:o,data:{}}),r(o))})};return e.getAllNodes().forEach(n=>r(n.id)),e.getAllNodes().length},JF=(e,t)=>O2(t.getAllEdges(),r=>e.hasNode(r.source)!==e.hasNode(r.target)?Fs(t,r):1/0),e4=(e,t,r)=>{e.getAllNodes().forEach(n=>{const i=t.getNode(n.id);i.data.rank||(i.data.rank=0),i.data.rank+=r})},hie=e=>{const t=fne(e);QF(t);const r=lie(t);r4(r),t4(r,t);let n,i;for(;n=vie(r);)i=gie(r,t,n),mie(r,t,n,i)},t4=(e,t)=>{let r=UF(e,e.getAllNodes(),"post");r=r.slice(0,(r==null?void 0:r.length)-1),r.forEach(n=>{die(e,t,n)})},die=(e,t,r)=>{const i=e.getNode(r).data.parent,a=e.getRelatedEdges(r,"both").find(s=>s.target===i||s.source===i);a.data.cutvalue=pie(e,t,r)},pie=(e,t,r)=>{const i=e.getNode(r).data.parent;let a=!0,s=t.getRelatedEdges(r,"out").find(l=>l.target===i),o=0;return s||(a=!1,s=t.getRelatedEdges(i,"out").find(l=>l.target===r)),o=s.data.weight,t.getRelatedEdges(r,"both").forEach(l=>{const u=l.source===r,c=u?l.target:l.source;if(c!==i){const f=u===a,h=l.data.weight;if(o+=f?h:-h,bie(e,r,c)){const d=e.getRelatedEdges(r,"both").find(p=>p.source===c||p.target===c).data.cutvalue;o+=f?-d:d}}}),o},r4=(e,t=e.getAllNodes()[0].id)=>{n4(e,{},1,t)},n4=(e,t,r,n,i)=>{var a;const s=r;let o=r;const l=e.getNode(n);return t[n]=!0,(a=e.getNeighbors(n))===null||a===void 0||a.forEach(u=>{t[u.id]||(o=n4(e,t,o,u.id,n))}),l.data.low=s,l.data.lim=o++,i?l.data.parent=i:delete l.data.parent,o},vie=e=>e.getAllEdges().find(t=>t.data.cutvalue<0),gie=(e,t,r)=>{let n=r.source,i=r.target;t.getRelatedEdges(n,"out").find(c=>c.target===i)||(n=r.target,i=r.source);const a=e.getNode(n),s=e.getNode(i);let o=a,l=!1;a.data.lim>s.data.lim&&(o=s,l=!0);const u=t.getAllEdges().filter(c=>l===FM(e.getNode(c.source),o)&&l!==FM(e.getNode(c.target),o));return O2(u,c=>Fs(t,c))},mie=(e,t,r,n)=>{const i=e.getRelatedEdges(r.source,"both").find(a=>a.source===r.target||a.target===r.target);i&&e.removeEdge(i.id),e.addEdge({id:`e${Math.random()}`,source:n.source,target:n.target,data:{}}),r4(e),t4(e,t),yie(e,t)},yie=(e,t)=>{const r=e.getAllNodes().find(i=>!i.data.parent);let n=UF(e,r,"pre");n=n.slice(1),n.forEach(i=>{const a=e.getNode(i).data.parent;let s=t.getRelatedEdges(i,"out").find(l=>l.target===a),o=!1;!s&&t.hasNode(a)&&(s=t.getRelatedEdges(a,"out").find(l=>l.target===i),o=!0),t.getNode(i).data.rank=(t.hasNode(a)&&t.getNode(a).data.rank||0)+(o?s==null?void 0:s.data.minlen:-(s==null?void 0:s.data.minlen))})},bie=(e,t,r)=>e.getRelatedEdges(t,"both").find(n=>n.source===r||n.target===r),FM=(e,t)=>t.data.low<=e.data.lim&&e.data.lim<=t.data.lim,wie=(e,t)=>{switch(t){case"network-simplex":_ie(e);break;case"tight-tree":BM(e);break;case"longest-path":xie(e);break;default:BM(e)}},xie=QF,BM=e=>{oie(e),cie(e)},_ie=e=>{hie(e)},Eie=(e,t)=>{const{edgeLabelSpace:r,keepNodeOrder:n,prevGraph:i,rankdir:a,ranksep:s}=t;!n&&i&&kie(e,i);const o=Nie(e);r&&(t.ranksep=Cie(o,{rankdir:a,ranksep:s}));let l;try{l=Sie(o,t)}catch(u){if(u.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,u);return}throw u}return Tie(e,o),l},Sie=(e,t)=>{const{ranker:r,rankdir:n="tb",nodeOrder:i,keepNodeOrder:a,align:s,nodesep:o=50,edgesep:l=20,ranksep:u=50}=t;zie(e),lne(e);const{nestingRoot:c,nodeRankFactor:f}=xne(e);wie(GF(e),r),Rie(e),pne(e,f),Sne(e,c),dne(e),Lie(e),Iie(e);const h=[];Tne(e,h),Vne(e,h),gne(e),a&&jne(e,i),zne(e,a),jie(e),mne(e,n),sie(e,{align:s,nodesep:o,edgesep:l,ranksep:u}),Gie(e),qie(e),Ane(e,h),Bie(e),yne(e,n);const{width:d,height:p}=Die(e);return Fie(e),$ie(e),une(e),{width:d,height:p}},kie=(e,t)=>{e.getAllNodes().forEach(r=>{const n=e.getNode(r.id);if(t.hasNode(r.id)){const i=t.getNode(r.id);n.data.fixorder=i.data._order,delete i.data._order}else delete n.data.fixorder})},Tie=(e,t)=>{e.getAllNodes().forEach(r=>{var n;const i=e.getNode(r.id);if(i){const a=t.getNode(r.id);i.data.x=a.data.x,i.data.y=a.data.y,i.data._order=a.data.order,i.data._rank=a.data.rank,!((n=t.getChildren(r.id))===null||n===void 0)&&n.length&&(i.data.width=a.data.width,i.data.height=a.data.height)}}),e.getAllEdges().forEach(r=>{const n=e.getEdge(r.id),i=t.getEdge(r.id);n.data.points=i?i.data.points:[],i&&i.data.hasOwnProperty("x")&&(n.data.x=i.data.x,n.data.y=i.data.y)})},Mie=["width","height","layer","fixorder"],Aie={width:0,height:0},Oie=["minlen","weight","width","height","labeloffset"],Pie={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},xg=["labelpos"],Nie=e=>{const t=new Wr({tree:[]});return e.getAllNodes().forEach(r=>{const n=qM(e.getNode(r.id).data),i=Object.assign(Object.assign({},Aie),n),a=$M(i,Mie);t.hasNode(r.id)||t.addNode({id:r.id,data:Object.assign({},a)});const s=e.hasTreeStructure("combo")?e.getParent(r.id,"combo"):e.getParent(r.id);Qe(s)||(t.hasNode(s.id)||t.addNode(Object.assign({},s)),t.setParent(r.id,s.id))}),e.getAllEdges().forEach(r=>{const n=qM(e.getEdge(r.id).data),i={};xg==null||xg.forEach(a=>{n[a]!==void 0&&(i[a]=n[a])}),t.addEdge({id:r.id,source:r.source,target:r.target,data:Object.assign({},Pie,$M(n,Oie),i)})}),t},Cie=(e,t)=>{const{ranksep:r=0,rankdir:n}=t;return e.getAllNodes().forEach(i=>{isNaN(i.data.layer)||i.data.layer||(i.data.layer=0)}),e.getAllEdges().forEach(i=>{var a;i.data.minlen*=2,((a=i.data.labelpos)===null||a===void 0?void 0:a.toLowerCase())!=="c"&&(n==="TB"||n==="BT"?i.data.width+=i.data.labeloffset:i.data.height+=i.data.labeloffset)}),r/2},Rie=e=>{e.getAllEdges().forEach(t=>{if(t.data.width&&t.data.height){const r=e.getNode(t.source),n=e.getNode(t.target),i={e:t,rank:(n.data.rank-r.data.rank)/2+r.data.rank};Ql(e,"edge-proxy",i,"_ep")}})},Lie=e=>{let t=0;return e.getAllNodes().forEach(r=>{var n,i;r.data.borderTop&&(r.data.minRank=(n=e.getNode(r.data.borderTop))===null||n===void 0?void 0:n.data.rank,r.data.maxRank=(i=e.getNode(r.data.borderBottom))===null||i===void 0?void 0:i.data.rank,t=Math.max(t,r.data.maxRank||-1/0))}),t},Iie=e=>{e.getAllNodes().forEach(t=>{t.data.dummy==="edge-proxy"&&(e.getEdge(t.data.e.id).data.labelRank=t.data.rank,e.removeNode(t.id))})},Die=(e,t)=>{let r,n=0,i,a=0;const{marginx:s=0,marginy:o=0}={},l=u=>{if(!u.data)return;const c=u.data.x,f=u.data.y,h=u.data.width,d=u.data.height;!isNaN(c)&&!isNaN(h)&&(r===void 0&&(r=c-h/2),r=Math.min(r,c-h/2),n=Math.max(n,c+h/2)),!isNaN(f)&&!isNaN(d)&&(i===void 0&&(i=f-d/2),i=Math.min(i,f-d/2),a=Math.max(a,f+d/2))};return e.getAllNodes().forEach(u=>{l(u)}),e.getAllEdges().forEach(u=>{u!=null&&u.data.hasOwnProperty("x")&&l(u)}),r-=s,i-=o,e.getAllNodes().forEach(u=>{u.data.x-=r,u.data.y-=i}),e.getAllEdges().forEach(u=>{var c;(c=u.data.points)===null||c===void 0||c.forEach(f=>{f.x-=r,f.y-=i}),u.data.hasOwnProperty("x")&&(u.data.x-=r),u.data.hasOwnProperty("y")&&(u.data.y-=i)}),{width:n-r+s,height:a-i+o}},Fie=e=>{e.getAllEdges().forEach(t=>{const r=e.getNode(t.source),n=e.getNode(t.target);let i,a;t.data.points?(i=t.data.points[0],a=t.data.points[t.data.points.length-1]):(t.data.points=[],i={x:n.data.x,y:n.data.y},a={x:r.data.x,y:r.data.y}),t.data.points.unshift(AM(r.data,i)),t.data.points.push(AM(n.data,a))})},Bie=e=>{e.getAllEdges().forEach(t=>{if(t.data.hasOwnProperty("x"))switch((t.data.labelpos==="l"||t.data.labelpos==="r")&&(t.data.width-=t.data.labeloffset),t.data.labelpos){case"l":t.data.x-=t.data.width/2+t.data.labeloffset;break;case"r":t.data.x+=t.data.width/2+t.data.labeloffset;break}})},$ie=e=>{e.getAllEdges().forEach(t=>{var r;t.data.reversed&&((r=t.data.points)===null||r===void 0||r.reverse())})},qie=e=>{e.getAllNodes().forEach(t=>{var r,n,i;if(!((r=e.getChildren(t.id))===null||r===void 0)&&r.length){const a=e.getNode(t.id),s=e.getNode(a.data.borderTop),o=e.getNode(a.data.borderBottom),l=e.getNode(a.data.borderLeft[((n=a.data.borderLeft)===null||n===void 0?void 0:n.length)-1]),u=e.getNode(a.data.borderRight[((i=a.data.borderRight)===null||i===void 0?void 0:i.length)-1]);a.data.width=Math.abs((u==null?void 0:u.data.x)-(l==null?void 0:l.data.x))||10,a.data.height=Math.abs((o==null?void 0:o.data.y)-(s==null?void 0:s.data.y))||10,a.data.x=((l==null?void 0:l.data.x)||0)+a.data.width/2,a.data.y=((s==null?void 0:s.data.y)||0)+a.data.height/2}}),e.getAllNodes().forEach(t=>{t.data.dummy==="border"&&e.removeNode(t.id)})},zie=e=>{e.getAllEdges().forEach(t=>{if(t.source===t.target){const r=e.getNode(t.source);r.data.selfEdges||(r.data.selfEdges=[]),r.data.selfEdges.push(t),e.removeEdge(t.id)}})},jie=e=>{const t=_c(e);t==null||t.forEach(r=>{let n=0;r==null||r.forEach((i,a)=>{var s;const o=e.getNode(i);o.data.order=a+n,(s=o.data.selfEdges)===null||s===void 0||s.forEach(l=>{Ql(e,"selfedge",{width:l.data.width,height:l.data.height,rank:o.data.rank,order:a+ ++n,e:l},"_se")}),delete o.data.selfEdges})})},Gie=e=>{e.getAllNodes().forEach(t=>{const r=e.getNode(t.id);if(r.data.dummy==="selfedge"){const n=e.getNode(r.data.e.source),i=n.data.x+n.data.width/2,a=n.data.y,s=r.data.x-i,o=n.data.height/2;e.hasEdge(r.data.e.id)?e.updateEdgeData(r.data.e.id,r.data.e.data):e.addEdge({id:r.data.e.id,source:r.data.e.source,target:r.data.e.target,data:r.data.e.data}),e.removeNode(t.id),r.data.e.data.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{y:a,x:i+s},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],r.data.e.data.x=r.data.x,r.data.e.data.y=r.data.y}})},$M=(e,t)=>{const r={};return t==null||t.forEach(n=>{e[n]!==void 0&&(r[n]=+e[n])}),r},qM=(e={})=>{const t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},Ba=Array.isArray,i4=e=>{const t=[],r=e.length;for(let n=0;n<r;n+=1){t[n]=[];for(let i=0;i<r;i+=1)n===i?t[n][i]=0:e[n][i]===0||!e[n][i]?t[n][i]=1/0:t[n][i]=e[n][i]}for(let n=0;n<r;n+=1)for(let i=0;i<r;i+=1)for(let a=0;a<r;a+=1)t[i][a]>t[i][n]+t[n][a]&&(t[i][a]=t[i][n]+t[n][a]);return t},a4=(e,t)=>{const{nodes:r,edges:n}=e,i=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((s,o)=>{a[s.id]=o;const l=[];i.push(l)}),n==null||n.forEach(s=>{const{source:o,target:l}=s,u=a[o],c=a[l];u===void 0||c===void 0||(i[u][c]=1,i[c][u]=1)}),i},Wie=(e,t)=>{const r=[];return e.forEach(n=>{const i=[];n.forEach(a=>{i.push(a*t)}),r.push(i)}),r},Vie=e=>{let t=1/0,r=1/0,n=-1/0,i=-1/0;return e.forEach(a=>{let s=a.data.size;Ba(s)?s.length===1&&(s=[s[0],s[0]]):Ye(s)?s=[s,s]:(s===void 0||isNaN(s))&&(s=[30,30]);const o=[s[0]/2,s[1]/2],l=a.data.x-o[0],u=a.data.x+o[0],c=a.data.y-o[1],f=a.data.y+o[1];t>l&&(t=l),r>c&&(r=c),n<u&&(n=u),i<f&&(i=f)}),{minX:t,minY:r,maxX:n,maxY:i}},zM=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),_x=(e,t,r,n="TB",i,a={})=>{if(!(t!=null&&t.length))return;const{stopBranchFn:s,stopAllFn:o}=a;for(let l=0;l<t.length;l++){const u=t[l];if(e.hasNode(u.id)&&!(s!=null&&s(u))){if(o!=null&&o(u))return;n==="TB"&&r(u),_x(e,e.getChildren(u.id,i),r,n,i,a),n!=="TB"&&r(u)}}},Ex=e=>{if(e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach(r=>{t.push(r)}),t.map(r=>Ex(r))}if(typeof e=="object"){const t={};return Object.keys(e).forEach(r=>{t[r]=Ex(e[r])}),t}return e},ti=(e,t)=>{const r=Ex(e);return r.data=r.data||{},t&&(Ye(r.data.x)||(r.data.x=Math.random()*t[0]),Ye(r.data.y)||(r.data.y=Math.random()*t[1])),r};function Vc(e){if(!e)return[0,0,0];if(Ye(e))return[e,e,e];if(e.length===0)return[0,0,0];const[t,r=t,n=t]=e;return[t,r,n]}function Mo(e,t){let r;return Ht(t)?r=t:Ye(t)?r=()=>t:r=()=>e,r}function P2(e,t,r=!0){return!t&&t!==0?n=>{const{size:i}=n.data||{};return i?Array.isArray(i)?r?Math.max(...i)||e:i:Xa(i)&&i.width&&i.height?r?Math.max(i.width,i.height)||e:[i.width,i.height]:i:e}:Ht(t)?t:Ye(t)?()=>t:Array.isArray(t)?()=>r?Math.max(...t)||e:t:Xa(t)&&t.width&&t.height?()=>r?Math.max(t.width,t.height)||e:[t.width,t.height]:()=>e}const N2=(e,t,r=10)=>{let n;const i=typeof t=="function"?t:()=>t||0;return e?Array.isArray(e)?n=s=>e:Ht(e)?n=e:n=s=>e:n=s=>{var o,l,u;if(!((o=s.data)===null||o===void 0)&&o.bboxSize)return(l=s.data)===null||l===void 0?void 0:l.bboxSize;if(!((u=s.data)===null||u===void 0)&&u.size){const c=s.data.size;return Array.isArray(c)?c:Xa(c)?[c.width,c.height]:c}return r},s=>{const o=n(s),l=i(s);return Math.max(...Vc(o))+l}},Uie={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class Wve{constructor(t={}){this.options=t,this.id="antv-dagre",this.options=Object.assign(Object.assign({},Uie),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,r)})}genericDagreLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{nodeSize:a,align:s,rankdir:o="TB",ranksep:l,nodesep:u,ranksepFunc:c,nodesepFunc:f,edgeLabelSpace:h,ranker:d,nodeOrder:p,begin:v,controlPoints:g,radial:m,sortByCombo:y,preset:b}=i,x=new Wr({tree:[]}),E=Mo(l||50,c),S=Mo(u||50,f);let _=S,k=E;(o==="LR"||o==="RL")&&(_=E,k=S);const O=P2(10,a,!1),P=r.getAllNodes(),N=r.getAllEdges();P.forEach(V=>{const ne=Vc(O(V)),we=k(V),Se=_(V),pe=ne[0]+2*Se,qe=ne[1]+2*we,ee=V.data.layer;Ye(ee)?x.addNode({id:V.id,data:{width:pe,height:qe,layer:ee}}):x.addNode({id:V.id,data:{width:pe,height:qe}})}),y&&(x.attachTreeStructure("combo"),P.forEach(V=>{const{parentId:ne}=V.data;ne!==void 0&&x.hasNode(ne)&&x.setParent(V.id,ne,"combo")})),N.forEach(V=>{x.addEdge({id:V.id,source:V.source,target:V.target,data:{weight:V.data.weight||1}})});let R;b!=null&&b.length&&(R=new Wr({nodes:b})),Eie(x,{prevGraph:R,edgeLabelSpace:h,keepNodeOrder:!!p,nodeOrder:p||[],acyclicer:"greedy",ranker:d,rankdir:o,nodesep:u,align:s});const L=[0,0];if(v){let V=1/0,ne=1/0;x.getAllNodes().forEach(we=>{V>we.data.x&&(V=we.data.x),ne>we.data.y&&(ne=we.data.y)}),x.getAllEdges().forEach(we=>{var Se;(Se=we.data.points)===null||Se===void 0||Se.forEach(pe=>{V>pe.x&&(V=pe.x),ne>pe.y&&(ne=pe.y)})}),L[0]=v[0]-V,L[1]=v[1]-ne}const D=o==="LR"||o==="RL";if(!m){const V=new Set,we=o==="BT"||o==="RL"?(ee,U)=>U-ee:(ee,U)=>ee-U;x.getAllNodes().forEach(ee=>{ee.data.x=ee.data.x+L[0],ee.data.y=ee.data.y+L[1],V.add(D?ee.data.x:ee.data.y)});const Se=Array.from(V).sort(we),pe=D?(ee,U)=>ee.x!==U.x:(ee,U)=>ee.y!==U.y,qe=D?(ee,U,le)=>{const Z=Math.max(U.y,le.y),se=Math.min(U.y,le.y);return ee.filter(ve=>ve.y<=Z&&ve.y>=se)}:(ee,U,le)=>{const Z=Math.max(U.x,le.x),se=Math.min(U.x,le.x);return ee.filter(ve=>ve.x<=Z&&ve.x>=se)};x.getAllEdges().forEach((ee,U)=>{var le;h&&g&&ee.data.type!=="loop"&&(ee.data.controlPoints=Hie((le=ee.data.points)===null||le===void 0?void 0:le.map(({x:Z,y:se})=>({x:Z+L[0],y:se+L[1]})),x.getNode(ee.source),x.getNode(ee.target),Se,D,pe,qe))})}let $=[];$=x.getAllNodes().map(V=>ti(V));const X=x.getAllEdges();return t&&($.forEach(V=>{r.mergeNodeData(V.id,{x:V.data.x,y:V.data.y})}),X.forEach(V=>{r.mergeEdgeData(V.id,{controlPoints:V.data.controlPoints})})),{nodes:$,edges:X}})}}const Hie=(e,t,r,n,i,a,s)=>{let o=(e==null?void 0:e.slice(1,e.length-1))||[];if(t&&r){let{x:l,y:u}=t.data,{x:c,y:f}=r.data;if(i&&(l=t.data.y,u=t.data.x,c=r.data.y,f=r.data.x),f!==u&&l!==c){const h=n.indexOf(u),d=n[h+1];if(d){const g=o[0],m=i?{x:(u+d)/2,y:(g==null?void 0:g.y)||c}:{x:(g==null?void 0:g.x)||c,y:(u+d)/2};(!g||a(g,m))&&o.unshift(m)}const p=n.indexOf(f),v=Math.abs(p-h);if(v===1)o=s(o,t.data,r.data),o.length||o.push(i?{x:(u+f)/2,y:l}:{x:l,y:(u+f)/2});else if(v>1){const g=n[p-1];if(g){const m=o[o.length-1],y=i?{x:(f+g)/2,y:(m==null?void 0:m.y)||c}:{x:(m==null?void 0:m.x)||l,y:(f+g)/2};(!m||a(m,y))&&o.push(y)}}}}return o},Go=(e,t,r)=>{const n=e.getAllNodes(),i=e.getAllEdges();if(!(n!=null&&n.length))return{nodes:[],edges:i};if(n.length===1)return t&&e.mergeNodeData(n[0].id,{x:r[0],y:r[1]}),{nodes:[Object.assign(Object.assign({},n[0]),{data:Object.assign(Object.assign({},n[0].data),{x:r[0],y:r[1]})})],edges:i}},Yie={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class Vve{constructor(t={}){this.options=t,this.id="circular",this.options=Object.assign(Object.assign({},Yie),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,t,r)})}genericCircularLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{width:a,height:s,center:o,divisions:l,startAngle:u=0,endAngle:c=2*Math.PI,angleRatio:f,ordering:h,clockwise:d,nodeSpacing:p,nodeSize:v}=i,g=r.getAllNodes(),m=r.getAllEdges(),[y,b,x]=Kie(a,s,o),E=g==null?void 0:g.length;if(!E||E===1)return Go(r,t,x);const S=(c-u)/E;let{radius:_,startRadius:k,endRadius:O}=i;if(p){const D=Mo(10,p),$=P2(10,v);let X=-1/0;g.forEach(V=>{const ne=$(V);X<ne&&(X=ne)});let K=0;g.forEach((V,ne)=>{ne===0?K+=X||10:K+=(D(V)||0)+(X||10)}),_=K/(2*Math.PI)}else!_&&!k&&!O?_=Math.min(b,y)/2:!k&&O?k=O:k&&!O&&(O=k);const P=S*f;let N=[];h==="topology"?N=jM(r,g):h==="topology-directed"?N=jM(r,g,!0):h==="degree"?N=Xie(r,g):N=g.map(D=>ti(D));const R=Math.ceil(E/l);for(let D=0;D<E;++D){let $=_;!$&&k!==null&&O!==null&&($=k+D*(O-k)/(E-1)),$||($=10+D*100/(E-1));let X=u+D%R*P+2*Math.PI/l*Math.floor(D/R);d||(X=c-D%R*P-2*Math.PI/l*Math.floor(D/R)),N[D].data.x=x[0]+Math.cos(X)*$,N[D].data.y=x[1]+Math.sin(X)*$}return t&&N.forEach(D=>{r.mergeNodeData(D.id,{x:D.data.x,y:D.data.y})}),{nodes:N,edges:m}})}}const jM=(e,t,r=!1)=>{const n=[ti(t[0])],i={},a=t.length;i[t[0].id]=!0;let s=0;return t.forEach((o,l)=>{if(l!==0)if((l===a-1||e.getDegree(o.id,"both")!==e.getDegree(t[l+1].id,"both")||e.areNeighbors(n[s].id,o.id))&&!i[o.id])n.push(ti(o)),i[o.id]=!0,s++;else{const u=r?e.getSuccessors(n[s].id):e.getNeighbors(n[s].id);let c=!1;for(let h=0;h<u.length;h++){const d=u[h];if(e.getDegree(d.id)===e.getDegree(o.id)&&!i[d.id]){n.push(ti(d)),i[d.id]=!0,c=!0;break}}let f=0;for(;!c&&(i[t[f].id]||(n.push(ti(t[f])),i[t[f].id]=!0,c=!0),f++,f!==a););}}),n};function Xie(e,t){const r=[];return t.forEach((n,i)=>{r.push(ti(n))}),r.sort((n,i)=>e.getDegree(n.id,"both")-e.getDegree(i.id,"both")),r}const Kie=(e,t,r)=>{let n=e,i=t,a=r;return!n&&typeof window<"u"&&(n=window.innerWidth),!i&&typeof window<"u"&&(i=window.innerHeight),a||(a=[n/2,i/2]),[n,i,a]},Zie={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class GM{constructor(t={}){this.options=t,this.id="concentric",this.options=Object.assign(Object.assign({},Zie),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,t,r)})}genericConcentricLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{center:a,width:s,height:o,sortBy:l,maxLevelDiff:u,sweep:c,clockwise:f,equidistant:h,preventOverlap:d,startAngle:p=3/2*Math.PI,nodeSize:v,nodeSpacing:g}=i,m=r.getAllNodes(),y=r.getAllEdges(),b=!s&&typeof window<"u"?window.innerWidth:s,x=!o&&typeof window<"u"?window.innerHeight:o,E=a||[b/2,x/2];if(!(m!=null&&m.length)||m.length===1)return Go(r,t,E);const S=[];let _,k=0;Ba(v)?_=Math.max(v[0],v[1]):Ht(v)?(_=-1/0,m.forEach(V=>{const ne=Math.max(...Vc(v(V)));ne>_&&(_=ne)})):_=v,Ba(g)?k=Math.max(g[0],g[1]):Ye(g)&&(k=g),m.forEach(V=>{const ne=ti(V);S.push(ne);let we=_;const{data:Se}=ne;Ba(Se.size)?we=Math.max(Se.size[0],Se.size[1]):Ye(Se.size)?we=Se.size:Xa(Se.size)&&(we=Math.max(Se.size.width,Se.size.height)),_=Math.max(_,we),Ht(g)&&(k=Math.max(g(V),k))});const O={};S.forEach((V,ne)=>{O[V.id]=ne});let P=l;(!Ft(P)||S[0].data[P]===void 0)&&(P="degree"),P==="degree"?S.sort((V,ne)=>r.getDegree(ne.id,"both")-r.getDegree(V.id,"both")):S.sort((V,ne)=>ne.data[P]-V.data[P]);const N=S[0],R=(u||(P==="degree"?r.getDegree(N.id,"both"):N.data[P]))/4,L=[{nodes:[]}];let D=L[0];S.forEach(V=>{if(D.nodes.length>0){const ne=Math.abs(P==="degree"?r.getDegree(D.nodes[0].id,"both")-r.getDegree(V.id,"both"):D.nodes[0].data[P]-V.data[P]);R&&ne>=R&&(D={nodes:[]},L.push(D))}D.nodes.push(V)});let $=_+k;if(!d){const V=L.length>0&&L[0].nodes.length>1,we=(Math.min(b,x)/2-$)/(L.length+(V?1:0));$=Math.min($,we)}let X=0;if(L.forEach(V=>{const ne=c===void 0?2*Math.PI-2*Math.PI/V.nodes.length:c;if(V.dTheta=ne/Math.max(1,V.nodes.length-1),V.nodes.length>1&&d){const we=Math.cos(V.dTheta)-Math.cos(0),Se=Math.sin(V.dTheta)-Math.sin(0),pe=Math.sqrt($*$/(we*we+Se*Se));X=Math.max(pe,X)}V.r=X,X+=$}),h){let V=0,ne=0;for(let we=0;we<L.length;we++){const pe=(L[we].r||0)-ne;V=Math.max(V,pe)}ne=0,L.forEach((we,Se)=>{Se===0&&(ne=we.r||0),we.r=ne,ne+=V})}return L.forEach(V=>{const ne=V.dTheta||0,we=V.r||0;V.nodes.forEach((Se,pe)=>{const qe=p+(f?1:-1)*ne*pe;Se.data.x=E[0]+we*Math.cos(qe),Se.data.y=E[1]+we*Math.sin(qe)})}),t&&S.forEach(V=>r.mergeNodeData(V.id,{x:V.data.x,y:V.data.y})),{nodes:S,edges:y}})}}function Qie(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return s4(this.cover(t,r),t,r,e)}function s4(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,a=e._root,s={data:n},o=e._x0,l=e._y0,u=e._x1,c=e._y1,f,h,d,p,v,g,m,y;if(!a)return e._root=s,e;for(;a.length;)if((v=t>=(f=(o+u)/2))?o=f:u=f,(g=r>=(h=(l+c)/2))?l=h:c=h,i=a,!(a=a[m=g<<1|v]))return i[m]=s,e;if(d=+e._x.call(null,a.data),p=+e._y.call(null,a.data),t===d&&r===p)return s.next=a,i?i[m]=s:e._root=s,e;do i=i?i[m]=new Array(4):e._root=new Array(4),(v=t>=(f=(o+u)/2))?o=f:u=f,(g=r>=(h=(l+c)/2))?l=h:c=h;while((m=g<<1|v)===(y=(p>=h)<<1|d>=f));return i[y]=a,i[m]=s,e}function Jie(e){var t,r,n=e.length,i,a,s=new Array(n),o=new Array(n),l=1/0,u=1/0,c=-1/0,f=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,t=e[r]))||isNaN(a=+this._y.call(null,t))||(s[r]=i,o[r]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>f&&(f=a));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),r=0;r<n;++r)s4(this,s[r],o[r],e[r]);return this}function eae(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,a=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,a=(n=Math.floor(t))+1;else{for(var s=i-r||1,o=this._root,l,u;r>e||e>=i||n>t||t>=a;)switch(u=(t<n)<<1|e<r,l=new Array(4),l[u]=o,o=l,s*=2,u){case 0:i=r+s,a=n+s;break;case 1:r=i-s,a=n+s;break;case 2:i=r+s,n=a-s;break;case 3:r=i-s,n=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._y0=n,this._x1=i,this._y1=a,this}function tae(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function rae(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Mn(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i}function nae(e,t,r){var n,i=this._x0,a=this._y0,s,o,l,u,c=this._x1,f=this._y1,h=[],d=this._root,p,v;for(d&&h.push(new Mn(d,i,a,c,f)),r==null?r=1/0:(i=e-r,a=t-r,c=e+r,f=t+r,r*=r);p=h.pop();)if(!(!(d=p.node)||(s=p.x0)>c||(o=p.y0)>f||(l=p.x1)<i||(u=p.y1)<a))if(d.length){var g=(s+l)/2,m=(o+u)/2;h.push(new Mn(d[3],g,m,l,u),new Mn(d[2],s,m,g,u),new Mn(d[1],g,o,l,m),new Mn(d[0],s,o,g,m)),(v=(t>=m)<<1|e>=g)&&(p=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=p)}else{var y=e-+this._x.call(null,d.data),b=t-+this._y.call(null,d.data),x=y*y+b*b;if(x<r){var E=Math.sqrt(r=x);i=e-E,a=t-E,c=e+E,f=t+E,n=d.data}}return n}function iae(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,r=this._root,n,i,a,s=this._x0,o=this._y0,l=this._x1,u=this._y1,c,f,h,d,p,v,g,m;if(!r)return this;if(r.length)for(;;){if((p=c>=(h=(s+l)/2))?s=h:l=h,(v=f>=(d=(o+u)/2))?o=d:u=d,t=r,!(r=r[g=v<<1|p]))return this;if(!r.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(n=t,m=g)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,i?(a?i.next=a:delete i.next,this):t?(a?t[g]=a:delete t[g],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[m]=r:this._root=r),this):(this._root=a,this)}function aae(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function sae(){return this._root}function oae(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function lae(e){var t=[],r,n=this._root,i,a,s,o,l;for(n&&t.push(new Mn(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,a=r.x0,s=r.y0,o=r.x1,l=r.y1)&&n.length){var u=(a+o)/2,c=(s+l)/2;(i=n[3])&&t.push(new Mn(i,u,c,o,l)),(i=n[2])&&t.push(new Mn(i,a,c,u,l)),(i=n[1])&&t.push(new Mn(i,u,s,o,c)),(i=n[0])&&t.push(new Mn(i,a,s,u,c))}return this}function uae(e){var t=[],r=[],n;for(this._root&&t.push(new Mn(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var i=n.node;if(i.length){var a,s=n.x0,o=n.y0,l=n.x1,u=n.y1,c=(s+l)/2,f=(o+u)/2;(a=i[0])&&t.push(new Mn(a,s,o,c,f)),(a=i[1])&&t.push(new Mn(a,c,o,l,f)),(a=i[2])&&t.push(new Mn(a,s,f,c,u)),(a=i[3])&&t.push(new Mn(a,c,f,l,u))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function cae(e){return e[0]}function fae(e){return arguments.length?(this._x=e,this):this._x}function hae(e){return e[1]}function dae(e){return arguments.length?(this._y=e,this):this._y}function bp(e,t,r){var n=new C2(t??cae,r??hae,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function C2(e,t,r,n,i,a){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=a,this._root=void 0}function WM(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Pn=bp.prototype=C2.prototype;Pn.copy=function(){var e=new C2(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=WM(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var i=0;i<4;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(4)}):t.target[i]=WM(n));return e};Pn.add=Qie;Pn.addAll=Jie;Pn.cover=eae;Pn.data=tae;Pn.extent=rae;Pn.find=nae;Pn.remove=iae;Pn.removeAll=aae;Pn.root=sae;Pn.size=oae;Pn.visit=lae;Pn.visitAfter=uae;Pn.x=fae;Pn.y=dae;function pae(e){const t=+this._x.call(null,e),r=+this._y.call(null,e),n=+this._z.call(null,e);return o4(this.cover(t,r,n),t,r,n,e)}function o4(e,t,r,n,i){if(isNaN(t)||isNaN(r)||isNaN(n))return e;var a,s=e._root,o={data:i},l=e._x0,u=e._y0,c=e._z0,f=e._x1,h=e._y1,d=e._z1,p,v,g,m,y,b,x,E,S,_,k;if(!s)return e._root=o,e;for(;s.length;)if((x=t>=(p=(l+f)/2))?l=p:f=p,(E=r>=(v=(u+h)/2))?u=v:h=v,(S=n>=(g=(c+d)/2))?c=g:d=g,a=s,!(s=s[_=S<<2|E<<1|x]))return a[_]=o,e;if(m=+e._x.call(null,s.data),y=+e._y.call(null,s.data),b=+e._z.call(null,s.data),t===m&&r===y&&n===b)return o.next=s,a?a[_]=o:e._root=o,e;do a=a?a[_]=new Array(8):e._root=new Array(8),(x=t>=(p=(l+f)/2))?l=p:f=p,(E=r>=(v=(u+h)/2))?u=v:h=v,(S=n>=(g=(c+d)/2))?c=g:d=g;while((_=S<<2|E<<1|x)===(k=(b>=g)<<2|(y>=v)<<1|m>=p));return a[k]=s,a[_]=o,e}function vae(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,r=new Float64Array(t),n=new Float64Array(t),i=new Float64Array(t);let a=1/0,s=1/0,o=1/0,l=-1/0,u=-1/0,c=-1/0;for(let f=0,h,d,p,v;f<t;++f)isNaN(d=+this._x.call(null,h=e[f]))||isNaN(p=+this._y.call(null,h))||isNaN(v=+this._z.call(null,h))||(r[f]=d,n[f]=p,i[f]=v,d<a&&(a=d),d>l&&(l=d),p<s&&(s=p),p>u&&(u=p),v<o&&(o=v),v>c&&(c=v));if(a>l||s>u||o>c)return this;this.cover(a,s,o).cover(l,u,c);for(let f=0;f<t;++f)o4(this,r[f],n[f],i[f],e[f]);return this}function gae(e,t,r){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,a=this._z0,s=this._x1,o=this._y1,l=this._z1;if(isNaN(n))s=(n=Math.floor(e))+1,o=(i=Math.floor(t))+1,l=(a=Math.floor(r))+1;else{for(var u=s-n||1,c=this._root,f,h;n>e||e>=s||i>t||t>=o||a>r||r>=l;)switch(h=(r<a)<<2|(t<i)<<1|e<n,f=new Array(8),f[h]=c,c=f,u*=2,h){case 0:s=n+u,o=i+u,l=a+u;break;case 1:n=s-u,o=i+u,l=a+u;break;case 2:s=n+u,i=o-u,l=a+u;break;case 3:n=s-u,i=o-u,l=a+u;break;case 4:s=n+u,o=i+u,a=l-u;break;case 5:n=s-u,o=i+u,a=l-u;break;case 6:s=n+u,i=o-u,a=l-u;break;case 7:n=s-u,i=o-u,a=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._z0=a,this._x1=s,this._y1=o,this._z1=l,this}function mae(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function yae(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Gt(e,t,r,n,i,a,s){this.node=e,this.x0=t,this.y0=r,this.z0=n,this.x1=i,this.y1=a,this.z1=s}function bae(e,t,r,n){var i,a=this._x0,s=this._y0,o=this._z0,l,u,c,f,h,d,p=this._x1,v=this._y1,g=this._z1,m=[],y=this._root,b,x;for(y&&m.push(new Gt(y,a,s,o,p,v,g)),n==null?n=1/0:(a=e-n,s=t-n,o=r-n,p=e+n,v=t+n,g=r+n,n*=n);b=m.pop();)if(!(!(y=b.node)||(l=b.x0)>p||(u=b.y0)>v||(c=b.z0)>g||(f=b.x1)<a||(h=b.y1)<s||(d=b.z1)<o))if(y.length){var E=(l+f)/2,S=(u+h)/2,_=(c+d)/2;m.push(new Gt(y[7],E,S,_,f,h,d),new Gt(y[6],l,S,_,E,h,d),new Gt(y[5],E,u,_,f,S,d),new Gt(y[4],l,u,_,E,S,d),new Gt(y[3],E,S,c,f,h,_),new Gt(y[2],l,S,c,E,h,_),new Gt(y[1],E,u,c,f,S,_),new Gt(y[0],l,u,c,E,S,_)),(x=(r>=_)<<2|(t>=S)<<1|e>=E)&&(b=m[m.length-1],m[m.length-1]=m[m.length-1-x],m[m.length-1-x]=b)}else{var k=e-+this._x.call(null,y.data),O=t-+this._y.call(null,y.data),P=r-+this._z.call(null,y.data),N=k*k+O*O+P*P;if(N<n){var R=Math.sqrt(n=N);a=e-R,s=t-R,o=r-R,p=e+R,v=t+R,g=r+R,i=y.data}}return i}const wae=(e,t,r,n,i,a)=>Math.sqrt((e-n)**2+(t-i)**2+(r-a)**2);function xae(e,t,r,n){const i=[],a=e-n,s=t-n,o=r-n,l=e+n,u=t+n,c=r+n;return this.visit((f,h,d,p,v,g,m)=>{if(!f.length)do{const y=f.data;wae(e,t,r,this._x(y),this._y(y),this._z(y))<=n&&i.push(y)}while(f=f.next);return h>l||d>u||p>c||v<a||g<s||m<o}),i}function _ae(e){if(isNaN(h=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e))||isNaN(p=+this._z.call(null,e)))return this;var t,r=this._root,n,i,a,s=this._x0,o=this._y0,l=this._z0,u=this._x1,c=this._y1,f=this._z1,h,d,p,v,g,m,y,b,x,E,S;if(!r)return this;if(r.length)for(;;){if((y=h>=(v=(s+u)/2))?s=v:u=v,(b=d>=(g=(o+c)/2))?o=g:c=g,(x=p>=(m=(l+f)/2))?l=m:f=m,t=r,!(r=r[E=x<<2|b<<1|y]))return this;if(!r.length)break;(t[E+1&7]||t[E+2&7]||t[E+3&7]||t[E+4&7]||t[E+5&7]||t[E+6&7]||t[E+7&7])&&(n=t,S=E)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,i?(a?i.next=a:delete i.next,this):t?(a?t[E]=a:delete t[E],(r=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&r===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[S]=r:this._root=r),this):(this._root=a,this)}function Eae(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Sae(){return this._root}function kae(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Tae(e){var t=[],r,n=this._root,i,a,s,o,l,u,c;for(n&&t.push(new Gt(n,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=t.pop();)if(!e(n=r.node,a=r.x0,s=r.y0,o=r.z0,l=r.x1,u=r.y1,c=r.z1)&&n.length){var f=(a+l)/2,h=(s+u)/2,d=(o+c)/2;(i=n[7])&&t.push(new Gt(i,f,h,d,l,u,c)),(i=n[6])&&t.push(new Gt(i,a,h,d,f,u,c)),(i=n[5])&&t.push(new Gt(i,f,s,d,l,h,c)),(i=n[4])&&t.push(new Gt(i,a,s,d,f,h,c)),(i=n[3])&&t.push(new Gt(i,f,h,o,l,u,d)),(i=n[2])&&t.push(new Gt(i,a,h,o,f,u,d)),(i=n[1])&&t.push(new Gt(i,f,s,o,l,h,d)),(i=n[0])&&t.push(new Gt(i,a,s,o,f,h,d))}return this}function Mae(e){var t=[],r=[],n;for(this._root&&t.push(new Gt(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=t.pop();){var i=n.node;if(i.length){var a,s=n.x0,o=n.y0,l=n.z0,u=n.x1,c=n.y1,f=n.z1,h=(s+u)/2,d=(o+c)/2,p=(l+f)/2;(a=i[0])&&t.push(new Gt(a,s,o,l,h,d,p)),(a=i[1])&&t.push(new Gt(a,h,o,l,u,d,p)),(a=i[2])&&t.push(new Gt(a,s,d,l,h,c,p)),(a=i[3])&&t.push(new Gt(a,h,d,l,u,c,p)),(a=i[4])&&t.push(new Gt(a,s,o,p,h,d,f)),(a=i[5])&&t.push(new Gt(a,h,o,p,u,d,f)),(a=i[6])&&t.push(new Gt(a,s,d,p,h,c,f)),(a=i[7])&&t.push(new Gt(a,h,d,p,u,c,f))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.z0,n.x1,n.y1,n.z1);return this}function Aae(e){return e[0]}function Oae(e){return arguments.length?(this._x=e,this):this._x}function Pae(e){return e[1]}function Nae(e){return arguments.length?(this._y=e,this):this._y}function Cae(e){return e[2]}function Rae(e){return arguments.length?(this._z=e,this):this._z}function l4(e,t,r,n){var i=new R2(t??Aae,r??Pae,n??Cae,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function R2(e,t,r,n,i,a,s,o,l){this._x=e,this._y=t,this._z=r,this._x0=n,this._y0=i,this._z0=a,this._x1=s,this._y1=o,this._z1=l,this._root=void 0}function VM(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var nn=l4.prototype=R2.prototype;nn.copy=function(){var e=new R2(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=VM(t),e;for(r=[{source:t,target:e._root=new Array(8)}];t=r.pop();)for(var i=0;i<8;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(8)}):t.target[i]=VM(n));return e};nn.add=pae;nn.addAll=vae;nn.cover=gae;nn.data=mae;nn.extent=yae;nn.find=bae;nn.findAllWithinRadius=xae;nn.remove=_ae;nn.removeAll=Eae;nn.root=Sae;nn.size=kae;nn.visit=Tae;nn.visitAfter=Mae;nn.x=Oae;nn.y=Nae;nn.z=Rae;const Lae=.81,_g=.1;function Iae(e,t,r,n,i=2){const a=t/r,s=e.getAllNodes(),o=s.map((c,f)=>{const{nodeStrength:h,x:d,y:p,z:v,size:g}=c.data;return{x:d,y:p,z:v,size:g,index:f,id:c.id,vx:0,vy:0,vz:0,weight:a*h}}),l=(i===2?bp(o,c=>c.x,c=>c.y):l4(o,c=>c.x,c=>c.y,c=>c.z)).visitAfter(Dae),u=new Map;return o.forEach(c=>{u.set(c.id,c),Bae(c,l,i)}),o.map((c,f)=>{const{id:h,data:d}=s[f],{mass:p=1}=d;n[h]={x:c.vx/p,y:c.vy/p,z:c.vz/p}}),n}function Dae(e){let t=0,r=0,n=0,i=0,a=0;const s=e.length;if(s){for(let o=0;o<s;o++){const l=e[o];l&&l.weight&&(t+=l.weight,r+=l.x*l.weight,n+=l.y*l.weight,i+=l.z*l.weight,a+=l.size*l.weight)}e.x=r/t,e.y=n/t,e.z=i/t,e.size=a/t,e.weight=t}else{const o=e;e.x=o.data.x,e.y=o.data.y,e.z=o.data.z,e.size=o.data.size,e.weight=o.data.weight}}const Fae=(e,t,r,n,i,a,s)=>{var o;if(((o=e.data)===null||o===void 0?void 0:o.id)===a.id)return;const l=[r,n,i][s-1],u=a.x-e.x||_g,c=a.y-e.y||_g,f=a.z-e.z||_g,h=[u,c,f],d=l-t;let p=0;for(let m=0;m<s;m++)p+=h[m]*h[m];const g=Math.sqrt(p)*p;if(d*d*Lae<p){const m=e.weight/g;return a.vx+=u*m,a.vy+=c*m,a.vz+=f*m,!0}if(e.length)return!1;if(e.data!==a){const m=e.data.weight/g;a.vx+=u*m,a.vy+=c*m,a.vz+=f*m}};function Bae(e,t,r){t.visit((n,i,a,s,o)=>Fae(n,i,a,s,o,e,r))}const $ae={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class qae{constructor(t={}){this.options=t,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},$ae),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericForceLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,t,r)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let n=0;(this.judgingDistance>this.lastOptions.minMovement||n<1)&&n<t;n++)this.runOneStep(this.lastCalcGraph,this.lastGraph,n,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const r={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&r.nodes.forEach(n=>this.lastGraph.mergeNodeData(n.id,{x:n.data.x,y:n.data.y,z:this.options.dimensions===3?n.data.z:void 0})),r}genericForceLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),a=r.getAllNodes(),s=r.getAllEdges(),o=this.formatOptions(i,r),{dimensions:l,width:u,height:c,nodeSize:f,getMass:h,nodeStrength:d,edgeStrength:p,linkDistance:v}=o,g=a.map((k,O)=>Object.assign(Object.assign({},k),{data:Object.assign(Object.assign({},k.data),{x:Ye(k.data.x)?k.data.x:Math.random()*u,y:Ye(k.data.y)?k.data.y:Math.random()*c,z:Ye(k.data.z)?k.data.z:Math.random()*Math.sqrt(u*c),size:f(k)||30,mass:h(k),nodeStrength:d(k)})})),m=s.map(k=>Object.assign(Object.assign({},k),{data:Object.assign(Object.assign({},k.data),{edgeStrength:p(k),linkDistance:v(k,r.getNode(k.source),r.getNode(k.target))})}));if(!(a!=null&&a.length))return this.lastResult={nodes:[],edges:s},{nodes:[],edges:s};const y={};a.forEach((k,O)=>{y[k.id]={x:0,y:0,z:0}});const b=new Wr({nodes:g,edges:m});this.formatCentripetal(o,b);const{maxIteration:x,minMovement:E,onTick:S}=o;if(this.lastLayoutNodes=g,this.lastLayoutEdges=m,this.lastAssign=t,this.lastGraph=r,this.lastCalcGraph=b,this.lastOptions=o,this.lastVelMap=y,typeof window>"u")return;let _=0;return new Promise(k=>{this.timeInterval=window.setInterval(()=>{(!a||!this.running)&&k({nodes:Eg(r,g),edges:s}),this.runOneStep(b,r,_,y,o),this.updatePosition(r,b,y,o),t&&g.forEach(O=>r.mergeNodeData(O.id,{x:O.data.x,y:O.data.y,z:l===3?O.data.z:void 0})),S==null||S({nodes:Eg(r,g),edges:s}),_++,(_>=x||this.judgingDistance<E)&&(window.clearInterval(this.timeInterval),k({nodes:Eg(r,g),edges:s}))},0),this.running=!0})})}formatOptions(t,r){const n=Object.assign({},t),{width:i,height:a,getMass:s}=t;n.width=!i&&typeof window<"u"?window.innerWidth:i,n.height=!a&&typeof window<"u"?window.innerHeight:a,t.center||(n.center=[n.width/2,n.height/2]),s||(n.getMass=l=>{let u=1;Ye(l==null?void 0:l.data.mass)&&(u=l==null?void 0:l.data.mass);const c=r.getDegree(l.id,"both");return!c||c<5?u:c*5*u}),n.nodeSize=N2(t.nodeSize,t.nodeSpacing);const o=t.linkDistance?Mo(1,t.linkDistance):l=>1+n.nodeSize(r.getNode(l.source))+n.nodeSize(r.getNode(l.target));return n.linkDistance=o,n.nodeStrength=Mo(1,t.nodeStrength),n.edgeStrength=Mo(1,t.edgeStrength),n}formatCentripetal(t,r){const{dimensions:n,centripetalOptions:i,center:a,clusterNodeStrength:s,leafCluster:o,clustering:l,nodeClusterBy:u}=t,c=r.getAllNodes(),f=i||{leaf:2,single:2,others:1,center:m=>({x:a[0],y:a[1],z:n===3?a[2]:void 0})};typeof s!="function"&&(t.clusterNodeStrength=m=>s);let h,d;if(o&&u&&(h=UM(r,u),d=Array.from(new Set(c==null?void 0:c.map(m=>m.data[u])))||[],t.centripetalOptions=Object.assign(f,{single:100,leaf:m=>{const{siblingLeaves:y,sameTypeLeaves:b}=h[m.id]||{};return(b==null?void 0:b.length)===(y==null?void 0:y.length)||(d==null?void 0:d.length)===1?1:t.clusterNodeStrength(m)},others:1,center:m=>{const y=r.getDegree(m.id,"both");if(!y)return{x:100,y:100,z:0};let b;if(y===1){const{sameTypeLeaves:x=[]}=h[m.id]||{};x.length===1?b=void 0:x.length>1&&(b=HM(x))}else b=void 0;return{x:b==null?void 0:b.x,y:b==null?void 0:b.y,z:b==null?void 0:b.z}}})),l&&u){h||(h=UM(r,u)),d||(d=Array.from(new Set(c.map(y=>y.data[u])))),d=d.filter(y=>y!==void 0);const m={};d.forEach(y=>{const b=c.filter(x=>x.data[u]===y).map(x=>r.getNode(x.id));m[y]=HM(b)}),t.centripetalOptions=Object.assign(f,{single:y=>t.clusterNodeStrength(y),leaf:y=>t.clusterNodeStrength(y),others:y=>t.clusterNodeStrength(y),center:y=>{const b=m[y.data[u]];return{x:b==null?void 0:b.x,y:b==null?void 0:b.y,z:b==null?void 0:b.z}}})}const{leaf:p,single:v,others:g}=t.centripetalOptions||{};p&&typeof p!="function"&&(t.centripetalOptions.leaf=()=>p),v&&typeof v!="function"&&(t.centripetalOptions.single=()=>v),g&&typeof g!="function"&&(t.centripetalOptions.others=()=>g)}runOneStep(t,r,n,i,a){const s={},o=t.getAllNodes(),l=t.getAllEdges();if(!(o!=null&&o.length))return;const{monitor:u}=a;if(this.calRepulsive(t,s,a),l&&this.calAttractive(t,s,a),this.calGravity(t,r,s,a),this.updateVelocity(t,s,i,a),u){const c=this.calTotalEnergy(s,o);u({energy:c,nodes:r.getAllNodes(),edges:r.getAllEdges(),iterations:n})}}calTotalEnergy(t,r){if(!(r!=null&&r.length))return 0;let n=0;return r.forEach((i,a)=>{const s=t[i.id].x,o=t[i.id].y,l=this.options.dimensions===3?t[i.id].z:0,u=s*s+o*o+l*l,{mass:c=1}=i.data;n+=c*u*.5}),n}calRepulsive(t,r,n){const{dimensions:i,factor:a,coulombDisScale:s}=n;Iae(t,a,s*s,r,i)}calAttractive(t,r,n){const{dimensions:i,nodeSize:a}=n;t.getAllEdges().forEach((s,o)=>{const{source:l,target:u}=s,c=t.getNode(l),f=t.getNode(u);if(!c||!f)return;let h=f.data.x-c.data.x,d=f.data.y-c.data.y,p=i===3?f.data.z-c.data.z:0;!h&&!d&&(h=Math.random()*.01,d=Math.random()*.01,i===3&&!p&&(p=Math.random()*.01));const v=Math.sqrt(h*h+d*d+p*p);if(v<a(c)+a(f))return;const g=h/v,m=d/v,y=p/v,{linkDistance:b=200,edgeStrength:x=200}=s.data||{},S=(b-v)*x,_=c.data.mass||1,k=f.data.mass||1,O=1/_,P=1/k,N=g*S,R=m*S,L=y*S;r[l].x-=N*O,r[l].y-=R*O,r[l].z-=L*O,r[u].x+=N*P,r[u].y+=R*P,r[u].z+=L*P})}calGravity(t,r,n,i){const{getCenter:a}=i,s=t.getAllNodes(),o=r.getAllNodes(),l=r.getAllEdges(),{width:u,height:c,center:f,gravity:h,centripetalOptions:d}=i;s&&s.forEach(p=>{const{id:v,data:g}=p,{mass:m,x:y,y:b,z:x}=g,E=r.getNode(v);let S=0,_=0,k=0,O=h;const P=t.getDegree(v,"in"),N=t.getDegree(v,"out"),R=t.getDegree(v,"both"),L=a==null?void 0:a(E,R);if(L){const[D,$,X]=L;S=y-D,_=b-$,O=X}else S=y-f[0],_=b-f[1],k=x-f[2];if(O&&(n[v].x-=O*S/m,n[v].y-=O*_/m,n[v].z-=O*k/m),d){const{leaf:D,single:$,others:X,center:K}=d,{x:V,y:ne,z:we,centerStrength:Se}=(K==null?void 0:K(E,o,l,u,c))||{x:0,y:0,z:0,centerStrength:0};if(!Ye(V)||!Ye(ne))return;const pe=(y-V)/m,qe=(b-ne)/m,ee=(x-we)/m;if(Se&&(n[v].x-=Se*pe,n[v].y-=Se*qe,n[v].z-=Se*ee),R===0){const le=$(E);if(!le)return;n[v].x-=le*pe,n[v].y-=le*qe,n[v].z-=le*ee;return}if(P===0||N===0){const le=D(E,o,l);if(!le)return;n[v].x-=le*pe,n[v].y-=le*qe,n[v].z-=le*ee;return}const U=X(E);if(!U)return;n[v].x-=U*pe,n[v].y-=U*qe,n[v].z-=U*ee}})}updateVelocity(t,r,n,i){const{damping:a,maxSpeed:s,interval:o,dimensions:l}=i,u=t.getAllNodes();u!=null&&u.length&&u.forEach(c=>{const{id:f}=c;let h=(n[f].x+r[f].x*o)*a||.01,d=(n[f].y+r[f].y*o)*a||.01,p=l===3?(n[f].z+r[f].z*o)*a||.01:0;const v=Math.sqrt(h*h+d*d+p*p);if(v>s){const g=s/v;h=g*h,d=g*d,p=g*p}n[f]={x:h,y:d,z:p}})}updatePosition(t,r,n,i){const{distanceThresholdMode:a,interval:s,dimensions:o}=i,l=r.getAllNodes();if(!(l!=null&&l.length)){this.judgingDistance=0;return}let u=0;a==="max"?this.judgingDistance=-1/0:a==="min"&&(this.judgingDistance=1/0),l.forEach(c=>{const{id:f}=c,h=t.getNode(f);if(Ye(h.data.fx)&&Ye(h.data.fy)){r.mergeNodeData(f,{x:h.data.fx,y:h.data.fy,z:o===3?h.data.fz:void 0});return}const d=n[f].x*s,p=n[f].y*s,v=o===3?n[f].z*s:0;r.mergeNodeData(f,{x:c.data.x+d,y:c.data.y+p,z:c.data.z+v});const g=Math.sqrt(d*d+p*p+v*v);switch(a){case"max":this.judgingDistance<g&&(this.judgingDistance=g);break;case"min":this.judgingDistance>g&&(this.judgingDistance=g);break;default:u=u+g;break}}),(!a||a==="mean")&&(this.judgingDistance=u/l.length)}}const UM=(e,t)=>{const r=e.getAllNodes();if(!(r!=null&&r.length))return{};const n={};return r.forEach((i,a)=>{e.getDegree(i.id,"both")===1&&(n[i.id]=zae(e,"leaf",i,t))}),n},zae=(e,t,r,n)=>{const i=e.getDegree(r.id,"in"),a=e.getDegree(r.id,"out");let s=r,o=[];i===0?(s=e.getSuccessors(r.id)[0],o=e.getNeighbors(s.id)):a===0&&(s=e.getPredecessors(r.id)[0],o=e.getNeighbors(s.id)),o=o.filter(u=>e.getDegree(u.id,"in")===0||e.getDegree(u.id,"out")===0);const l=jae(e,t,n,r,o);return{coreNode:s,siblingLeaves:o,sameTypeLeaves:l}},jae=(e,t,r,n,i)=>{const a=n.data[r]||"";let s=(i==null?void 0:i.filter(o=>o.data[r]===a))||[];return s=s.filter(o=>e.getDegree(o.id,"in")===0||e.getDegree(o.id,"out")===0),s},HM=e=>{const t={x:0,y:0};e.forEach(n=>{const{x:i,y:a}=n.data;t.x+=i||0,t.y+=a||0});const r=e.length||1;return{x:t.x/r,y:t.y/r}},Eg=(e,t)=>t.map(r=>{const{id:n,data:i}=r,a=e.getNode(n);return Object.assign(Object.assign({},a),{data:Object.assign(Object.assign({},a.data),{x:i.x,y:i.y,z:i.z})})});var pt={};const Gae=Object.prototype.toString;function Ec(e){const t=Gae.call(e);return t.endsWith("Array]")&&!t.includes("Big")}const Wae=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Ec},Symbol.toStringTag,{value:"Module"})),Vae=uD(Wae);function Uae(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ec(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,i=t.toIndex,a=i===void 0?e.length:i;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[n],o=n+1;o<a;o++)e[o]>s&&(s=e[o]);return s}function Hae(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ec(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,i=t.toIndex,a=i===void 0?e.length:i;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[n],o=n+1;o<a;o++)e[o]<s&&(s=e[o]);return s}function Yae(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ec(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(t.output!==void 0){if(!Ec(t.output))throw new TypeError("output option must be an array if specified");r=t.output}else r=new Array(e.length);var n=Hae(e),i=Uae(e);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,s=a===void 0?t.autoMinMax?n:0:a,o=t.max,l=o===void 0?t.autoMinMax?i:1:o;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(i-n),c=0;c<e.length;c++)r[c]=(e[c]-n)*u+s;return r}const Xae=Object.freeze(Object.defineProperty({__proto__:null,default:Yae},Symbol.toStringTag,{value:"Module"})),Kae=uD(Xae);var YM;function Zae(){var su,Sx,ln;if(YM)return pt;YM=1,Object.defineProperty(pt,"__esModule",{value:!0});var e=Vae,t=Kae;const r=" ".repeat(2),n=" ".repeat(4);function i(){return a(this)}function a(I,A={}){const{maxRows:T=15,maxColumns:w=10,maxNumSize:M=8,padMinus:C="auto"}=A;return`${I.constructor.name} {
${r}[
${n}${s(I,T,w,M,C)}
${r}]
${r}rows: ${I.rows}
${r}columns: ${I.columns}
}`}function s(I,A,T,w,M){const{rows:C,columns:F}=I,B=Math.min(C,A),q=Math.min(F,T),z=[];if(M==="auto"){M=!1;e:for(let ae=0;ae<B;ae++)for(let Q=0;Q<q;Q++)if(I.get(ae,Q)<0){M=!0;break e}}for(let ae=0;ae<B;ae++){let Q=[];for(let be=0;be<q;be++)Q.push(o(I.get(ae,be),w,M));z.push(`${Q.join(" ")}`)}return q!==F&&(z[z.length-1]+=` ... ${F-T} more columns`),B!==C&&z.push(`... ${C-A} more rows`),z.join(`
${n}`)}function o(I,A,T){return(I>=0&&T?` ${l(I,A-1)}`:l(I,A)).padEnd(A)}function l(I,A){let T=I.toString();if(T.length<=A)return T;let w=I.toFixed(A);if(w.length>A&&(w=I.toFixed(Math.max(0,A-(w.length-A)))),w.length<=A&&!w.startsWith("0.000")&&!w.startsWith("-0.000"))return w;let M=I.toExponential(A);return M.length>A&&(M=I.toExponential(Math.max(0,A-(M.length-A)))),M.slice(0)}function u(I,A){I.prototype.add=function(w){return typeof w=="number"?this.addS(w):this.addM(w)},I.prototype.addS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)+w);return this},I.prototype.addM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)+w.get(M,C));return this},I.add=function(w,M){return new A(w).add(M)},I.prototype.sub=function(w){return typeof w=="number"?this.subS(w):this.subM(w)},I.prototype.subS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)-w);return this},I.prototype.subM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)-w.get(M,C));return this},I.sub=function(w,M){return new A(w).sub(M)},I.prototype.subtract=I.prototype.sub,I.prototype.subtractS=I.prototype.subS,I.prototype.subtractM=I.prototype.subM,I.subtract=I.sub,I.prototype.mul=function(w){return typeof w=="number"?this.mulS(w):this.mulM(w)},I.prototype.mulS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)*w);return this},I.prototype.mulM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)*w.get(M,C));return this},I.mul=function(w,M){return new A(w).mul(M)},I.prototype.multiply=I.prototype.mul,I.prototype.multiplyS=I.prototype.mulS,I.prototype.multiplyM=I.prototype.mulM,I.multiply=I.mul,I.prototype.div=function(w){return typeof w=="number"?this.divS(w):this.divM(w)},I.prototype.divS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)/w);return this},I.prototype.divM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)/w.get(M,C));return this},I.div=function(w,M){return new A(w).div(M)},I.prototype.divide=I.prototype.div,I.prototype.divideS=I.prototype.divS,I.prototype.divideM=I.prototype.divM,I.divide=I.div,I.prototype.mod=function(w){return typeof w=="number"?this.modS(w):this.modM(w)},I.prototype.modS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)%w);return this},I.prototype.modM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)%w.get(M,C));return this},I.mod=function(w,M){return new A(w).mod(M)},I.prototype.modulus=I.prototype.mod,I.prototype.modulusS=I.prototype.modS,I.prototype.modulusM=I.prototype.modM,I.modulus=I.mod,I.prototype.and=function(w){return typeof w=="number"?this.andS(w):this.andM(w)},I.prototype.andS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)&w);return this},I.prototype.andM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)&w.get(M,C));return this},I.and=function(w,M){return new A(w).and(M)},I.prototype.or=function(w){return typeof w=="number"?this.orS(w):this.orM(w)},I.prototype.orS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)|w);return this},I.prototype.orM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)|w.get(M,C));return this},I.or=function(w,M){return new A(w).or(M)},I.prototype.xor=function(w){return typeof w=="number"?this.xorS(w):this.xorM(w)},I.prototype.xorS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)^w);return this},I.prototype.xorM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)^w.get(M,C));return this},I.xor=function(w,M){return new A(w).xor(M)},I.prototype.leftShift=function(w){return typeof w=="number"?this.leftShiftS(w):this.leftShiftM(w)},I.prototype.leftShiftS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)<<w);return this},I.prototype.leftShiftM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)<<w.get(M,C));return this},I.leftShift=function(w,M){return new A(w).leftShift(M)},I.prototype.signPropagatingRightShift=function(w){return typeof w=="number"?this.signPropagatingRightShiftS(w):this.signPropagatingRightShiftM(w)},I.prototype.signPropagatingRightShiftS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)>>w);return this},I.prototype.signPropagatingRightShiftM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)>>w.get(M,C));return this},I.signPropagatingRightShift=function(w,M){return new A(w).signPropagatingRightShift(M)},I.prototype.rightShift=function(w){return typeof w=="number"?this.rightShiftS(w):this.rightShiftM(w)},I.prototype.rightShiftS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)>>>w);return this},I.prototype.rightShiftM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)>>>w.get(M,C));return this},I.rightShift=function(w,M){return new A(w).rightShift(M)},I.prototype.zeroFillRightShift=I.prototype.rightShift,I.prototype.zeroFillRightShiftS=I.prototype.rightShiftS,I.prototype.zeroFillRightShiftM=I.prototype.rightShiftM,I.zeroFillRightShift=I.rightShift,I.prototype.not=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,~this.get(w,M));return this},I.not=function(w){return new A(w).not()},I.prototype.abs=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.abs(this.get(w,M)));return this},I.abs=function(w){return new A(w).abs()},I.prototype.acos=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.acos(this.get(w,M)));return this},I.acos=function(w){return new A(w).acos()},I.prototype.acosh=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.acosh(this.get(w,M)));return this},I.acosh=function(w){return new A(w).acosh()},I.prototype.asin=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.asin(this.get(w,M)));return this},I.asin=function(w){return new A(w).asin()},I.prototype.asinh=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.asinh(this.get(w,M)));return this},I.asinh=function(w){return new A(w).asinh()},I.prototype.atan=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.atan(this.get(w,M)));return this},I.atan=function(w){return new A(w).atan()},I.prototype.atanh=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.atanh(this.get(w,M)));return this},I.atanh=function(w){return new A(w).atanh()},I.prototype.cbrt=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.cbrt(this.get(w,M)));return this},I.cbrt=function(w){return new A(w).cbrt()},I.prototype.ceil=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.ceil(this.get(w,M)));return this},I.ceil=function(w){return new A(w).ceil()},I.prototype.clz32=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.clz32(this.get(w,M)));return this},I.clz32=function(w){return new A(w).clz32()},I.prototype.cos=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.cos(this.get(w,M)));return this},I.cos=function(w){return new A(w).cos()},I.prototype.cosh=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.cosh(this.get(w,M)));return this},I.cosh=function(w){return new A(w).cosh()},I.prototype.exp=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.exp(this.get(w,M)));return this},I.exp=function(w){return new A(w).exp()},I.prototype.expm1=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.expm1(this.get(w,M)));return this},I.expm1=function(w){return new A(w).expm1()},I.prototype.floor=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.floor(this.get(w,M)));return this},I.floor=function(w){return new A(w).floor()},I.prototype.fround=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.fround(this.get(w,M)));return this},I.fround=function(w){return new A(w).fround()},I.prototype.log=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.log(this.get(w,M)));return this},I.log=function(w){return new A(w).log()},I.prototype.log1p=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.log1p(this.get(w,M)));return this},I.log1p=function(w){return new A(w).log1p()},I.prototype.log10=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.log10(this.get(w,M)));return this},I.log10=function(w){return new A(w).log10()},I.prototype.log2=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.log2(this.get(w,M)));return this},I.log2=function(w){return new A(w).log2()},I.prototype.round=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.round(this.get(w,M)));return this},I.round=function(w){return new A(w).round()},I.prototype.sign=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.sign(this.get(w,M)));return this},I.sign=function(w){return new A(w).sign()},I.prototype.sin=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.sin(this.get(w,M)));return this},I.sin=function(w){return new A(w).sin()},I.prototype.sinh=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.sinh(this.get(w,M)));return this},I.sinh=function(w){return new A(w).sinh()},I.prototype.sqrt=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.sqrt(this.get(w,M)));return this},I.sqrt=function(w){return new A(w).sqrt()},I.prototype.tan=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.tan(this.get(w,M)));return this},I.tan=function(w){return new A(w).tan()},I.prototype.tanh=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.tanh(this.get(w,M)));return this},I.tanh=function(w){return new A(w).tanh()},I.prototype.trunc=function(){for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.set(w,M,Math.trunc(this.get(w,M)));return this},I.trunc=function(w){return new A(w).trunc()},I.pow=function(w,M){return new A(w).pow(M)},I.prototype.pow=function(w){return typeof w=="number"?this.powS(w):this.powM(w)},I.prototype.powS=function(w){for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)**w);return this},I.prototype.powM=function(w){if(w=A.checkMatrix(w),this.rows!==w.rows||this.columns!==w.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let C=0;C<this.columns;C++)this.set(M,C,this.get(M,C)**w.get(M,C));return this}}function c(I,A,T){let w=T?I.rows:I.rows-1;if(A<0||A>w)throw new RangeError("Row index out of range")}function f(I,A,T){let w=T?I.columns:I.columns-1;if(A<0||A>w)throw new RangeError("Column index out of range")}function h(I,A){if(A.to1DArray&&(A=A.to1DArray()),A.length!==I.columns)throw new RangeError("vector size must be the same as the number of columns");return A}function d(I,A){if(A.to1DArray&&(A=A.to1DArray()),A.length!==I.rows)throw new RangeError("vector size must be the same as the number of rows");return A}function p(I,A){if(!e.isAnyArray(A))throw new TypeError("row indices must be an array");for(let T=0;T<A.length;T++)if(A[T]<0||A[T]>=I.rows)throw new RangeError("row indices are out of range")}function v(I,A){if(!e.isAnyArray(A))throw new TypeError("column indices must be an array");for(let T=0;T<A.length;T++)if(A[T]<0||A[T]>=I.columns)throw new RangeError("column indices are out of range")}function g(I,A,T,w,M){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(y("startRow",A),y("endRow",T),y("startColumn",w),y("endColumn",M),A>T||w>M||A<0||A>=I.rows||T<0||T>=I.rows||w<0||w>=I.columns||M<0||M>=I.columns)throw new RangeError("Submatrix indices are out of range")}function m(I,A=0){let T=[];for(let w=0;w<I;w++)T.push(A);return T}function y(I,A){if(typeof A!="number")throw new TypeError(`${I} must be a number`)}function b(I){if(I.isEmpty())throw new Error("Empty matrix has no elements to index")}function x(I){let A=m(I.rows);for(let T=0;T<I.rows;++T)for(let w=0;w<I.columns;++w)A[T]+=I.get(T,w);return A}function E(I){let A=m(I.columns);for(let T=0;T<I.rows;++T)for(let w=0;w<I.columns;++w)A[w]+=I.get(T,w);return A}function S(I){let A=0;for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)A+=I.get(T,w);return A}function _(I){let A=m(I.rows,1);for(let T=0;T<I.rows;++T)for(let w=0;w<I.columns;++w)A[T]*=I.get(T,w);return A}function k(I){let A=m(I.columns,1);for(let T=0;T<I.rows;++T)for(let w=0;w<I.columns;++w)A[w]*=I.get(T,w);return A}function O(I){let A=1;for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)A*=I.get(T,w);return A}function P(I,A,T){const w=I.rows,M=I.columns,C=[];for(let F=0;F<w;F++){let B=0,q=0,z=0;for(let ae=0;ae<M;ae++)z=I.get(F,ae)-T[F],B+=z,q+=z*z;A?C.push((q-B*B/M)/(M-1)):C.push((q-B*B/M)/M)}return C}function N(I,A,T){const w=I.rows,M=I.columns,C=[];for(let F=0;F<M;F++){let B=0,q=0,z=0;for(let ae=0;ae<w;ae++)z=I.get(ae,F)-T[F],B+=z,q+=z*z;A?C.push((q-B*B/w)/(w-1)):C.push((q-B*B/w)/w)}return C}function R(I,A,T){const w=I.rows,M=I.columns,C=w*M;let F=0,B=0,q=0;for(let z=0;z<w;z++)for(let ae=0;ae<M;ae++)q=I.get(z,ae)-T,F+=q,B+=q*q;return A?(B-F*F/C)/(C-1):(B-F*F/C)/C}function L(I,A){for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)I.set(T,w,I.get(T,w)-A[T])}function D(I,A){for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)I.set(T,w,I.get(T,w)-A[w])}function $(I,A){for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)I.set(T,w,I.get(T,w)-A)}function X(I){const A=[];for(let T=0;T<I.rows;T++){let w=0;for(let M=0;M<I.columns;M++)w+=I.get(T,M)**2/(I.columns-1);A.push(Math.sqrt(w))}return A}function K(I,A){for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)I.set(T,w,I.get(T,w)/A[T])}function V(I){const A=[];for(let T=0;T<I.columns;T++){let w=0;for(let M=0;M<I.rows;M++)w+=I.get(M,T)**2/(I.rows-1);A.push(Math.sqrt(w))}return A}function ne(I,A){for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)I.set(T,w,I.get(T,w)/A[w])}function we(I){const A=I.size-1;let T=0;for(let w=0;w<I.columns;w++)for(let M=0;M<I.rows;M++)T+=I.get(M,w)**2/A;return Math.sqrt(T)}function Se(I,A){for(let T=0;T<I.rows;T++)for(let w=0;w<I.columns;w++)I.set(T,w,I.get(T,w)/A)}class pe{static from1DArray(A,T,w){if(A*T!==w.length)throw new RangeError("data length does not match given dimensions");let C=new U(A,T);for(let F=0;F<A;F++)for(let B=0;B<T;B++)C.set(F,B,w[F*T+B]);return C}static rowVector(A){let T=new U(1,A.length);for(let w=0;w<A.length;w++)T.set(0,w,A[w]);return T}static columnVector(A){let T=new U(A.length,1);for(let w=0;w<A.length;w++)T.set(w,0,A[w]);return T}static zeros(A,T){return new U(A,T)}static ones(A,T){return new U(A,T).fill(1)}static rand(A,T,w={}){if(typeof w!="object")throw new TypeError("options must be an object");const{random:M=Math.random}=w;let C=new U(A,T);for(let F=0;F<A;F++)for(let B=0;B<T;B++)C.set(F,B,M());return C}static randInt(A,T,w={}){if(typeof w!="object")throw new TypeError("options must be an object");const{min:M=0,max:C=1e3,random:F=Math.random}=w;if(!Number.isInteger(M))throw new TypeError("min must be an integer");if(!Number.isInteger(C))throw new TypeError("max must be an integer");if(M>=C)throw new RangeError("min must be smaller than max");let B=C-M,q=new U(A,T);for(let z=0;z<A;z++)for(let ae=0;ae<T;ae++){let Q=M+Math.round(F()*B);q.set(z,ae,Q)}return q}static eye(A,T,w){T===void 0&&(T=A),w===void 0&&(w=1);let M=Math.min(A,T),C=this.zeros(A,T);for(let F=0;F<M;F++)C.set(F,F,w);return C}static diag(A,T,w){let M=A.length;T===void 0&&(T=M),w===void 0&&(w=T);let C=Math.min(M,T,w),F=this.zeros(T,w);for(let B=0;B<C;B++)F.set(B,B,A[B]);return F}static min(A,T){A=this.checkMatrix(A),T=this.checkMatrix(T);let w=A.rows,M=A.columns,C=new U(w,M);for(let F=0;F<w;F++)for(let B=0;B<M;B++)C.set(F,B,Math.min(A.get(F,B),T.get(F,B)));return C}static max(A,T){A=this.checkMatrix(A),T=this.checkMatrix(T);let w=A.rows,M=A.columns,C=new this(w,M);for(let F=0;F<w;F++)for(let B=0;B<M;B++)C.set(F,B,Math.max(A.get(F,B),T.get(F,B)));return C}static checkMatrix(A){return pe.isMatrix(A)?A:new U(A)}static isMatrix(A){return A!=null&&A.klass==="Matrix"}get size(){return this.rows*this.columns}apply(A){if(typeof A!="function")throw new TypeError("callback must be a function");for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)A.call(this,T,w);return this}to1DArray(){let A=[];for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)A.push(this.get(T,w));return A}to2DArray(){let A=[];for(let T=0;T<this.rows;T++){A.push([]);for(let w=0;w<this.columns;w++)A[T].push(this.get(T,w))}return A}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let A=0;A<this.rows;A++)for(let T=0;T<=A;T++)if(this.get(A,T)!==this.get(T,A))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let A=0;A<this.rows;A++)if(this.get(A,A)!==0)return!1;return!0}isEchelonForm(){let A=0,T=0,w=-1,M=!0,C=!1;for(;A<this.rows&&M;){for(T=0,C=!1;T<this.columns&&C===!1;)this.get(A,T)===0?T++:this.get(A,T)===1&&T>w?(C=!0,w=T):(M=!1,C=!0);A++}return M}isReducedEchelonForm(){let A=0,T=0,w=-1,M=!0,C=!1;for(;A<this.rows&&M;){for(T=0,C=!1;T<this.columns&&C===!1;)this.get(A,T)===0?T++:this.get(A,T)===1&&T>w?(C=!0,w=T):(M=!1,C=!0);for(let F=T+1;F<this.rows;F++)this.get(A,F)!==0&&(M=!1);A++}return M}echelonForm(){let A=this.clone(),T=0,w=0;for(;T<A.rows&&w<A.columns;){let M=T;for(let C=T;C<A.rows;C++)A.get(C,w)>A.get(M,w)&&(M=C);if(A.get(M,w)===0)w++;else{A.swapRows(T,M);let C=A.get(T,w);for(let F=w;F<A.columns;F++)A.set(T,F,A.get(T,F)/C);for(let F=T+1;F<A.rows;F++){let B=A.get(F,w)/A.get(T,w);A.set(F,w,0);for(let q=w+1;q<A.columns;q++)A.set(F,q,A.get(F,q)-A.get(T,q)*B)}T++,w++}}return A}reducedEchelonForm(){let A=this.echelonForm(),T=A.columns,w=A.rows,M=w-1;for(;M>=0;)if(A.maxRow(M)===0)M--;else{let C=0,F=!1;for(;C<w&&F===!1;)A.get(M,C)===1?F=!0:C++;for(let B=0;B<M;B++){let q=A.get(B,C);for(let z=C;z<T;z++){let ae=A.get(B,z)-q*A.get(M,z);A.set(B,z,ae)}}M--}return A}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(A={}){if(typeof A!="object")throw new TypeError("options must be an object");const{rows:T=1,columns:w=1}=A;if(!Number.isInteger(T)||T<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(w)||w<=0)throw new TypeError("columns must be a positive integer");let M=new U(this.rows*T,this.columns*w);for(let C=0;C<T;C++)for(let F=0;F<w;F++)M.setSubMatrix(this,this.rows*C,this.columns*F);return M}fill(A){for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,A);return this}neg(){return this.mulS(-1)}getRow(A){c(this,A);let T=[];for(let w=0;w<this.columns;w++)T.push(this.get(A,w));return T}getRowVector(A){return U.rowVector(this.getRow(A))}setRow(A,T){c(this,A),T=h(this,T);for(let w=0;w<this.columns;w++)this.set(A,w,T[w]);return this}swapRows(A,T){c(this,A),c(this,T);for(let w=0;w<this.columns;w++){let M=this.get(A,w);this.set(A,w,this.get(T,w)),this.set(T,w,M)}return this}getColumn(A){f(this,A);let T=[];for(let w=0;w<this.rows;w++)T.push(this.get(w,A));return T}getColumnVector(A){return U.columnVector(this.getColumn(A))}setColumn(A,T){f(this,A),T=d(this,T);for(let w=0;w<this.rows;w++)this.set(w,A,T[w]);return this}swapColumns(A,T){f(this,A),f(this,T);for(let w=0;w<this.rows;w++){let M=this.get(w,A);this.set(w,A,this.get(w,T)),this.set(w,T,M)}return this}addRowVector(A){A=h(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)+A[w]);return this}subRowVector(A){A=h(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)-A[w]);return this}mulRowVector(A){A=h(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)*A[w]);return this}divRowVector(A){A=h(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)/A[w]);return this}addColumnVector(A){A=d(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)+A[T]);return this}subColumnVector(A){A=d(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)-A[T]);return this}mulColumnVector(A){A=d(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)*A[T]);return this}divColumnVector(A){A=d(this,A);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)this.set(T,w,this.get(T,w)/A[T]);return this}mulRow(A,T){c(this,A);for(let w=0;w<this.columns;w++)this.set(A,w,this.get(A,w)*T);return this}mulColumn(A,T){f(this,A);for(let w=0;w<this.rows;w++)this.set(w,A,this.get(w,A)*T);return this}max(A){if(this.isEmpty())return NaN;switch(A){case"row":{const T=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)>T[w]&&(T[w]=this.get(w,M));return T}case"column":{const T=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)>T[M]&&(T[M]=this.get(w,M));return T}case void 0:{let T=this.get(0,0);for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)>T&&(T=this.get(w,M));return T}default:throw new Error(`invalid option: ${A}`)}}maxIndex(){b(this);let A=this.get(0,0),T=[0,0];for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)>A&&(A=this.get(w,M),T[0]=w,T[1]=M);return T}min(A){if(this.isEmpty())return NaN;switch(A){case"row":{const T=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)<T[w]&&(T[w]=this.get(w,M));return T}case"column":{const T=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)<T[M]&&(T[M]=this.get(w,M));return T}case void 0:{let T=this.get(0,0);for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)<T&&(T=this.get(w,M));return T}default:throw new Error(`invalid option: ${A}`)}}minIndex(){b(this);let A=this.get(0,0),T=[0,0];for(let w=0;w<this.rows;w++)for(let M=0;M<this.columns;M++)this.get(w,M)<A&&(A=this.get(w,M),T[0]=w,T[1]=M);return T}maxRow(A){if(c(this,A),this.isEmpty())return NaN;let T=this.get(A,0);for(let w=1;w<this.columns;w++)this.get(A,w)>T&&(T=this.get(A,w));return T}maxRowIndex(A){c(this,A),b(this);let T=this.get(A,0),w=[A,0];for(let M=1;M<this.columns;M++)this.get(A,M)>T&&(T=this.get(A,M),w[1]=M);return w}minRow(A){if(c(this,A),this.isEmpty())return NaN;let T=this.get(A,0);for(let w=1;w<this.columns;w++)this.get(A,w)<T&&(T=this.get(A,w));return T}minRowIndex(A){c(this,A),b(this);let T=this.get(A,0),w=[A,0];for(let M=1;M<this.columns;M++)this.get(A,M)<T&&(T=this.get(A,M),w[1]=M);return w}maxColumn(A){if(f(this,A),this.isEmpty())return NaN;let T=this.get(0,A);for(let w=1;w<this.rows;w++)this.get(w,A)>T&&(T=this.get(w,A));return T}maxColumnIndex(A){f(this,A),b(this);let T=this.get(0,A),w=[0,A];for(let M=1;M<this.rows;M++)this.get(M,A)>T&&(T=this.get(M,A),w[0]=M);return w}minColumn(A){if(f(this,A),this.isEmpty())return NaN;let T=this.get(0,A);for(let w=1;w<this.rows;w++)this.get(w,A)<T&&(T=this.get(w,A));return T}minColumnIndex(A){f(this,A),b(this);let T=this.get(0,A),w=[0,A];for(let M=1;M<this.rows;M++)this.get(M,A)<T&&(T=this.get(M,A),w[0]=M);return w}diag(){let A=Math.min(this.rows,this.columns),T=[];for(let w=0;w<A;w++)T.push(this.get(w,w));return T}norm(A="frobenius"){switch(A){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${A}`)}}cumulativeSum(){let A=0;for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)A+=this.get(T,w),this.set(T,w,A);return this}dot(A){pe.isMatrix(A)&&(A=A.to1DArray());let T=this.to1DArray();if(T.length!==A.length)throw new RangeError("vectors do not have the same size");let w=0;for(let M=0;M<T.length;M++)w+=T[M]*A[M];return w}mmul(A){A=U.checkMatrix(A);let T=this.rows,w=this.columns,M=A.columns,C=new U(T,M),F=new Float64Array(w);for(let B=0;B<M;B++){for(let q=0;q<w;q++)F[q]=A.get(q,B);for(let q=0;q<T;q++){let z=0;for(let ae=0;ae<w;ae++)z+=this.get(q,ae)*F[ae];C.set(q,B,z)}}return C}mpow(A){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(A)||A<0)throw new RangeError("Exponent must be a non-negative integer");let T=U.eye(this.rows),w=this;for(let M=A;M>=1;M/=2)(M&1)!==0&&(T=T.mmul(w)),w=w.mmul(w);return T}strassen2x2(A){A=U.checkMatrix(A);let T=new U(2,2);const w=this.get(0,0),M=A.get(0,0),C=this.get(0,1),F=A.get(0,1),B=this.get(1,0),q=A.get(1,0),z=this.get(1,1),ae=A.get(1,1),Q=(w+z)*(M+ae),be=(B+z)*M,Le=w*(F-ae),he=z*(q-M),_e=(w+C)*ae,ze=(B-w)*(M+F),J=(C-z)*(q+ae),Re=Q+he-_e+J,We=Le+_e,tt=be+he,at=Q-be+Le+ze;return T.set(0,0,Re),T.set(0,1,We),T.set(1,0,tt),T.set(1,1,at),T}strassen3x3(A){A=U.checkMatrix(A);let T=new U(3,3);const w=this.get(0,0),M=this.get(0,1),C=this.get(0,2),F=this.get(1,0),B=this.get(1,1),q=this.get(1,2),z=this.get(2,0),ae=this.get(2,1),Q=this.get(2,2),be=A.get(0,0),Le=A.get(0,1),he=A.get(0,2),_e=A.get(1,0),ze=A.get(1,1),J=A.get(1,2),Re=A.get(2,0),We=A.get(2,1),tt=A.get(2,2),at=(w+M+C-F-B-ae-Q)*ze,sr=(w-F)*(-Le+ze),Xe=B*(-be+Le+_e-ze-J-Re+tt),Ze=(-w+F+B)*(be-Le+ze),zt=(F+B)*(-be+Le),ie=w*be,Oe=(-w+z+ae)*(be-he+J),je=(-w+z)*(he-J),Ne=(z+ae)*(-be+he),or=(w+M+C-B-q-z-ae)*J,Pt=ae*(-be+he+_e-ze-J-Re+We),Zt=(-C+ae+Q)*(ze+Re-We),lr=(C-Q)*(ze-We),Ur=C*Re,Ai=(ae+Q)*(-Re+We),Lr=(-C+B+q)*(J+Re-tt),Zi=(C-q)*(J-tt),ka=(B+q)*(-Re+tt),wt=M*_e,Hr=q*We,Vn=F*he,Un=z*Le,Ir=Q*tt,k$=ie+Ur+wt,T$=at+Ze+zt+ie+Zt+Ur+Ai,M$=ie+Oe+Ne+or+Ur+Lr+ka,A$=sr+Xe+Ze+ie+Ur+Lr+Zi,O$=sr+Ze+zt+ie+Hr,P$=Ur+Lr+Zi+ka+Vn,N$=ie+Oe+je+Pt+Zt+lr+Ur,C$=Zt+lr+Ur+Ai+Un,R$=ie+Oe+je+Ne+Ir;return T.set(0,0,k$),T.set(0,1,T$),T.set(0,2,M$),T.set(1,0,A$),T.set(1,1,O$),T.set(1,2,P$),T.set(2,0,N$),T.set(2,1,C$),T.set(2,2,R$),T}mmulStrassen(A){A=U.checkMatrix(A);let T=this.clone(),w=T.rows,M=T.columns,C=A.rows,F=A.columns;M!==C&&console.warn(`Multiplying ${w} x ${M} and ${C} x ${F} matrix: dimensions do not match.`);function B(Q,be,Le){let he=Q.rows,_e=Q.columns;if(he===be&&_e===Le)return Q;{let ze=pe.zeros(be,Le);return ze=ze.setSubMatrix(Q,0,0),ze}}let q=Math.max(w,C),z=Math.max(M,F);T=B(T,q,z),A=B(A,q,z);function ae(Q,be,Le,he){if(Le<=512||he<=512)return Q.mmul(be);Le%2===1&&he%2===1?(Q=B(Q,Le+1,he+1),be=B(be,Le+1,he+1)):Le%2===1?(Q=B(Q,Le+1,he),be=B(be,Le+1,he)):he%2===1&&(Q=B(Q,Le,he+1),be=B(be,Le,he+1));let _e=parseInt(Q.rows/2,10),ze=parseInt(Q.columns/2,10),J=Q.subMatrix(0,_e-1,0,ze-1),Re=be.subMatrix(0,_e-1,0,ze-1),We=Q.subMatrix(0,_e-1,ze,Q.columns-1),tt=be.subMatrix(0,_e-1,ze,be.columns-1),at=Q.subMatrix(_e,Q.rows-1,0,ze-1),sr=be.subMatrix(_e,be.rows-1,0,ze-1),Xe=Q.subMatrix(_e,Q.rows-1,ze,Q.columns-1),Ze=be.subMatrix(_e,be.rows-1,ze,be.columns-1),zt=ae(pe.add(J,Xe),pe.add(Re,Ze),_e,ze),ie=ae(pe.add(at,Xe),Re,_e,ze),Oe=ae(J,pe.sub(tt,Ze),_e,ze),je=ae(Xe,pe.sub(sr,Re),_e,ze),Ne=ae(pe.add(J,We),Ze,_e,ze),or=ae(pe.sub(at,J),pe.add(Re,tt),_e,ze),Pt=ae(pe.sub(We,Xe),pe.add(sr,Ze),_e,ze),Zt=pe.add(zt,je);Zt.sub(Ne),Zt.add(Pt);let lr=pe.add(Oe,Ne),Ur=pe.add(ie,je),Ai=pe.sub(zt,ie);Ai.add(Oe),Ai.add(or);let Lr=pe.zeros(2*Zt.rows,2*Zt.columns);return Lr=Lr.setSubMatrix(Zt,0,0),Lr=Lr.setSubMatrix(lr,Zt.rows,0),Lr=Lr.setSubMatrix(Ur,0,Zt.columns),Lr=Lr.setSubMatrix(Ai,Zt.rows,Zt.columns),Lr.subMatrix(0,Le-1,0,he-1)}return ae(T,A,q,z)}scaleRows(A={}){if(typeof A!="object")throw new TypeError("options must be an object");const{min:T=0,max:w=1}=A;if(!Number.isFinite(T))throw new TypeError("min must be a number");if(!Number.isFinite(w))throw new TypeError("max must be a number");if(T>=w)throw new RangeError("min must be smaller than max");let M=new U(this.rows,this.columns);for(let C=0;C<this.rows;C++){const F=this.getRow(C);F.length>0&&t(F,{min:T,max:w,output:F}),M.setRow(C,F)}return M}scaleColumns(A={}){if(typeof A!="object")throw new TypeError("options must be an object");const{min:T=0,max:w=1}=A;if(!Number.isFinite(T))throw new TypeError("min must be a number");if(!Number.isFinite(w))throw new TypeError("max must be a number");if(T>=w)throw new RangeError("min must be smaller than max");let M=new U(this.rows,this.columns);for(let C=0;C<this.columns;C++){const F=this.getColumn(C);F.length&&t(F,{min:T,max:w,output:F}),M.setColumn(C,F)}return M}flipRows(){const A=Math.ceil(this.columns/2);for(let T=0;T<this.rows;T++)for(let w=0;w<A;w++){let M=this.get(T,w),C=this.get(T,this.columns-1-w);this.set(T,w,C),this.set(T,this.columns-1-w,M)}return this}flipColumns(){const A=Math.ceil(this.rows/2);for(let T=0;T<this.columns;T++)for(let w=0;w<A;w++){let M=this.get(w,T),C=this.get(this.rows-1-w,T);this.set(w,T,C),this.set(this.rows-1-w,T,M)}return this}kroneckerProduct(A){A=U.checkMatrix(A);let T=this.rows,w=this.columns,M=A.rows,C=A.columns,F=new U(T*M,w*C);for(let B=0;B<T;B++)for(let q=0;q<w;q++)for(let z=0;z<M;z++)for(let ae=0;ae<C;ae++)F.set(M*B+z,C*q+ae,this.get(B,q)*A.get(z,ae));return F}kroneckerSum(A){if(A=U.checkMatrix(A),!this.isSquare()||!A.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let T=this.rows,w=A.rows,M=this.kroneckerProduct(U.eye(w,w)),C=U.eye(T,T).kroneckerProduct(A);return M.add(C)}transpose(){let A=new U(this.columns,this.rows);for(let T=0;T<this.rows;T++)for(let w=0;w<this.columns;w++)A.set(w,T,this.get(T,w));return A}sortRows(A=qe){for(let T=0;T<this.rows;T++)this.setRow(T,this.getRow(T).sort(A));return this}sortColumns(A=qe){for(let T=0;T<this.columns;T++)this.setColumn(T,this.getColumn(T).sort(A));return this}subMatrix(A,T,w,M){g(this,A,T,w,M);let C=new U(T-A+1,M-w+1);for(let F=A;F<=T;F++)for(let B=w;B<=M;B++)C.set(F-A,B-w,this.get(F,B));return C}subMatrixRow(A,T,w){if(T===void 0&&(T=0),w===void 0&&(w=this.columns-1),T>w||T<0||T>=this.columns||w<0||w>=this.columns)throw new RangeError("Argument out of range");let M=new U(A.length,w-T+1);for(let C=0;C<A.length;C++)for(let F=T;F<=w;F++){if(A[C]<0||A[C]>=this.rows)throw new RangeError(`Row index out of range: ${A[C]}`);M.set(C,F-T,this.get(A[C],F))}return M}subMatrixColumn(A,T,w){if(T===void 0&&(T=0),w===void 0&&(w=this.rows-1),T>w||T<0||T>=this.rows||w<0||w>=this.rows)throw new RangeError("Argument out of range");let M=new U(w-T+1,A.length);for(let C=0;C<A.length;C++)for(let F=T;F<=w;F++){if(A[C]<0||A[C]>=this.columns)throw new RangeError(`Column index out of range: ${A[C]}`);M.set(F-T,C,this.get(F,A[C]))}return M}setSubMatrix(A,T,w){if(A=U.checkMatrix(A),A.isEmpty())return this;let M=T+A.rows-1,C=w+A.columns-1;g(this,T,M,w,C);for(let F=0;F<A.rows;F++)for(let B=0;B<A.columns;B++)this.set(T+F,w+B,A.get(F,B));return this}selection(A,T){p(this,A),v(this,T);let w=new U(A.length,T.length);for(let M=0;M<A.length;M++){let C=A[M];for(let F=0;F<T.length;F++){let B=T[F];w.set(M,F,this.get(C,B))}}return w}trace(){let A=Math.min(this.rows,this.columns),T=0;for(let w=0;w<A;w++)T+=this.get(w,w);return T}clone(){return this.constructor.copy(this,new U(this.rows,this.columns))}static copy(A,T){for(const[w,M,C]of A.entries())T.set(w,M,C);return T}sum(A){switch(A){case"row":return x(this);case"column":return E(this);case void 0:return S(this);default:throw new Error(`invalid option: ${A}`)}}product(A){switch(A){case"row":return _(this);case"column":return k(this);case void 0:return O(this);default:throw new Error(`invalid option: ${A}`)}}mean(A){const T=this.sum(A);switch(A){case"row":{for(let w=0;w<this.rows;w++)T[w]/=this.columns;return T}case"column":{for(let w=0;w<this.columns;w++)T[w]/=this.rows;return T}case void 0:return T/this.size;default:throw new Error(`invalid option: ${A}`)}}variance(A,T={}){if(typeof A=="object"&&(T=A,A=void 0),typeof T!="object")throw new TypeError("options must be an object");const{unbiased:w=!0,mean:M=this.mean(A)}=T;if(typeof w!="boolean")throw new TypeError("unbiased must be a boolean");switch(A){case"row":{if(!e.isAnyArray(M))throw new TypeError("mean must be an array");return P(this,w,M)}case"column":{if(!e.isAnyArray(M))throw new TypeError("mean must be an array");return N(this,w,M)}case void 0:{if(typeof M!="number")throw new TypeError("mean must be a number");return R(this,w,M)}default:throw new Error(`invalid option: ${A}`)}}standardDeviation(A,T){typeof A=="object"&&(T=A,A=void 0);const w=this.variance(A,T);if(A===void 0)return Math.sqrt(w);for(let M=0;M<w.length;M++)w[M]=Math.sqrt(w[M]);return w}center(A,T={}){if(typeof A=="object"&&(T=A,A=void 0),typeof T!="object")throw new TypeError("options must be an object");const{center:w=this.mean(A)}=T;switch(A){case"row":{if(!e.isAnyArray(w))throw new TypeError("center must be an array");return L(this,w),this}case"column":{if(!e.isAnyArray(w))throw new TypeError("center must be an array");return D(this,w),this}case void 0:{if(typeof w!="number")throw new TypeError("center must be a number");return $(this,w),this}default:throw new Error(`invalid option: ${A}`)}}scale(A,T={}){if(typeof A=="object"&&(T=A,A=void 0),typeof T!="object")throw new TypeError("options must be an object");let w=T.scale;switch(A){case"row":{if(w===void 0)w=X(this);else if(!e.isAnyArray(w))throw new TypeError("scale must be an array");return K(this,w),this}case"column":{if(w===void 0)w=V(this);else if(!e.isAnyArray(w))throw new TypeError("scale must be an array");return ne(this,w),this}case void 0:{if(w===void 0)w=we(this);else if(typeof w!="number")throw new TypeError("scale must be a number");return Se(this,w),this}default:throw new Error(`invalid option: ${A}`)}}toString(A){return a(this,A)}[Symbol.iterator](){return this.entries()}*entries(){for(let A=0;A<this.rows;A++)for(let T=0;T<this.columns;T++)yield[A,T,this.get(A,T)]}*values(){for(let A=0;A<this.rows;A++)for(let T=0;T<this.columns;T++)yield this.get(A,T)}}pe.prototype.klass="Matrix",typeof Symbol<"u"&&(pe.prototype[Symbol.for("nodejs.util.inspect.custom")]=i);function qe(I,A){return I-A}function ee(I){return I.every(A=>typeof A=="number")}pe.random=pe.rand,pe.randomInt=pe.randInt,pe.diagonal=pe.diag,pe.prototype.diagonal=pe.prototype.diag,pe.identity=pe.eye,pe.prototype.negate=pe.prototype.neg,pe.prototype.tensorProduct=pe.prototype.kroneckerProduct;const tf=class tf extends pe{constructor(T,w){super();Up(this,su);Qt(this,"data");if(tf.isMatrix(T))Hp(this,su,Sx).call(this,T.rows,T.columns),tf.copy(T,this);else if(Number.isInteger(T)&&T>=0)Hp(this,su,Sx).call(this,T,w);else if(e.isAnyArray(T)){const M=T;if(T=M.length,w=T?M[0].length:0,typeof w!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let C=0;C<T;C++){if(M[C].length!==w)throw new RangeError("Inconsistent array dimensions");if(!ee(M[C]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(M[C]))}this.rows=T,this.columns=w}else throw new TypeError("First argument must be a positive number or an array")}set(T,w,M){return this.data[T][w]=M,this}get(T,w){return this.data[T][w]}removeRow(T){return c(this,T),this.data.splice(T,1),this.rows-=1,this}addRow(T,w){return w===void 0&&(w=T,T=this.rows),c(this,T,!0),w=Float64Array.from(h(this,w)),this.data.splice(T,0,w),this.rows+=1,this}removeColumn(T){f(this,T);for(let w=0;w<this.rows;w++){const M=new Float64Array(this.columns-1);for(let C=0;C<T;C++)M[C]=this.data[w][C];for(let C=T+1;C<this.columns;C++)M[C-1]=this.data[w][C];this.data[w]=M}return this.columns-=1,this}addColumn(T,w){typeof w>"u"&&(w=T,T=this.columns),f(this,T,!0),w=d(this,w);for(let M=0;M<this.rows;M++){const C=new Float64Array(this.columns+1);let F=0;for(;F<T;F++)C[F]=this.data[M][F];for(C[F++]=w[M];F<this.columns+1;F++)C[F]=this.data[M][F-1];this.data[M]=C}return this.columns+=1,this}};su=new WeakSet,Sx=function(T,w){if(this.data=[],Number.isInteger(w)&&w>=0)for(let M=0;M<T;M++)this.data.push(new Float64Array(w));else throw new TypeError("nColumns must be a positive integer");this.rows=T,this.columns=w};let U=tf;u(pe,U);const rf=class rf extends pe{constructor(T){super();Up(this,ln);if(U.isMatrix(T)){if(!T.isSymmetric())throw new TypeError("not symmetric data");nf(this,ln,U.copy(T,new U(T.rows,T.rows)))}else if(Number.isInteger(T)&&T>=0)nf(this,ln,new U(T,T));else if(nf(this,ln,new U(T)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Oi(this,ln).size}get rows(){return Oi(this,ln).rows}get columns(){return Oi(this,ln).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(T){return U.isMatrix(T)&&T.klassType==="SymmetricMatrix"}static zeros(T){return new this(T)}static ones(T){return new this(T).fill(1)}clone(){const T=new rf(this.diagonalSize);for(const[w,M,C]of this.upperRightEntries())T.set(w,M,C);return T}toMatrix(){return new U(this)}get(T,w){return Oi(this,ln).get(T,w)}set(T,w,M){return Oi(this,ln).set(T,w,M),Oi(this,ln).set(w,T,M),this}removeCross(T){return Oi(this,ln).removeRow(T),Oi(this,ln).removeColumn(T),this}addCross(T,w){w===void 0&&(w=T,T=this.diagonalSize);const M=w.slice();return M.splice(T,1),Oi(this,ln).addRow(T,M),Oi(this,ln).addColumn(T,w),this}applyMask(T){if(T.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const w=[];for(const[M,C]of T.entries())C||w.push(M);w.reverse();for(const M of w)this.removeCross(M);return this}toCompact(){const{diagonalSize:T}=this,w=new Array(T*(T+1)/2);for(let M=0,C=0,F=0;F<w.length;F++)w[F]=this.get(C,M),++M>=T&&(M=++C);return w}static fromCompact(T){const w=T.length,M=(Math.sqrt(8*w+1)-1)/2;if(!Number.isInteger(M))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(T)}`);const C=new rf(M);for(let F=0,B=0,q=0;q<w;q++)C.set(F,B,T[q]),++F>=M&&(F=++B);return C}*upperRightEntries(){for(let T=0,w=0;T<this.diagonalSize;void 0){const M=this.get(T,w);yield[T,w,M],++w>=this.diagonalSize&&(w=++T)}}*upperRightValues(){for(let T=0,w=0;T<this.diagonalSize;void 0)yield this.get(T,w),++w>=this.diagonalSize&&(w=++T)}};ln=new WeakMap;let le=rf;le.prototype.klassType="SymmetricMatrix";class Z extends le{static isDistanceMatrix(A){return le.isSymmetricMatrix(A)&&A.klassSubType==="DistanceMatrix"}constructor(A){if(super(A),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(A,T,w){return A===T&&(w=0),super.set(A,T,w)}addCross(A,T){return T===void 0&&(T=A,A=this.diagonalSize),T=T.slice(),T[A]=0,super.addCross(A,T)}toSymmetricMatrix(){return new le(this)}clone(){const A=new Z(this.diagonalSize);for(const[T,w,M]of this.upperRightEntries())T!==w&&A.set(T,w,M);return A}toCompact(){const{diagonalSize:A}=this,T=(A-1)*A/2,w=new Array(T);for(let M=1,C=0,F=0;F<w.length;F++)w[F]=this.get(C,M),++M>=A&&(M=++C+1);return w}static fromCompact(A){const T=A.length;if(T===0)return new this(0);const w=(Math.sqrt(8*T+1)+1)/2;if(!Number.isInteger(w))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(A)}`);const M=new this(w);for(let C=1,F=0,B=0;B<T;B++)M.set(C,F,A[B]),++C>=w&&(C=++F+1);return M}}Z.prototype.klassSubType="DistanceMatrix";class se extends pe{constructor(A,T,w){super(),this.matrix=A,this.rows=T,this.columns=w}}class ve extends se{constructor(A,T){f(A,T),super(A,A.rows,1),this.column=T}set(A,T,w){return this.matrix.set(A,this.column,w),this}get(A){return this.matrix.get(A,this.column)}}class ge extends se{constructor(A,T){v(A,T),super(A,A.rows,T.length),this.columnIndices=T}set(A,T,w){return this.matrix.set(A,this.columnIndices[T],w),this}get(A,T){return this.matrix.get(A,this.columnIndices[T])}}class Me extends se{constructor(A){super(A,A.rows,A.columns)}set(A,T,w){return this.matrix.set(A,this.columns-T-1,w),this}get(A,T){return this.matrix.get(A,this.columns-T-1)}}class W extends se{constructor(A){super(A,A.rows,A.columns)}set(A,T,w){return this.matrix.set(this.rows-A-1,T,w),this}get(A,T){return this.matrix.get(this.rows-A-1,T)}}class H extends se{constructor(A,T){c(A,T),super(A,1,A.columns),this.row=T}set(A,T,w){return this.matrix.set(this.row,T,w),this}get(A,T){return this.matrix.get(this.row,T)}}class oe extends se{constructor(A,T){p(A,T),super(A,T.length,A.columns),this.rowIndices=T}set(A,T,w){return this.matrix.set(this.rowIndices[A],T,w),this}get(A,T){return this.matrix.get(this.rowIndices[A],T)}}class ce extends se{constructor(A,T,w){p(A,T),v(A,w),super(A,T.length,w.length),this.rowIndices=T,this.columnIndices=w}set(A,T,w){return this.matrix.set(this.rowIndices[A],this.columnIndices[T],w),this}get(A,T){return this.matrix.get(this.rowIndices[A],this.columnIndices[T])}}class xe extends se{constructor(A,T,w,M,C){g(A,T,w,M,C),super(A,w-T+1,C-M+1),this.startRow=T,this.startColumn=M}set(A,T,w){return this.matrix.set(this.startRow+A,this.startColumn+T,w),this}get(A,T){return this.matrix.get(this.startRow+A,this.startColumn+T)}}class de extends se{constructor(A){super(A,A.columns,A.rows)}set(A,T,w){return this.matrix.set(T,A,w),this}get(A,T){return this.matrix.get(T,A)}}class G extends pe{constructor(A,T={}){const{rows:w=1}=T;if(A.length%w!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=w,this.columns=A.length/w,this.data=A}set(A,T,w){let M=this._calculateIndex(A,T);return this.data[M]=w,this}get(A,T){let w=this._calculateIndex(A,T);return this.data[w]}_calculateIndex(A,T){return A*this.columns+T}}class j extends pe{constructor(A){super(),this.data=A,this.rows=A.length,this.columns=A[0].length}set(A,T,w){return this.data[A][T]=w,this}get(A,T){return this.data[A][T]}}function re(I,A){if(e.isAnyArray(I))return I[0]&&e.isAnyArray(I[0])?new j(I):new G(I,A);throw new Error("the argument is not an array")}class ue{constructor(A){A=j.checkMatrix(A);let T=A.clone(),w=T.rows,M=T.columns,C=new Float64Array(w),F=1,B,q,z,ae,Q,be,Le,he,_e;for(B=0;B<w;B++)C[B]=B;for(he=new Float64Array(w),q=0;q<M;q++){for(B=0;B<w;B++)he[B]=T.get(B,q);for(B=0;B<w;B++){for(_e=Math.min(B,q),Q=0,z=0;z<_e;z++)Q+=T.get(B,z)*he[z];he[B]-=Q,T.set(B,q,he[B])}for(ae=q,B=q+1;B<w;B++)Math.abs(he[B])>Math.abs(he[ae])&&(ae=B);if(ae!==q){for(z=0;z<M;z++)be=T.get(ae,z),T.set(ae,z,T.get(q,z)),T.set(q,z,be);Le=C[ae],C[ae]=C[q],C[q]=Le,F=-F}if(q<w&&T.get(q,q)!==0)for(B=q+1;B<w;B++)T.set(B,q,T.get(B,q)/T.get(q,q))}this.LU=T,this.pivotVector=C,this.pivotSign=F}isSingular(){let A=this.LU,T=A.columns;for(let w=0;w<T;w++)if(A.get(w,w)===0)return!0;return!1}solve(A){A=U.checkMatrix(A);let T=this.LU;if(T.rows!==A.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let M=A.columns,C=A.subMatrixRow(this.pivotVector,0,M-1),F=T.columns,B,q,z;for(z=0;z<F;z++)for(B=z+1;B<F;B++)for(q=0;q<M;q++)C.set(B,q,C.get(B,q)-C.get(z,q)*T.get(B,z));for(z=F-1;z>=0;z--){for(q=0;q<M;q++)C.set(z,q,C.get(z,q)/T.get(z,z));for(B=0;B<z;B++)for(q=0;q<M;q++)C.set(B,q,C.get(B,q)-C.get(z,q)*T.get(B,z))}return C}get determinant(){let A=this.LU;if(!A.isSquare())throw new Error("Matrix must be square");let T=this.pivotSign,w=A.columns;for(let M=0;M<w;M++)T*=A.get(M,M);return T}get lowerTriangularMatrix(){let A=this.LU,T=A.rows,w=A.columns,M=new U(T,w);for(let C=0;C<T;C++)for(let F=0;F<w;F++)C>F?M.set(C,F,A.get(C,F)):C===F?M.set(C,F,1):M.set(C,F,0);return M}get upperTriangularMatrix(){let A=this.LU,T=A.rows,w=A.columns,M=new U(T,w);for(let C=0;C<T;C++)for(let F=0;F<w;F++)C<=F?M.set(C,F,A.get(C,F)):M.set(C,F,0);return M}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Pe(I,A){let T=0;return Math.abs(I)>Math.abs(A)?(T=A/I,Math.abs(I)*Math.sqrt(1+T*T)):A!==0?(T=I/A,Math.abs(A)*Math.sqrt(1+T*T)):0}class me{constructor(A){A=j.checkMatrix(A);let T=A.clone(),w=A.rows,M=A.columns,C=new Float64Array(M),F,B,q,z;for(q=0;q<M;q++){let ae=0;for(F=q;F<w;F++)ae=Pe(ae,T.get(F,q));if(ae!==0){for(T.get(q,q)<0&&(ae=-ae),F=q;F<w;F++)T.set(F,q,T.get(F,q)/ae);for(T.set(q,q,T.get(q,q)+1),B=q+1;B<M;B++){for(z=0,F=q;F<w;F++)z+=T.get(F,q)*T.get(F,B);for(z=-z/T.get(q,q),F=q;F<w;F++)T.set(F,B,T.get(F,B)+z*T.get(F,q))}}C[q]=-ae}this.QR=T,this.Rdiag=C}solve(A){A=U.checkMatrix(A);let T=this.QR,w=T.rows;if(A.rows!==w)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let M=A.columns,C=A.clone(),F=T.columns,B,q,z,ae;for(z=0;z<F;z++)for(q=0;q<M;q++){for(ae=0,B=z;B<w;B++)ae+=T.get(B,z)*C.get(B,q);for(ae=-ae/T.get(z,z),B=z;B<w;B++)C.set(B,q,C.get(B,q)+ae*T.get(B,z))}for(z=F-1;z>=0;z--){for(q=0;q<M;q++)C.set(z,q,C.get(z,q)/this.Rdiag[z]);for(B=0;B<z;B++)for(q=0;q<M;q++)C.set(B,q,C.get(B,q)-C.get(z,q)*T.get(B,z))}return C.subMatrix(0,F-1,0,M-1)}isFullRank(){let A=this.QR.columns;for(let T=0;T<A;T++)if(this.Rdiag[T]===0)return!1;return!0}get upperTriangularMatrix(){let A=this.QR,T=A.columns,w=new U(T,T),M,C;for(M=0;M<T;M++)for(C=0;C<T;C++)M<C?w.set(M,C,A.get(M,C)):M===C?w.set(M,C,this.Rdiag[M]):w.set(M,C,0);return w}get orthogonalMatrix(){let A=this.QR,T=A.rows,w=A.columns,M=new U(T,w),C,F,B,q;for(B=w-1;B>=0;B--){for(C=0;C<T;C++)M.set(C,B,0);for(M.set(B,B,1),F=B;F<w;F++)if(A.get(B,B)!==0){for(q=0,C=B;C<T;C++)q+=A.get(C,B)*M.get(C,F);for(q=-q/A.get(B,B),C=B;C<T;C++)M.set(C,F,M.get(C,F)+q*A.get(C,B))}}return M}}class te{constructor(A,T={}){if(A=j.checkMatrix(A),A.isEmpty())throw new Error("Matrix must be non-empty");let w=A.rows,M=A.columns;const{computeLeftSingularVectors:C=!0,computeRightSingularVectors:F=!0,autoTranspose:B=!1}=T;let q=!!C,z=!!F,ae=!1,Q;if(w<M)if(!B)Q=A.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Q=A.transpose(),w=Q.rows,M=Q.columns,ae=!0;let ie=q;q=z,z=ie}else Q=A.clone();let be=Math.min(w,M),Le=Math.min(w+1,M),he=new Float64Array(Le),_e=new U(w,be),ze=new U(M,M),J=new Float64Array(M),Re=new Float64Array(w),We=new Float64Array(Le);for(let ie=0;ie<Le;ie++)We[ie]=ie;let tt=Math.min(w-1,M),at=Math.max(0,Math.min(M-2,w)),sr=Math.max(tt,at);for(let ie=0;ie<sr;ie++){if(ie<tt){he[ie]=0;for(let Oe=ie;Oe<w;Oe++)he[ie]=Pe(he[ie],Q.get(Oe,ie));if(he[ie]!==0){Q.get(ie,ie)<0&&(he[ie]=-he[ie]);for(let Oe=ie;Oe<w;Oe++)Q.set(Oe,ie,Q.get(Oe,ie)/he[ie]);Q.set(ie,ie,Q.get(ie,ie)+1)}he[ie]=-he[ie]}for(let Oe=ie+1;Oe<M;Oe++){if(ie<tt&&he[ie]!==0){let je=0;for(let Ne=ie;Ne<w;Ne++)je+=Q.get(Ne,ie)*Q.get(Ne,Oe);je=-je/Q.get(ie,ie);for(let Ne=ie;Ne<w;Ne++)Q.set(Ne,Oe,Q.get(Ne,Oe)+je*Q.get(Ne,ie))}J[Oe]=Q.get(ie,Oe)}if(q&&ie<tt)for(let Oe=ie;Oe<w;Oe++)_e.set(Oe,ie,Q.get(Oe,ie));if(ie<at){J[ie]=0;for(let Oe=ie+1;Oe<M;Oe++)J[ie]=Pe(J[ie],J[Oe]);if(J[ie]!==0){J[ie+1]<0&&(J[ie]=0-J[ie]);for(let Oe=ie+1;Oe<M;Oe++)J[Oe]/=J[ie];J[ie+1]+=1}if(J[ie]=-J[ie],ie+1<w&&J[ie]!==0){for(let Oe=ie+1;Oe<w;Oe++)Re[Oe]=0;for(let Oe=ie+1;Oe<w;Oe++)for(let je=ie+1;je<M;je++)Re[Oe]+=J[je]*Q.get(Oe,je);for(let Oe=ie+1;Oe<M;Oe++){let je=-J[Oe]/J[ie+1];for(let Ne=ie+1;Ne<w;Ne++)Q.set(Ne,Oe,Q.get(Ne,Oe)+je*Re[Ne])}}if(z)for(let Oe=ie+1;Oe<M;Oe++)ze.set(Oe,ie,J[Oe])}}let Xe=Math.min(M,w+1);if(tt<M&&(he[tt]=Q.get(tt,tt)),w<Xe&&(he[Xe-1]=0),at+1<Xe&&(J[at]=Q.get(at,Xe-1)),J[Xe-1]=0,q){for(let ie=tt;ie<be;ie++){for(let Oe=0;Oe<w;Oe++)_e.set(Oe,ie,0);_e.set(ie,ie,1)}for(let ie=tt-1;ie>=0;ie--)if(he[ie]!==0){for(let Oe=ie+1;Oe<be;Oe++){let je=0;for(let Ne=ie;Ne<w;Ne++)je+=_e.get(Ne,ie)*_e.get(Ne,Oe);je=-je/_e.get(ie,ie);for(let Ne=ie;Ne<w;Ne++)_e.set(Ne,Oe,_e.get(Ne,Oe)+je*_e.get(Ne,ie))}for(let Oe=ie;Oe<w;Oe++)_e.set(Oe,ie,-_e.get(Oe,ie));_e.set(ie,ie,1+_e.get(ie,ie));for(let Oe=0;Oe<ie-1;Oe++)_e.set(Oe,ie,0)}else{for(let Oe=0;Oe<w;Oe++)_e.set(Oe,ie,0);_e.set(ie,ie,1)}}if(z)for(let ie=M-1;ie>=0;ie--){if(ie<at&&J[ie]!==0)for(let Oe=ie+1;Oe<M;Oe++){let je=0;for(let Ne=ie+1;Ne<M;Ne++)je+=ze.get(Ne,ie)*ze.get(Ne,Oe);je=-je/ze.get(ie+1,ie);for(let Ne=ie+1;Ne<M;Ne++)ze.set(Ne,Oe,ze.get(Ne,Oe)+je*ze.get(Ne,ie))}for(let Oe=0;Oe<M;Oe++)ze.set(Oe,ie,0);ze.set(ie,ie,1)}let Ze=Xe-1,zt=Number.EPSILON;for(;Xe>0;){let ie,Oe;for(ie=Xe-2;ie>=-1&&ie!==-1;ie--){const je=Number.MIN_VALUE+zt*Math.abs(he[ie]+Math.abs(he[ie+1]));if(Math.abs(J[ie])<=je||Number.isNaN(J[ie])){J[ie]=0;break}}if(ie===Xe-2)Oe=4;else{let je;for(je=Xe-1;je>=ie&&je!==ie;je--){let Ne=(je!==Xe?Math.abs(J[je]):0)+(je!==ie+1?Math.abs(J[je-1]):0);if(Math.abs(he[je])<=zt*Ne){he[je]=0;break}}je===ie?Oe=3:je===Xe-1?Oe=1:(Oe=2,ie=je)}switch(ie++,Oe){case 1:{let je=J[Xe-2];J[Xe-2]=0;for(let Ne=Xe-2;Ne>=ie;Ne--){let or=Pe(he[Ne],je),Pt=he[Ne]/or,Zt=je/or;if(he[Ne]=or,Ne!==ie&&(je=-Zt*J[Ne-1],J[Ne-1]=Pt*J[Ne-1]),z)for(let lr=0;lr<M;lr++)or=Pt*ze.get(lr,Ne)+Zt*ze.get(lr,Xe-1),ze.set(lr,Xe-1,-Zt*ze.get(lr,Ne)+Pt*ze.get(lr,Xe-1)),ze.set(lr,Ne,or)}break}case 2:{let je=J[ie-1];J[ie-1]=0;for(let Ne=ie;Ne<Xe;Ne++){let or=Pe(he[Ne],je),Pt=he[Ne]/or,Zt=je/or;if(he[Ne]=or,je=-Zt*J[Ne],J[Ne]=Pt*J[Ne],q)for(let lr=0;lr<w;lr++)or=Pt*_e.get(lr,Ne)+Zt*_e.get(lr,ie-1),_e.set(lr,ie-1,-Zt*_e.get(lr,Ne)+Pt*_e.get(lr,ie-1)),_e.set(lr,Ne,or)}break}case 3:{const je=Math.max(Math.abs(he[Xe-1]),Math.abs(he[Xe-2]),Math.abs(J[Xe-2]),Math.abs(he[ie]),Math.abs(J[ie])),Ne=he[Xe-1]/je,or=he[Xe-2]/je,Pt=J[Xe-2]/je,Zt=he[ie]/je,lr=J[ie]/je,Ur=((or+Ne)*(or-Ne)+Pt*Pt)/2,Ai=Ne*Pt*(Ne*Pt);let Lr=0;(Ur!==0||Ai!==0)&&(Ur<0?Lr=0-Math.sqrt(Ur*Ur+Ai):Lr=Math.sqrt(Ur*Ur+Ai),Lr=Ai/(Ur+Lr));let Zi=(Zt+Ne)*(Zt-Ne)+Lr,ka=Zt*lr;for(let wt=ie;wt<Xe-1;wt++){let Hr=Pe(Zi,ka);Hr===0&&(Hr=Number.MIN_VALUE);let Vn=Zi/Hr,Un=ka/Hr;if(wt!==ie&&(J[wt-1]=Hr),Zi=Vn*he[wt]+Un*J[wt],J[wt]=Vn*J[wt]-Un*he[wt],ka=Un*he[wt+1],he[wt+1]=Vn*he[wt+1],z)for(let Ir=0;Ir<M;Ir++)Hr=Vn*ze.get(Ir,wt)+Un*ze.get(Ir,wt+1),ze.set(Ir,wt+1,-Un*ze.get(Ir,wt)+Vn*ze.get(Ir,wt+1)),ze.set(Ir,wt,Hr);if(Hr=Pe(Zi,ka),Hr===0&&(Hr=Number.MIN_VALUE),Vn=Zi/Hr,Un=ka/Hr,he[wt]=Hr,Zi=Vn*J[wt]+Un*he[wt+1],he[wt+1]=-Un*J[wt]+Vn*he[wt+1],ka=Un*J[wt+1],J[wt+1]=Vn*J[wt+1],q&&wt<w-1)for(let Ir=0;Ir<w;Ir++)Hr=Vn*_e.get(Ir,wt)+Un*_e.get(Ir,wt+1),_e.set(Ir,wt+1,-Un*_e.get(Ir,wt)+Vn*_e.get(Ir,wt+1)),_e.set(Ir,wt,Hr)}J[Xe-2]=Zi;break}case 4:{if(he[ie]<=0&&(he[ie]=he[ie]<0?-he[ie]:0,z))for(let je=0;je<=Ze;je++)ze.set(je,ie,-ze.get(je,ie));for(;ie<Ze&&!(he[ie]>=he[ie+1]);){let je=he[ie];if(he[ie]=he[ie+1],he[ie+1]=je,z&&ie<M-1)for(let Ne=0;Ne<M;Ne++)je=ze.get(Ne,ie+1),ze.set(Ne,ie+1,ze.get(Ne,ie)),ze.set(Ne,ie,je);if(q&&ie<w-1)for(let Ne=0;Ne<w;Ne++)je=_e.get(Ne,ie+1),_e.set(Ne,ie+1,_e.get(Ne,ie)),_e.set(Ne,ie,je);ie++}Xe--;break}}}if(ae){let ie=ze;ze=_e,_e=ie}this.m=w,this.n=M,this.s=he,this.U=_e,this.V=ze}solve(A){let T=A,w=this.threshold,M=this.s.length,C=U.zeros(M,M);for(let be=0;be<M;be++)Math.abs(this.s[be])<=w?C.set(be,be,0):C.set(be,be,1/this.s[be]);let F=this.U,B=this.rightSingularVectors,q=B.mmul(C),z=B.rows,ae=F.rows,Q=U.zeros(z,ae);for(let be=0;be<z;be++)for(let Le=0;Le<ae;Le++){let he=0;for(let _e=0;_e<M;_e++)he+=q.get(be,_e)*F.get(Le,_e);Q.set(be,Le,he)}return Q.mmul(T)}solveForDiagonal(A){return this.solve(U.diag(A))}inverse(){let A=this.V,T=this.threshold,w=A.rows,M=A.columns,C=new U(w,this.s.length);for(let ae=0;ae<w;ae++)for(let Q=0;Q<M;Q++)Math.abs(this.s[Q])>T&&C.set(ae,Q,A.get(ae,Q)/this.s[Q]);let F=this.U,B=F.rows,q=F.columns,z=new U(w,B);for(let ae=0;ae<w;ae++)for(let Q=0;Q<B;Q++){let be=0;for(let Le=0;Le<q;Le++)be+=C.get(ae,Le)*F.get(Q,Le);z.set(ae,Q,be)}return z}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let A=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,T=0,w=this.s;for(let M=0,C=w.length;M<C;M++)w[M]>A&&T++;return T}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return U.diag(this.s)}}function fe(I,A=!1){return I=j.checkMatrix(I),A?new te(I).inverse():Fe(I,U.eye(I.rows))}function Fe(I,A,T=!1){return I=j.checkMatrix(I),A=j.checkMatrix(A),T?new te(I).solve(A):I.isSquare()?new ue(I).solve(A):new me(I).solve(A)}function He(I){if(I=U.checkMatrix(I),I.isSquare()){if(I.columns===0)return 1;let A,T,w,M;if(I.columns===2)return A=I.get(0,0),T=I.get(0,1),w=I.get(1,0),M=I.get(1,1),A*M-T*w;if(I.columns===3){let C,F,B;return C=new ce(I,[1,2],[1,2]),F=new ce(I,[1,2],[0,2]),B=new ce(I,[1,2],[0,1]),A=I.get(0,0),T=I.get(0,1),w=I.get(0,2),A*He(C)-T*He(F)+w*He(B)}else return new ue(I).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Je(I,A){let T=[];for(let w=0;w<I;w++)w!==A&&T.push(w);return T}function Kt(I,A,T,w=1e-9,M=1e-9){if(I>M)return new Array(A.rows+1).fill(0);{let C=A.addRow(T,[0]);for(let F=0;F<C.rows;F++)Math.abs(C.get(F,0))<w&&C.set(F,0,0);return C.to1DArray()}}function Dt(I,A={}){const{thresholdValue:T=1e-9,thresholdError:w=1e-9}=A;I=U.checkMatrix(I);let M=I.rows,C=new U(M,M);for(let F=0;F<M;F++){let B=U.columnVector(I.getRow(F)),q=I.subMatrixRow(Je(M,F)).transpose(),ae=new te(q).solve(B),Q=U.sub(B,q.mmul(ae)).abs().max();C.setRow(F,Kt(Q,ae,F,T,w))}return C}function an(I,A=Number.EPSILON){if(I=U.checkMatrix(I),I.isEmpty())return I.transpose();let T=new te(I,{autoTranspose:!0}),w=T.leftSingularVectors,M=T.rightSingularVectors,C=T.diagonal;for(let F=0;F<C.length;F++)Math.abs(C[F])>A?C[F]=1/C[F]:C[F]=0;return M.mmul(U.diag(C).mmul(w.transpose()))}function sn(I,A=I,T={}){I=new U(I);let w=!1;if(typeof A=="object"&&!U.isMatrix(A)&&!e.isAnyArray(A)?(T=A,A=I,w=!0):A=new U(A),I.rows!==A.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:M=!0}=T;M&&(I=I.center("column"),w||(A=A.center("column")));const C=I.transpose().mmul(A);for(let F=0;F<C.rows;F++)for(let B=0;B<C.columns;B++)C.set(F,B,C.get(F,B)*(1/(I.rows-1)));return C}function on(I,A=I,T={}){I=new U(I);let w=!1;if(typeof A=="object"&&!U.isMatrix(A)&&!e.isAnyArray(A)?(T=A,A=I,w=!0):A=new U(A),I.rows!==A.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:M=!0,scale:C=!0}=T;M&&(I.center("column"),w||A.center("column")),C&&(I.scale("column"),w||A.scale("column"));const F=I.standardDeviation("column",{unbiased:!0}),B=w?F:A.standardDeviation("column",{unbiased:!0}),q=I.transpose().mmul(A);for(let z=0;z<q.rows;z++)for(let ae=0;ae<q.columns;ae++)q.set(z,ae,q.get(z,ae)*(1/(F[z]*B[ae]))*(1/(I.rows-1)));return q}class Wn{constructor(A,T={}){const{assumeSymmetric:w=!1}=T;if(A=j.checkMatrix(A),!A.isSquare())throw new Error("Matrix is not a square matrix");if(A.isEmpty())throw new Error("Matrix must be non-empty");let M=A.columns,C=new U(M,M),F=new Float64Array(M),B=new Float64Array(M),q=A,z,ae,Q=!1;if(w?Q=!0:Q=A.isSymmetric(),Q){for(z=0;z<M;z++)for(ae=0;ae<M;ae++)C.set(z,ae,q.get(z,ae));gn(M,B,F,C),ai(M,B,F,C)}else{let be=new U(M,M),Le=new Float64Array(M);for(ae=0;ae<M;ae++)for(z=0;z<M;z++)be.set(z,ae,q.get(z,ae));Jc(M,be,Le,C),S$(M,B,F,C,be)}this.n=M,this.e=B,this.d=F,this.V=C}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let A=this.n,T=this.e,w=this.d,M=new U(A,A),C,F;for(C=0;C<A;C++){for(F=0;F<A;F++)M.set(C,F,0);M.set(C,C,w[C]),T[C]>0?M.set(C,C+1,T[C]):T[C]<0&&M.set(C,C-1,T[C])}return M}}function gn(I,A,T,w){let M,C,F,B,q,z,ae,Q;for(q=0;q<I;q++)T[q]=w.get(I-1,q);for(B=I-1;B>0;B--){for(Q=0,F=0,z=0;z<B;z++)Q=Q+Math.abs(T[z]);if(Q===0)for(A[B]=T[B-1],q=0;q<B;q++)T[q]=w.get(B-1,q),w.set(B,q,0),w.set(q,B,0);else{for(z=0;z<B;z++)T[z]/=Q,F+=T[z]*T[z];for(M=T[B-1],C=Math.sqrt(F),M>0&&(C=-C),A[B]=Q*C,F=F-M*C,T[B-1]=M-C,q=0;q<B;q++)A[q]=0;for(q=0;q<B;q++){for(M=T[q],w.set(q,B,M),C=A[q]+w.get(q,q)*M,z=q+1;z<=B-1;z++)C+=w.get(z,q)*T[z],A[z]+=w.get(z,q)*M;A[q]=C}for(M=0,q=0;q<B;q++)A[q]/=F,M+=A[q]*T[q];for(ae=M/(F+F),q=0;q<B;q++)A[q]-=ae*T[q];for(q=0;q<B;q++){for(M=T[q],C=A[q],z=q;z<=B-1;z++)w.set(z,q,w.get(z,q)-(M*A[z]+C*T[z]));T[q]=w.get(B-1,q),w.set(B,q,0)}}T[B]=F}for(B=0;B<I-1;B++){if(w.set(I-1,B,w.get(B,B)),w.set(B,B,1),F=T[B+1],F!==0){for(z=0;z<=B;z++)T[z]=w.get(z,B+1)/F;for(q=0;q<=B;q++){for(C=0,z=0;z<=B;z++)C+=w.get(z,B+1)*w.get(z,q);for(z=0;z<=B;z++)w.set(z,q,w.get(z,q)-C*T[z])}}for(z=0;z<=B;z++)w.set(z,B+1,0)}for(q=0;q<I;q++)T[q]=w.get(I-1,q),w.set(I-1,q,0);w.set(I-1,I-1,1),A[0]=0}function ai(I,A,T,w){let M,C,F,B,q,z,ae,Q,be,Le,he,_e,ze,J,Re,We;for(F=1;F<I;F++)A[F-1]=A[F];A[I-1]=0;let tt=0,at=0,sr=Number.EPSILON;for(z=0;z<I;z++){for(at=Math.max(at,Math.abs(T[z])+Math.abs(A[z])),ae=z;ae<I&&!(Math.abs(A[ae])<=sr*at);)ae++;if(ae>z)do{for(M=T[z],Q=(T[z+1]-M)/(2*A[z]),be=Pe(Q,1),Q<0&&(be=-be),T[z]=A[z]/(Q+be),T[z+1]=A[z]*(Q+be),Le=T[z+1],C=M-T[z],F=z+2;F<I;F++)T[F]-=C;for(tt=tt+C,Q=T[ae],he=1,_e=he,ze=he,J=A[z+1],Re=0,We=0,F=ae-1;F>=z;F--)for(ze=_e,_e=he,We=Re,M=he*A[F],C=he*Q,be=Pe(Q,A[F]),A[F+1]=Re*be,Re=A[F]/be,he=Q/be,Q=he*T[F]-Re*M,T[F+1]=C+Re*(he*M+Re*T[F]),q=0;q<I;q++)C=w.get(q,F+1),w.set(q,F+1,Re*w.get(q,F)+he*C),w.set(q,F,he*w.get(q,F)-Re*C);Q=-Re*We*ze*J*A[z]/Le,A[z]=Re*Q,T[z]=he*Q}while(Math.abs(A[z])>sr*at);T[z]=T[z]+tt,A[z]=0}for(F=0;F<I-1;F++){for(q=F,Q=T[F],B=F+1;B<I;B++)T[B]<Q&&(q=B,Q=T[B]);if(q!==F)for(T[q]=T[F],T[F]=Q,B=0;B<I;B++)Q=w.get(B,F),w.set(B,F,w.get(B,q)),w.set(B,q,Q)}}function Jc(I,A,T,w){let M=0,C=I-1,F,B,q,z,ae,Q,be;for(Q=M+1;Q<=C-1;Q++){for(be=0,z=Q;z<=C;z++)be=be+Math.abs(A.get(z,Q-1));if(be!==0){for(q=0,z=C;z>=Q;z--)T[z]=A.get(z,Q-1)/be,q+=T[z]*T[z];for(B=Math.sqrt(q),T[Q]>0&&(B=-B),q=q-T[Q]*B,T[Q]=T[Q]-B,ae=Q;ae<I;ae++){for(F=0,z=C;z>=Q;z--)F+=T[z]*A.get(z,ae);for(F=F/q,z=Q;z<=C;z++)A.set(z,ae,A.get(z,ae)-F*T[z])}for(z=0;z<=C;z++){for(F=0,ae=C;ae>=Q;ae--)F+=T[ae]*A.get(z,ae);for(F=F/q,ae=Q;ae<=C;ae++)A.set(z,ae,A.get(z,ae)-F*T[ae])}T[Q]=be*T[Q],A.set(Q,Q-1,be*B)}}for(z=0;z<I;z++)for(ae=0;ae<I;ae++)w.set(z,ae,z===ae?1:0);for(Q=C-1;Q>=M+1;Q--)if(A.get(Q,Q-1)!==0){for(z=Q+1;z<=C;z++)T[z]=A.get(z,Q-1);for(ae=Q;ae<=C;ae++){for(B=0,z=Q;z<=C;z++)B+=T[z]*w.get(z,ae);for(B=B/T[Q]/A.get(Q,Q-1),z=Q;z<=C;z++)w.set(z,ae,w.get(z,ae)+B*T[z])}}}function S$(I,A,T,w,M){let C=I-1,F=0,B=I-1,q=Number.EPSILON,z=0,ae=0,Q=0,be=0,Le=0,he=0,_e=0,ze=0,J,Re,We,tt,at,sr,Xe,Ze,zt,ie,Oe,je,Ne,or,Pt;for(J=0;J<I;J++)for((J<F||J>B)&&(T[J]=M.get(J,J),A[J]=0),Re=Math.max(J-1,0);Re<I;Re++)ae=ae+Math.abs(M.get(J,Re));for(;C>=F;){for(tt=C;tt>F&&(he=Math.abs(M.get(tt-1,tt-1))+Math.abs(M.get(tt,tt)),he===0&&(he=ae),!(Math.abs(M.get(tt,tt-1))<q*he));)tt--;if(tt===C)M.set(C,C,M.get(C,C)+z),T[C]=M.get(C,C),A[C]=0,C--,ze=0;else if(tt===C-1){if(Xe=M.get(C,C-1)*M.get(C-1,C),Q=(M.get(C-1,C-1)-M.get(C,C))/2,be=Q*Q+Xe,_e=Math.sqrt(Math.abs(be)),M.set(C,C,M.get(C,C)+z),M.set(C-1,C-1,M.get(C-1,C-1)+z),Ze=M.get(C,C),be>=0){for(_e=Q>=0?Q+_e:Q-_e,T[C-1]=Ze+_e,T[C]=T[C-1],_e!==0&&(T[C]=Ze-Xe/_e),A[C-1]=0,A[C]=0,Ze=M.get(C,C-1),he=Math.abs(Ze)+Math.abs(_e),Q=Ze/he,be=_e/he,Le=Math.sqrt(Q*Q+be*be),Q=Q/Le,be=be/Le,Re=C-1;Re<I;Re++)_e=M.get(C-1,Re),M.set(C-1,Re,be*_e+Q*M.get(C,Re)),M.set(C,Re,be*M.get(C,Re)-Q*_e);for(J=0;J<=C;J++)_e=M.get(J,C-1),M.set(J,C-1,be*_e+Q*M.get(J,C)),M.set(J,C,be*M.get(J,C)-Q*_e);for(J=F;J<=B;J++)_e=w.get(J,C-1),w.set(J,C-1,be*_e+Q*w.get(J,C)),w.set(J,C,be*w.get(J,C)-Q*_e)}else T[C-1]=Ze+Q,T[C]=Ze+Q,A[C-1]=_e,A[C]=-_e;C=C-2,ze=0}else{if(Ze=M.get(C,C),zt=0,Xe=0,tt<C&&(zt=M.get(C-1,C-1),Xe=M.get(C,C-1)*M.get(C-1,C)),ze===10){for(z+=Ze,J=F;J<=C;J++)M.set(J,J,M.get(J,J)-Ze);he=Math.abs(M.get(C,C-1))+Math.abs(M.get(C-1,C-2)),Ze=zt=.75*he,Xe=-.4375*he*he}if(ze===30&&(he=(zt-Ze)/2,he=he*he+Xe,he>0)){for(he=Math.sqrt(he),zt<Ze&&(he=-he),he=Ze-Xe/((zt-Ze)/2+he),J=F;J<=C;J++)M.set(J,J,M.get(J,J)-he);z+=he,Ze=zt=Xe=.964}for(ze=ze+1,at=C-2;at>=tt&&(_e=M.get(at,at),Le=Ze-_e,he=zt-_e,Q=(Le*he-Xe)/M.get(at+1,at)+M.get(at,at+1),be=M.get(at+1,at+1)-_e-Le-he,Le=M.get(at+2,at+1),he=Math.abs(Q)+Math.abs(be)+Math.abs(Le),Q=Q/he,be=be/he,Le=Le/he,!(at===tt||Math.abs(M.get(at,at-1))*(Math.abs(be)+Math.abs(Le))<q*(Math.abs(Q)*(Math.abs(M.get(at-1,at-1))+Math.abs(_e)+Math.abs(M.get(at+1,at+1))))));)at--;for(J=at+2;J<=C;J++)M.set(J,J-2,0),J>at+2&&M.set(J,J-3,0);for(We=at;We<=C-1&&(or=We!==C-1,We!==at&&(Q=M.get(We,We-1),be=M.get(We+1,We-1),Le=or?M.get(We+2,We-1):0,Ze=Math.abs(Q)+Math.abs(be)+Math.abs(Le),Ze!==0&&(Q=Q/Ze,be=be/Ze,Le=Le/Ze)),Ze!==0);We++)if(he=Math.sqrt(Q*Q+be*be+Le*Le),Q<0&&(he=-he),he!==0){for(We!==at?M.set(We,We-1,-he*Ze):tt!==at&&M.set(We,We-1,-M.get(We,We-1)),Q=Q+he,Ze=Q/he,zt=be/he,_e=Le/he,be=be/Q,Le=Le/Q,Re=We;Re<I;Re++)Q=M.get(We,Re)+be*M.get(We+1,Re),or&&(Q=Q+Le*M.get(We+2,Re),M.set(We+2,Re,M.get(We+2,Re)-Q*_e)),M.set(We,Re,M.get(We,Re)-Q*Ze),M.set(We+1,Re,M.get(We+1,Re)-Q*zt);for(J=0;J<=Math.min(C,We+3);J++)Q=Ze*M.get(J,We)+zt*M.get(J,We+1),or&&(Q=Q+_e*M.get(J,We+2),M.set(J,We+2,M.get(J,We+2)-Q*Le)),M.set(J,We,M.get(J,We)-Q),M.set(J,We+1,M.get(J,We+1)-Q*be);for(J=F;J<=B;J++)Q=Ze*w.get(J,We)+zt*w.get(J,We+1),or&&(Q=Q+_e*w.get(J,We+2),w.set(J,We+2,w.get(J,We+2)-Q*Le)),w.set(J,We,w.get(J,We)-Q),w.set(J,We+1,w.get(J,We+1)-Q*be)}}}if(ae!==0){for(C=I-1;C>=0;C--)if(Q=T[C],be=A[C],be===0)for(tt=C,M.set(C,C,1),J=C-1;J>=0;J--){for(Xe=M.get(J,J)-Q,Le=0,Re=tt;Re<=C;Re++)Le=Le+M.get(J,Re)*M.get(Re,C);if(A[J]<0)_e=Xe,he=Le;else if(tt=J,A[J]===0?M.set(J,C,Xe!==0?-Le/Xe:-Le/(q*ae)):(Ze=M.get(J,J+1),zt=M.get(J+1,J),be=(T[J]-Q)*(T[J]-Q)+A[J]*A[J],sr=(Ze*he-_e*Le)/be,M.set(J,C,sr),M.set(J+1,C,Math.abs(Ze)>Math.abs(_e)?(-Le-Xe*sr)/Ze:(-he-zt*sr)/_e)),sr=Math.abs(M.get(J,C)),q*sr*sr>1)for(Re=J;Re<=C;Re++)M.set(Re,C,M.get(Re,C)/sr)}else if(be<0)for(tt=C-1,Math.abs(M.get(C,C-1))>Math.abs(M.get(C-1,C))?(M.set(C-1,C-1,be/M.get(C,C-1)),M.set(C-1,C,-(M.get(C,C)-Q)/M.get(C,C-1))):(Pt=ef(0,-M.get(C-1,C),M.get(C-1,C-1)-Q,be),M.set(C-1,C-1,Pt[0]),M.set(C-1,C,Pt[1])),M.set(C,C-1,0),M.set(C,C,1),J=C-2;J>=0;J--){for(ie=0,Oe=0,Re=tt;Re<=C;Re++)ie=ie+M.get(J,Re)*M.get(Re,C-1),Oe=Oe+M.get(J,Re)*M.get(Re,C);if(Xe=M.get(J,J)-Q,A[J]<0)_e=Xe,Le=ie,he=Oe;else if(tt=J,A[J]===0?(Pt=ef(-ie,-Oe,Xe,be),M.set(J,C-1,Pt[0]),M.set(J,C,Pt[1])):(Ze=M.get(J,J+1),zt=M.get(J+1,J),je=(T[J]-Q)*(T[J]-Q)+A[J]*A[J]-be*be,Ne=(T[J]-Q)*2*be,je===0&&Ne===0&&(je=q*ae*(Math.abs(Xe)+Math.abs(be)+Math.abs(Ze)+Math.abs(zt)+Math.abs(_e))),Pt=ef(Ze*Le-_e*ie+be*Oe,Ze*he-_e*Oe-be*ie,je,Ne),M.set(J,C-1,Pt[0]),M.set(J,C,Pt[1]),Math.abs(Ze)>Math.abs(_e)+Math.abs(be)?(M.set(J+1,C-1,(-ie-Xe*M.get(J,C-1)+be*M.get(J,C))/Ze),M.set(J+1,C,(-Oe-Xe*M.get(J,C)-be*M.get(J,C-1))/Ze)):(Pt=ef(-Le-zt*M.get(J,C-1),-he-zt*M.get(J,C),_e,be),M.set(J+1,C-1,Pt[0]),M.set(J+1,C,Pt[1]))),sr=Math.max(Math.abs(M.get(J,C-1)),Math.abs(M.get(J,C))),q*sr*sr>1)for(Re=J;Re<=C;Re++)M.set(Re,C-1,M.get(Re,C-1)/sr),M.set(Re,C,M.get(Re,C)/sr)}for(J=0;J<I;J++)if(J<F||J>B)for(Re=J;Re<I;Re++)w.set(J,Re,M.get(J,Re));for(Re=I-1;Re>=F;Re--)for(J=F;J<=B;J++){for(_e=0,We=F;We<=Math.min(Re,B);We++)_e=_e+w.get(J,We)*M.get(We,Re);w.set(J,Re,_e)}}}function ef(I,A,T,w){let M,C;return Math.abs(T)>Math.abs(w)?(M=w/T,C=T+M*w,[(I+M*A)/C,(A-M*I)/C]):(M=T/w,C=w+M*T,[(M*I+A)/C,(M*A-I)/C])}class mE{constructor(A){if(A=j.checkMatrix(A),!A.isSymmetric())throw new Error("Matrix is not symmetric");let T=A,w=T.rows,M=new U(w,w),C=!0,F,B,q;for(B=0;B<w;B++){let z=0;for(q=0;q<B;q++){let ae=0;for(F=0;F<q;F++)ae+=M.get(q,F)*M.get(B,F);ae=(T.get(B,q)-ae)/M.get(q,q),M.set(B,q,ae),z=z+ae*ae}for(z=T.get(B,B)-z,C&&(C=z>0),M.set(B,B,Math.sqrt(Math.max(z,0))),q=B+1;q<w;q++)M.set(B,q,0)}this.L=M,this.positiveDefinite=C}isPositiveDefinite(){return this.positiveDefinite}solve(A){A=j.checkMatrix(A);let T=this.L,w=T.rows;if(A.rows!==w)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let M=A.columns,C=A.clone(),F,B,q;for(q=0;q<w;q++)for(B=0;B<M;B++){for(F=0;F<q;F++)C.set(q,B,C.get(q,B)-C.get(F,B)*T.get(q,F));C.set(q,B,C.get(q,B)/T.get(q,q))}for(q=w-1;q>=0;q--)for(B=0;B<M;B++){for(F=q+1;F<w;F++)C.set(q,B,C.get(q,B)-C.get(F,B)*T.get(F,q));C.set(q,B,C.get(q,B)/T.get(q,q))}return C}get lowerTriangularMatrix(){return this.L}}class yE{constructor(A,T={}){A=j.checkMatrix(A);let{Y:w}=T;const{scaleScores:M=!1,maxIterations:C=1e3,terminationCriteria:F=1e-10}=T;let B;if(w){if(e.isAnyArray(w)&&typeof w[0]=="number"?w=U.columnVector(w):w=j.checkMatrix(w),w.rows!==A.rows)throw new Error("Y should have the same number of rows as X");B=w.getColumnVector(0)}else B=A.getColumnVector(0);let q=1,z,ae,Q,be;for(let Le=0;Le<C&&q>F;Le++)Q=A.transpose().mmul(B).div(B.transpose().mmul(B).get(0,0)),Q=Q.div(Q.norm()),z=A.mmul(Q).div(Q.transpose().mmul(Q).get(0,0)),Le>0&&(q=z.clone().sub(be).pow(2).sum()),be=z.clone(),w?(ae=w.transpose().mmul(z).div(z.transpose().mmul(z).get(0,0)),ae=ae.div(ae.norm()),B=w.mmul(ae).div(ae.transpose().mmul(ae).get(0,0))):B=z;if(w){let Le=A.transpose().mmul(z).div(z.transpose().mmul(z).get(0,0));Le=Le.div(Le.norm());let he=A.clone().sub(z.clone().mmul(Le.transpose())),_e=B.transpose().mmul(z).div(z.transpose().mmul(z).get(0,0)),ze=w.clone().sub(z.clone().mulS(_e.get(0,0)).mmul(ae.transpose()));this.t=z,this.p=Le.transpose(),this.w=Q.transpose(),this.q=ae,this.u=B,this.s=z.transpose().mmul(z),this.xResidual=he,this.yResidual=ze,this.betas=_e}else this.w=Q.transpose(),this.s=z.transpose().mmul(z).sqrt(),M?this.t=z.clone().div(this.s.get(0,0)):this.t=z,this.xResidual=A.sub(z.mmul(Q.transpose()))}}return pt.AbstractMatrix=pe,pt.CHO=mE,pt.CholeskyDecomposition=mE,pt.DistanceMatrix=Z,pt.EVD=Wn,pt.EigenvalueDecomposition=Wn,pt.LU=ue,pt.LuDecomposition=ue,pt.Matrix=U,pt.MatrixColumnSelectionView=ge,pt.MatrixColumnView=ve,pt.MatrixFlipColumnView=Me,pt.MatrixFlipRowView=W,pt.MatrixRowSelectionView=oe,pt.MatrixRowView=H,pt.MatrixSelectionView=ce,pt.MatrixSubView=xe,pt.MatrixTransposeView=de,pt.NIPALS=yE,pt.Nipals=yE,pt.QR=me,pt.QrDecomposition=me,pt.SVD=te,pt.SingularValueDecomposition=te,pt.SymmetricMatrix=le,pt.WrapperMatrix1D=G,pt.WrapperMatrix2D=j,pt.correlation=on,pt.covariance=sn,pt.default=U,pt.determinant=He,pt.inverse=fe,pt.linearDependencies=Dt,pt.pseudoInverse=an,pt.solve=Fe,pt.wrap=re,pt}var wp=Zae();const XM=ap(wp),Ss=wp.Matrix,u4=wp.SingularValueDecomposition;XM.Matrix?XM.Matrix:wp.Matrix;const Qae={center:[0,0],linkDistance:50};class Jae{constructor(t={}){this.options=t,this.id="mds",this.options=Object.assign(Object.assign({},Qae),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,t,r)})}genericMDSLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{center:a=[0,0],linkDistance:s=50}=i,o=r.getAllNodes(),l=r.getAllEdges();if(!(o!=null&&o.length)||o.length===1)return Go(r,t,a);const u=a4({nodes:o,edges:l}),c=i4(u);ese(c);const f=Wie(c,s),h=tse(f),d=[];return h.forEach((v,g)=>{const m=ti(o[g]);m.data.x=v[0]+a[0],m.data.y=v[1]+a[1],d.push(m)}),t&&d.forEach(v=>r.mergeNodeData(v.id,{x:v.data.x,y:v.data.y})),{nodes:d,edges:l}})}}const ese=e=>{let t=-999999;e.forEach(r=>{r.forEach(n=>{n!==1/0&&t<n&&(t=n)})}),e.forEach((r,n)=>{r.forEach((i,a)=>{i===1/0&&(e[n][a]=t)})})},tse=e=>{const r=Ss.mul(Ss.pow(e,2),-.5),n=r.mean("row"),i=r.mean("column"),a=r.mean();r.add(a).subRowVector(n).subColumnVector(i);const s=new u4(r),o=Ss.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map(l=>Ss.mul([l],[o]).toJSON()[0].splice(0,2))};function rse(e){return!!e.tick&&!!e.stop}const nse={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},ise={center:[0,0],comboPadding:10,treeKey:"combo"};class Uve{constructor(t={}){this.options=t,this.id="comboCombined",this.options=Object.assign(Object.assign({},ise),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,t,r)})}genericComboCombinedLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=this.initVals(Object.assign(Object.assign({},this.options),n)),{center:a,treeKey:s,outerLayout:o}=i,l=r.getAllNodes().filter(k=>!k.data._isCombo),u=r.getAllNodes().filter(k=>k.data._isCombo),c=r.getAllEdges(),f=l==null?void 0:l.length;if(!f||f===1)return Go(r,t,a);const h=[],d=new Map;l.forEach(k=>{d.set(k.id,k)});const p=new Map;u.forEach(k=>{p.set(k.id,k)});const v=new Map,g=this.getInnerGraphs(r,s,d,p,c,i,v);yield Promise.all(g);const m=new Map,y=[],b=new Map;let x=!0;r.getRoots(s).forEach(k=>{const O=v.get(k.id),P=p.get(k.id)||d.get(k.id),N={id:k.id,data:Object.assign(Object.assign({},k.data),{x:O.data.x||P.data.x,y:O.data.y||P.data.y,fx:O.data.fx||P.data.fx,fy:O.data.fy||P.data.fy,mass:O.data.mass||P.data.mass,size:O.data.size})};y.push(N),m.set(k.id,!0),!isNaN(N.data.x)&&N.data.x!==0&&!isNaN(N.data.y)&&N.data.y!==0?x=!1:(N.data.x=Math.random()*100,N.data.y=Math.random()*100),_x(r,[k],R=>{R.id!==k.id&&b.set(R.id,k.id)},"TB",s)});const E=[];c.forEach(k=>{const O=b.get(k.source)||k.source,P=b.get(k.target)||k.target;O!==P&&m.has(O)&&m.has(P)&&E.push({id:k.id,source:O,target:P,data:{}})});let S;if(y!=null&&y.length){if(y.length===1)y[0].data.x=a[0],y[0].data.y=a[1];else{const k=new Wr({nodes:y,edges:E}),O=o||new qae;x&&nse[O.id]&&(yield(y.length<100?new Jae:new GM).assign(k));const P=Object.assign({center:a,kg:5,preventOverlap:!0,animate:!1},O.id==="force"?{gravity:1,factor:4,linkDistance:(N,R,L)=>{const D=Math.max(...R.data.size)||32,$=Math.max(...L.data.size)||32;return D/2+$/2+200}}:{});S=yield KM(O,k,P)}v.forEach(k=>{var O;const P=S.nodes.find(L=>L.id===k.id);if(P){const{x:L,y:D}=P.data;k.data.visited=!0,k.data.x=L,k.data.y=D,h.push({id:k.id,data:{x:L,y:D}})}const{x:N,y:R}=k.data;(O=k.data.nodes)===null||O===void 0||O.forEach(L=>{h.push({id:L.id,data:{x:L.data.x+N,y:L.data.y+R}})})}),v.forEach(({data:k})=>{const{x:O,y:P,visited:N,nodes:R}=k;R==null||R.forEach(L=>{if(!N){const D=h.find($=>$.id===L.id);D.data.x+=O||0,D.data.y+=P||0}})})}return t&&h.forEach(k=>{r.mergeNodeData(k.id,{x:k.data.x,y:k.data.y})}),{nodes:h,edges:c}})}initVals(t){const r=Object.assign({},t),{nodeSize:n,spacing:i,comboPadding:a}=t;let s,o;if(Ye(i)?o=()=>i:Ht(i)?o=i:o=()=>0,r.spacing=o,!n)s=u=>{const c=o(u);return u.size?Ba(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+c)/2:Xa(u.size)?((u.size.width>u.size.height?u.size.width:u.size.height)+c)/2:(u.size+c)/2:32+c/2};else if(Ht(n))s=u=>{const c=n(u),f=o(u);return Ba(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+f)/2:((c||32)+f)/2};else if(Ba(n)){const c=(n[0]>n[1]?n[0]:n[1])/2;s=f=>c+o(f)/2}else{const u=n/2;s=c=>u+o(c)/2}r.nodeSize=s;let l;return Ye(a)?l=()=>a:Ba(a)?l=()=>Math.max.apply(null,a):Ht(a)?l=a:l=()=>0,r.comboPadding=l,r}getInnerGraphs(t,r,n,i,a,s,o){const{nodeSize:l,comboPadding:u,spacing:c,innerLayout:f}=s,h=f||new GM({}),d={center:[0,0],preventOverlap:!0,nodeSpacing:c},p=[],v=g=>{let m=(u==null?void 0:u(g))||10;return Ba(m)&&(m=Math.max(...m)),{size:m?[m*2,m*2]:[30,30],padding:m}};return t.getRoots(r).forEach(g=>{o.set(g.id,{id:g.id,data:{nodes:[],size:v(g).size}});let m=Promise.resolve();_x(t,[g],y=>{var b;if(!y.data._isCombo)return;const{size:x,padding:E}=v(y);if(!(!((b=t.getChildren(y.id,r))===null||b===void 0)&&b.length))o.set(y.id,{id:y.id,data:Object.assign(Object.assign({},y.data),{size:x})});else{const S=o.get(y.id);o.set(y.id,{id:y.id,data:Object.assign({nodes:[]},S==null?void 0:S.data)});const _=new Map,k=t.getChildren(y.id,r).map(N=>{if(N.data._isCombo)return o.has(N.id)||o.set(N.id,{id:N.id,data:Object.assign({},N.data)}),_.set(N.id,!0),o.get(N.id);const R=n.get(N.id)||i.get(N.id);return _.set(N.id,!0),{id:N.id,data:Object.assign(Object.assign({},R.data),N.data)}}),O={nodes:k,edges:a.filter(N=>_.has(N.source)&&_.has(N.target))};let P=1/0;k.forEach(N=>{var R;let{size:L}=N.data;L||(L=((R=o.get(N.id))===null||R===void 0?void 0:R.data.size)||(l==null?void 0:l(N))||[30,30]),Ye(L)&&(L=[L,L]);const[D,$]=L;P>D&&(P=D),P>$&&(P=$),N.data.size=L}),m=m.then(()=>ft(this,void 0,void 0,function*(){const N=new Wr(O);yield KM(h,N,d,!0);const{minX:R,minY:L,maxX:D,maxY:$}=Vie(k),X={x:(D+R)/2,y:($+L)/2};O.nodes.forEach(V=>{V.data.x-=X.x,V.data.y-=X.y});const K=[Math.max(D-R,P)+E*2,Math.max($-L,P)+E*2];o.get(y.id).data.size=K,o.get(y.id).data.nodes=k}))}return!0},"BT",r),p.push(m)}),p}}function KM(e,t,r,n){var i;return ft(this,void 0,void 0,function*(){return rse(e)?(e.execute(t,r),e.stop(),e.tick((i=r.iterations)!==null&&i!==void 0?i:300)):n?yield e.assign(t,r):yield e.execute(t,r)})}function ase(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,s=r.length,o,l=0,u=0;for(a=0;a<s;++a)o=r[a],l+=o.x,u+=o.y;for(l=(l/s-e)*n,u=(u/s-t)*n,a=0;a<s;++a)o=r[a],o.x-=l,o.y-=u}return i.initialize=function(a){r=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(n=+a,i):n},i}function $r(e){return function(){return e}}function ks(e){return(e()-.5)*1e-6}function sse(e){return e.x+e.vx}function ose(e){return e.y+e.vy}function lse(e){var t,r,n,i=1,a=1;typeof e!="function"&&(e=$r(e==null?1:+e));function s(){for(var u,c=t.length,f,h,d,p,v,g,m=0;m<a;++m)for(f=bp(t,sse,ose).visitAfter(o),u=0;u<c;++u)h=t[u],v=r[h.index],g=v*v,d=h.x+h.vx,p=h.y+h.vy,f.visit(y);function y(b,x,E,S,_){var k=b.data,O=b.r,P=v+O;if(k){if(k.index>h.index){var N=d-k.x-k.vx,R=p-k.y-k.vy,L=N*N+R*R;L<P*P&&(N===0&&(N=ks(n),L+=N*N),R===0&&(R=ks(n),L+=R*R),L=(P-(L=Math.sqrt(L)))/L*i,h.vx+=(N*=L)*(P=(O*=O)/(g+O)),h.vy+=(R*=L)*P,k.vx-=N*(P=1-P),k.vy-=R*P)}return}return x>d+P||S<d-P||E>p+P||_<p-P}}function o(u){if(u.data)return u.r=r[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(r=new Array(c),u=0;u<c;++u)f=t[u],r[f.index]=+e(f,u,t)}}return s.initialize=function(u,c){t=u,n=c,l()},s.iterations=function(u){return arguments.length?(a=+u,s):a},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:$r(+u),l(),s):e},s}function use(e){return e.index}function ZM(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function cse(e){var t=use,r=f,n,i=$r(30),a,s,o,l,u,c=1;e==null&&(e=[]);function f(g){return 1/Math.min(o[g.source.index],o[g.target.index])}function h(g){for(var m=0,y=e.length;m<c;++m)for(var b=0,x,E,S,_,k,O,P;b<y;++b)x=e[b],E=x.source,S=x.target,_=S.x+S.vx-E.x-E.vx||ks(u),k=S.y+S.vy-E.y-E.vy||ks(u),O=Math.sqrt(_*_+k*k),O=(O-a[b])/O*g*n[b],_*=O,k*=O,S.vx-=_*(P=l[b]),S.vy-=k*P,E.vx+=_*(P=1-P),E.vy+=k*P}function d(){if(s){var g,m=s.length,y=e.length,b=new Map(s.map((E,S)=>[t(E,S,s),E])),x;for(g=0,o=new Array(m);g<y;++g)x=e[g],x.index=g,typeof x.source!="object"&&(x.source=ZM(b,x.source)),typeof x.target!="object"&&(x.target=ZM(b,x.target)),o[x.source.index]=(o[x.source.index]||0)+1,o[x.target.index]=(o[x.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)x=e[g],l[g]=o[x.source.index]/(o[x.source.index]+o[x.target.index]);n=new Array(y),p(),a=new Array(y),v()}}function p(){if(s)for(var g=0,m=e.length;g<m;++g)n[g]=+r(e[g],g,e)}function v(){if(s)for(var g=0,m=e.length;g<m;++g)a[g]=+i(e[g],g,e)}return h.initialize=function(g,m){s=g,u=m,d()},h.links=function(g){return arguments.length?(e=g,d(),h):e},h.id=function(g){return arguments.length?(t=g,h):t},h.iterations=function(g){return arguments.length?(c=+g,h):c},h.strength=function(g){return arguments.length?(r=typeof g=="function"?g:$r(+g),p(),h):r},h.distance=function(g){return arguments.length?(i=typeof g=="function"?g:$r(+g),v(),h):i},h}var fse={value:()=>{}};function c4(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Oh(r)}function Oh(e){this._=e}function hse(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Oh.prototype=c4.prototype={constructor:Oh,on:function(e,t){var r=this._,n=hse(e+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(e=n[a]).type)&&(i=dse(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=n[a]).type)r[i]=QM(r[i],e.name,t);else if(t==null)for(i in r)r[i]=QM(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Oh(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function dse(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function QM(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=fse,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var zl=0,Au=0,yu=0,f4=1e3,wd,Ou,xd=0,Fo=0,xp=0,Sc=typeof performance=="object"&&performance.now?performance:Date,h4=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d4(){return Fo||(h4(pse),Fo=Sc.now()+xp)}function pse(){Fo=0}function kx(){this._call=this._time=this._next=null}kx.prototype=p4.prototype={constructor:kx,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?d4():+r)+(t==null?0:+t),!this._next&&Ou!==this&&(Ou?Ou._next=this:wd=this,Ou=this),this._call=e,this._time=r,Tx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tx())}};function p4(e,t,r){var n=new kx;return n.restart(e,t,r),n}function vse(){d4(),++zl;for(var e=wd,t;e;)(t=Fo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zl}function JM(){Fo=(xd=Sc.now())+xp,zl=Au=0;try{vse()}finally{zl=0,mse(),Fo=0}}function gse(){var e=Sc.now(),t=e-xd;t>f4&&(xp-=t,xd=e)}function mse(){for(var e,t=wd,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:wd=r);Ou=e,Tx(n)}function Tx(e){if(!zl){Au&&(Au=clearTimeout(Au));var t=e-Fo;t>24?(e<1/0&&(Au=setTimeout(JM,e-Sc.now()-xp)),yu&&(yu=clearInterval(yu))):(yu||(xd=Sc.now(),yu=setInterval(gse,f4)),zl=1,h4(JM))}}const yse=1664525,bse=1013904223,eA=4294967296;function wse(){let e=1;return()=>(e=(yse*e+bse)%eA)/eA}function xse(e){return e.x}function _se(e){return e.y}var Ese=10,Sse=Math.PI*(3-Math.sqrt(5));function kse(e){var t,r=1,n=.001,i=1-Math.pow(n,1/300),a=0,s=.6,o=new Map,l=p4(f),u=c4("tick","end"),c=wse();e==null&&(e=[]);function f(){h(),u.call("tick",t),r<n&&(l.stop(),u.call("end",t))}function h(v){var g,m=e.length,y;v===void 0&&(v=1);for(var b=0;b<v;++b)for(r+=(a-r)*i,o.forEach(function(x){x(r)}),g=0;g<m;++g)y=e[g],y.fx==null?y.x+=y.vx*=s:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=s:(y.y=y.fy,y.vy=0);return t}function d(){for(var v=0,g=e.length,m;v<g;++v){if(m=e[v],m.index=v,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=Ese*Math.sqrt(.5+v),b=v*Sse;m.x=y*Math.cos(b),m.y=y*Math.sin(b)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function p(v){return v.initialize&&v.initialize(e,c),v}return d(),t={tick:h,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(v){return arguments.length?(e=v,d(),o.forEach(p),t):e},alpha:function(v){return arguments.length?(r=+v,t):r},alphaMin:function(v){return arguments.length?(n=+v,t):n},alphaDecay:function(v){return arguments.length?(i=+v,t):+i},alphaTarget:function(v){return arguments.length?(a=+v,t):a},velocityDecay:function(v){return arguments.length?(s=1-v,t):1-s},randomSource:function(v){return arguments.length?(c=v,o.forEach(p),t):c},force:function(v,g){return arguments.length>1?(g==null?o.delete(v):o.set(v,p(g)),t):o.get(v)},find:function(v,g,m){var y=0,b=e.length,x,E,S,_,k;for(m==null?m=1/0:m*=m,y=0;y<b;++y)_=e[y],x=v-_.x,E=g-_.y,S=x*x+E*E,S<m&&(k=_,m=S);return k},on:function(v,g){return arguments.length>1?(u.on(v,g),t):u.on(v)}}}function Tse(){var e,t,r,n,i=$r(-30),a,s=1,o=1/0,l=.81;function u(d){var p,v=e.length,g=bp(e,xse,_se).visitAfter(f);for(n=d,p=0;p<v;++p)t=e[p],g.visit(h)}function c(){if(e){var d,p=e.length,v;for(a=new Array(p),d=0;d<p;++d)v=e[d],a[v.index]=+i(v,d,e)}}function f(d){var p=0,v,g,m=0,y,b,x;if(d.length){for(y=b=x=0;x<4;++x)(v=d[x])&&(g=Math.abs(v.value))&&(p+=v.value,m+=g,y+=g*v.x,b+=g*v.y);d.x=y/m,d.y=b/m}else{v=d,v.x=v.data.x,v.y=v.data.y;do p+=a[v.data.index];while(v=v.next)}d.value=p}function h(d,p,v,g){if(!d.value)return!0;var m=d.x-t.x,y=d.y-t.y,b=g-p,x=m*m+y*y;if(b*b/l<x)return x<o&&(m===0&&(m=ks(r),x+=m*m),y===0&&(y=ks(r),x+=y*y),x<s&&(x=Math.sqrt(s*x)),t.vx+=m*d.value*n/x,t.vy+=y*d.value*n/x),!0;if(d.length||x>=o)return;(d.data!==t||d.next)&&(m===0&&(m=ks(r),x+=m*m),y===0&&(y=ks(r),x+=y*y),x<s&&(x=Math.sqrt(s*x)));do d.data!==t&&(b=a[d.data.index]*n/x,t.vx+=m*b,t.vy+=y*b);while(d=d.next)}return u.initialize=function(d,p){e=d,r=p,c()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:$r(+d),c(),u):i},u.distanceMin=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.distanceMax=function(d){return arguments.length?(o=d*d,u):Math.sqrt(o)},u.theta=function(d){return arguments.length?(l=d*d,u):Math.sqrt(l)},u}function Mse(e,t,r){var n,i=$r(.1),a,s;typeof e!="function"&&(e=$r(+e)),t==null&&(t=0),r==null&&(r=0);function o(u){for(var c=0,f=n.length;c<f;++c){var h=n[c],d=h.x-t||1e-6,p=h.y-r||1e-6,v=Math.sqrt(d*d+p*p),g=(s[c]-v)*a[c]*u/v;h.vx+=d*g,h.vy+=p*g}}function l(){if(n){var u,c=n.length;for(a=new Array(c),s=new Array(c),u=0;u<c;++u)s[u]=+e(n[u],u,n),a[u]=isNaN(s[u])?0:+i(n[u],u,n)}}return o.initialize=function(u){n=u,l()},o.strength=function(u){return arguments.length?(i=typeof u=="function"?u:$r(+u),l(),o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:$r(+u),l(),o):e},o.x=function(u){return arguments.length?(t=+u,o):t},o.y=function(u){return arguments.length?(r=+u,o):r},o}function Ase(e){var t=$r(.1),r,n,i;typeof e!="function"&&(e=$r(e==null?0:+e));function a(o){for(var l=0,u=r.length,c;l<u;++l)c=r[l],c.vx+=(i[l]-c.x)*n[l]*o}function s(){if(r){var o,l=r.length;for(n=new Array(l),i=new Array(l),o=0;o<l;++o)n[o]=isNaN(i[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return a.initialize=function(o){r=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:$r(+o),s(),a):t},a.x=function(o){return arguments.length?(e=typeof o=="function"?o:$r(+o),s(),a):e},a}function Ose(e){var t=$r(.1),r,n,i;typeof e!="function"&&(e=$r(e==null?0:+e));function a(o){for(var l=0,u=r.length,c;l<u;++l)c=r[l],c.vy+=(i[l]-c.y)*n[l]*o}function s(){if(r){var o,l=r.length;for(n=new Array(l),i=new Array(l),o=0;o<l;++o)n[o]=isNaN(i[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return a.initialize=function(o){r=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:$r(+o),s(),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:$r(+o),s(),a):e},a}class Hve{constructor(t){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:cse,manyBody:Tse,center:ase,collide:lse,radial:Mse,x:Ase,y:Ose},this.options={link:{id:r=>r.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},Ls(this.options,t),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericLayout(!0,t,r)})}stop(){this.simulation.stop()}tick(t){return this.simulation.tick(t),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(t,r){const n=this.context.nodes.find(i=>i.id===t);n&&r.forEach((i,a)=>{if(typeof i=="number"||i===null){const s=["fx","fy","fz"][a];n[s]=i}})}getOptions(t){var r,n;const i=Ls({},this.options,t);return i.collide&&((r=i.collide)===null||r===void 0?void 0:r.radius)===void 0&&(i.collide=i.collide||{},i.collide.radius=(n=i.nodeSize)!==null&&n!==void 0?n:10),i.iterations===void 0&&(i.link&&i.link.iterations===void 0&&(i.iterations=i.link.iterations),i.collide&&i.collide.iterations===void 0&&(i.iterations=i.collide.iterations)),this.context.options=i,i}genericLayout(t,r,n){var i;return ft(this,void 0,void 0,function*(){const a=this.getOptions(n),s=r.getAllNodes().map(({id:c,data:f})=>Object.assign(Object.assign({id:c},f),uT(f.data,this.config.inputNodeAttrs))),o=r.getAllEdges().map(c=>Object.assign({},c));Object.assign(this.context,{assign:t,nodes:s,edges:o,graph:r});const l=new Promise(c=>{this.resolver=c}),u=this.setSimulation(a);return u.nodes(s),(i=u.force("link"))===null||i===void 0||i.links(o),l})}getResult(){const{assign:t,nodes:r,edges:n,graph:i}=this.context,a=r.map(o=>({id:o.id,data:Object.assign(Object.assign({},o.data),uT(o,this.config.outputNodeAttrs))})),s=n.map(({id:o,source:l,target:u,data:c})=>({id:o,source:typeof l=="object"?l.id:l,target:typeof u=="object"?u.id:u,data:c}));return t&&a.forEach(o=>i.mergeNodeData(o.id,o.data)),{nodes:a,edges:s}}initSimulation(){return kse()}setSimulation(t){const r=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=r.on("tick",()=>{var n;return(n=t.onTick)===null||n===void 0?void 0:n.call(t,this.getResult())}).on("end",()=>{var n;return(n=this.resolver)===null||n===void 0?void 0:n.call(this,this.getResult())})),tA(r,this.config.simulationAttrs.map(n=>[n,t[n]])),Object.entries(this.forceMap).forEach(([n,i])=>{const a=n;if(t[n]){let s=r.force(a);s||(s=i(),r.force(a,s)),tA(s,Object.entries(t[a]))}else r.force(a,null)}),r}}const tA=(e,t)=>t.reduce((r,[n,i])=>!r[n]||i===void 0?r:r[n].call(e,i),e);function L2(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Sg,rA;function Pse(){if(rA)return Sg;rA=1;function e(){this.__data__=[],this.size=0}return Sg=e,Sg}var kg,nA;function Jl(){if(nA)return kg;nA=1;function e(t,r){return t===r||t!==t&&r!==r}return kg=e,kg}var Tg,iA;function _p(){if(iA)return Tg;iA=1;var e=Jl();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Tg=t,Tg}var Mg,aA;function Nse(){if(aA)return Mg;aA=1;var e=_p(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Mg=n,Mg}var Ag,sA;function Cse(){if(sA)return Ag;sA=1;var e=_p();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Ag=t,Ag}var Og,oA;function Rse(){if(oA)return Og;oA=1;var e=_p();function t(r){return e(this.__data__,r)>-1}return Og=t,Og}var Pg,lA;function Lse(){if(lA)return Pg;lA=1;var e=_p();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Pg=t,Pg}var Ng,uA;function Ep(){if(uA)return Ng;uA=1;var e=Pse(),t=Nse(),r=Cse(),n=Rse(),i=Lse();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ng=a,Ng}var Cg,cA;function Ise(){if(cA)return Cg;cA=1;var e=Ep();function t(){this.__data__=new e,this.size=0}return Cg=t,Cg}var Rg,fA;function Dse(){if(fA)return Rg;fA=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Rg=e,Rg}var Lg,hA;function Fse(){if(hA)return Lg;hA=1;function e(t){return this.__data__.get(t)}return Lg=e,Lg}var Ig,dA;function Bse(){if(dA)return Ig;dA=1;function e(t){return this.__data__.has(t)}return Ig=e,Ig}var Dg,pA;function v4(){if(pA)return Dg;pA=1;var e=typeof mf=="object"&&mf&&mf.Object===Object&&mf;return Dg=e,Dg}var Fg,vA;function Yi(){if(vA)return Fg;vA=1;var e=v4(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Fg=r,Fg}var Bg,gA;function eu(){if(gA)return Bg;gA=1;var e=Yi(),t=e.Symbol;return Bg=t,Bg}var $g,mA;function $se(){if(mA)return $g;mA=1;var e=eu(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(s){var o=r.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=n.call(s);return u&&(o?s[i]=l:delete s[i]),c}return $g=a,$g}var qg,yA;function qse(){if(yA)return qg;yA=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return qg=r,qg}var zg,bA;function Wo(){if(bA)return zg;bA=1;var e=eu(),t=$se(),r=qse(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?t(o):r(o)}return zg=s,zg}var jg,wA;function Ti(){if(wA)return jg;wA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return jg=e,jg}var Gg,xA;function Uc(){if(xA)return Gg;xA=1;var e=Wo(),t=Ti(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var l=e(o);return l==n||l==i||l==r||l==a}return Gg=s,Gg}var Wg,_A;function zse(){if(_A)return Wg;_A=1;var e=Yi(),t=e["__core-js_shared__"];return Wg=t,Wg}var Vg,EA;function jse(){if(EA)return Vg;EA=1;var e=zse(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Vg=r,Vg}var Ug,SA;function g4(){if(SA)return Ug;SA=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Ug=r,Ug}var Hg,kA;function Gse(){if(kA)return Hg;kA=1;var e=Uc(),t=jse(),r=Ti(),n=g4(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var d=e(h)?c:a;return d.test(n(h))}return Hg=f,Hg}var Yg,TA;function Wse(){if(TA)return Yg;TA=1;function e(t,r){return t==null?void 0:t[r]}return Yg=e,Yg}var Xg,MA;function Vo(){if(MA)return Xg;MA=1;var e=Gse(),t=Wse();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return Xg=r,Xg}var Kg,AA;function I2(){if(AA)return Kg;AA=1;var e=Vo(),t=Yi(),r=e(t,"Map");return Kg=r,Kg}var Zg,OA;function Sp(){if(OA)return Zg;OA=1;var e=Vo(),t=e(Object,"create");return Zg=t,Zg}var Qg,PA;function Vse(){if(PA)return Qg;PA=1;var e=Sp();function t(){this.__data__=e?e(null):{},this.size=0}return Qg=t,Qg}var Jg,NA;function Use(){if(NA)return Jg;NA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Jg=e,Jg}var e0,CA;function Hse(){if(CA)return e0;CA=1;var e=Sp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(e){var o=s[a];return o===t?void 0:o}return n.call(s,a)?s[a]:void 0}return e0=i,e0}var t0,RA;function Yse(){if(RA)return t0;RA=1;var e=Sp(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return t0=n,t0}var r0,LA;function Xse(){if(LA)return r0;LA=1;var e=Sp(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return r0=r,r0}var n0,IA;function Kse(){if(IA)return n0;IA=1;var e=Vse(),t=Use(),r=Hse(),n=Yse(),i=Xse();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,n0=a,n0}var i0,DA;function Zse(){if(DA)return i0;DA=1;var e=Kse(),t=Ep(),r=I2();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return i0=n,i0}var a0,FA;function Qse(){if(FA)return a0;FA=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return a0=e,a0}var s0,BA;function kp(){if(BA)return s0;BA=1;var e=Qse();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return s0=t,s0}var o0,$A;function Jse(){if($A)return o0;$A=1;var e=kp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return o0=t,o0}var l0,qA;function eoe(){if(qA)return l0;qA=1;var e=kp();function t(r){return e(this,r).get(r)}return l0=t,l0}var u0,zA;function toe(){if(zA)return u0;zA=1;var e=kp();function t(r){return e(this,r).has(r)}return u0=t,u0}var c0,jA;function roe(){if(jA)return c0;jA=1;var e=kp();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return c0=t,c0}var f0,GA;function D2(){if(GA)return f0;GA=1;var e=Zse(),t=Jse(),r=eoe(),n=toe(),i=roe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,f0=a,f0}var h0,WA;function noe(){if(WA)return h0;WA=1;var e=Ep(),t=I2(),r=D2(),n=200;function i(a,s){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<n-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(a,s),this.size=o.size,this}return h0=i,h0}var d0,VA;function Tp(){if(VA)return d0;VA=1;var e=Ep(),t=Ise(),r=Dse(),n=Fse(),i=Bse(),a=noe();function s(o){var l=this.__data__=new e(o);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,d0=s,d0}var p0,UA;function F2(){if(UA)return p0;UA=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return p0=e,p0}var v0,HA;function m4(){if(HA)return v0;HA=1;var e=Vo(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return v0=t,v0}var g0,YA;function Mp(){if(YA)return g0;YA=1;var e=m4();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return g0=t,g0}var m0,XA;function Ap(){if(XA)return m0;XA=1;var e=Mp(),t=Jl(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var l=a[s];(!(n.call(a,s)&&t(l,o))||o===void 0&&!(s in a))&&e(a,s,o)}return m0=i,m0}var y0,KA;function Hc(){if(KA)return y0;KA=1;var e=Ap(),t=Mp();function r(n,i,a,s){var o=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),o?t(a,c,f):e(a,c,f)}return a}return y0=r,y0}var b0,ZA;function ioe(){if(ZA)return b0;ZA=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return b0=e,b0}var w0,QA;function Sa(){if(QA)return w0;QA=1;function e(t){return t!=null&&typeof t=="object"}return w0=e,w0}var x0,JA;function aoe(){if(JA)return x0;JA=1;var e=Wo(),t=Sa(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return x0=n,x0}var _0,eO;function Yc(){if(eO)return _0;eO=1;var e=aoe(),t=Sa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(s){return t(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return _0=a,_0}var E0,tO;function Rr(){if(tO)return E0;tO=1;var e=Array.isArray;return E0=e,E0}var Pu={exports:{}},S0,rO;function soe(){if(rO)return S0;rO=1;function e(){return!1}return S0=e,S0}Pu.exports;var nO;function tu(){return nO||(nO=1,function(e,t){var r=Yi(),n=soe(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u}(Pu,Pu.exports)),Pu.exports}var k0,iO;function Op(){if(iO)return k0;iO=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return k0=r,k0}var T0,aO;function B2(){if(aO)return T0;aO=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return T0=t,T0}var M0,sO;function ooe(){if(sO)return M0;sO=1;var e=Wo(),t=B2(),r=Sa(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",d="[object Set]",p="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",N={};N[y]=N[b]=N[x]=N[E]=N[S]=N[_]=N[k]=N[O]=N[P]=!0,N[n]=N[i]=N[g]=N[a]=N[m]=N[s]=N[o]=N[l]=N[u]=N[c]=N[f]=N[h]=N[d]=N[p]=N[v]=!1;function R(L){return r(L)&&t(L.length)&&!!N[e(L)]}return M0=R,M0}var A0,oO;function Pp(){if(oO)return A0;oO=1;function e(t){return function(r){return t(r)}}return A0=e,A0}var Nu={exports:{}};Nu.exports;var lO;function $2(){return lO||(lO=1,function(e,t){var r=v4(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(Nu,Nu.exports)),Nu.exports}var O0,uO;function Xc(){if(uO)return O0;uO=1;var e=ooe(),t=Pp(),r=$2(),n=r&&r.isTypedArray,i=n?t(n):e;return O0=i,O0}var P0,cO;function y4(){if(cO)return P0;cO=1;var e=ioe(),t=Yc(),r=Rr(),n=tu(),i=Op(),a=Xc(),s=Object.prototype,o=s.hasOwnProperty;function l(u,c){var f=r(u),h=!f&&t(u),d=!f&&!h&&n(u),p=!f&&!h&&!d&&a(u),v=f||h||d||p,g=v?e(u.length,String):[],m=g.length;for(var y in u)(c||o.call(u,y))&&!(v&&(y=="length"||d&&(y=="offset"||y=="parent")||p&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&g.push(y);return g}return P0=l,P0}var N0,fO;function Np(){if(fO)return N0;fO=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return N0=t,N0}var C0,hO;function b4(){if(hO)return C0;hO=1;function e(t,r){return function(n){return t(r(n))}}return C0=e,C0}var R0,dO;function loe(){if(dO)return R0;dO=1;var e=b4(),t=e(Object.keys,Object);return R0=t,R0}var L0,pO;function q2(){if(pO)return L0;pO=1;var e=Np(),t=loe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return L0=i,L0}var I0,vO;function rs(){if(vO)return I0;vO=1;var e=Uc(),t=B2();function r(n){return n!=null&&t(n.length)&&!e(n)}return I0=r,I0}var D0,gO;function Zs(){if(gO)return D0;gO=1;var e=y4(),t=q2(),r=rs();function n(i){return r(i)?e(i):t(i)}return D0=n,D0}var F0,mO;function uoe(){if(mO)return F0;mO=1;var e=Hc(),t=Zs();function r(n,i){return n&&e(i,t(i),n)}return F0=r,F0}var B0,yO;function coe(){if(yO)return B0;yO=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return B0=e,B0}var $0,bO;function foe(){if(bO)return $0;bO=1;var e=Ti(),t=Np(),r=coe(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!e(s))return r(s);var o=t(s),l=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||l.push(u);return l}return $0=a,$0}var q0,wO;function Uo(){if(wO)return q0;wO=1;var e=y4(),t=foe(),r=rs();function n(i){return r(i)?e(i,!0):t(i)}return q0=n,q0}var z0,xO;function hoe(){if(xO)return z0;xO=1;var e=Hc(),t=Uo();function r(n,i){return n&&e(i,t(i),n)}return z0=r,z0}var Cu={exports:{}};Cu.exports;var _O;function w4(){return _O||(_O=1,function(e,t){var r=Yi(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,h=o?o(f):new u.constructor(f);return u.copy(h),h}e.exports=l}(Cu,Cu.exports)),Cu.exports}var j0,EO;function x4(){if(EO)return j0;EO=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return j0=e,j0}var G0,SO;function _4(){if(SO)return G0;SO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,s=[];++n<i;){var o=t[n];r(o,n,t)&&(s[a++]=o)}return s}return G0=e,G0}var W0,kO;function E4(){if(kO)return W0;kO=1;function e(){return[]}return W0=e,W0}var V0,TO;function z2(){if(TO)return V0;TO=1;var e=_4(),t=E4(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(o){return n.call(s,o)}))}:t;return V0=a,V0}var U0,MO;function doe(){if(MO)return U0;MO=1;var e=Hc(),t=z2();function r(n,i){return e(n,t(n),i)}return U0=r,U0}var H0,AO;function j2(){if(AO)return H0;AO=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return H0=e,H0}var Y0,OO;function Cp(){if(OO)return Y0;OO=1;var e=b4(),t=e(Object.getPrototypeOf,Object);return Y0=t,Y0}var X0,PO;function S4(){if(PO)return X0;PO=1;var e=j2(),t=Cp(),r=z2(),n=E4(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)e(o,r(s)),s=t(s);return o}:n;return X0=a,X0}var K0,NO;function poe(){if(NO)return K0;NO=1;var e=Hc(),t=S4();function r(n,i){return e(n,t(n),i)}return K0=r,K0}var Z0,CO;function k4(){if(CO)return Z0;CO=1;var e=j2(),t=Rr();function r(n,i,a){var s=i(n);return t(n)?s:e(s,a(n))}return Z0=r,Z0}var Q0,RO;function T4(){if(RO)return Q0;RO=1;var e=k4(),t=z2(),r=Zs();function n(i){return e(i,r,t)}return Q0=n,Q0}var J0,LO;function voe(){if(LO)return J0;LO=1;var e=k4(),t=S4(),r=Uo();function n(i){return e(i,r,t)}return J0=n,J0}var em,IO;function goe(){if(IO)return em;IO=1;var e=Vo(),t=Yi(),r=e(t,"DataView");return em=r,em}var tm,DO;function moe(){if(DO)return tm;DO=1;var e=Vo(),t=Yi(),r=e(t,"Promise");return tm=r,tm}var rm,FO;function M4(){if(FO)return rm;FO=1;var e=Vo(),t=Yi(),r=e(t,"Set");return rm=r,rm}var nm,BO;function yoe(){if(BO)return nm;BO=1;var e=Vo(),t=Yi(),r=e(t,"WeakMap");return nm=r,nm}var im,$O;function ru(){if($O)return im;$O=1;var e=goe(),t=I2(),r=moe(),n=M4(),i=yoe(),a=Wo(),s=g4(),o="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",d=s(e),p=s(t),v=s(r),g=s(n),m=s(i),y=a;return(e&&y(new e(new ArrayBuffer(1)))!=h||t&&y(new t)!=o||r&&y(r.resolve())!=u||n&&y(new n)!=c||i&&y(new i)!=f)&&(y=function(b){var x=a(b),E=x==l?b.constructor:void 0,S=E?s(E):"";if(S)switch(S){case d:return h;case p:return o;case v:return u;case g:return c;case m:return f}return x}),im=y,im}var am,qO;function boe(){if(qO)return am;qO=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return am=r,am}var sm,zO;function A4(){if(zO)return sm;zO=1;var e=Yi(),t=e.Uint8Array;return sm=t,sm}var om,jO;function G2(){if(jO)return om;jO=1;var e=A4();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return om=t,om}var lm,GO;function woe(){if(GO)return lm;GO=1;var e=G2();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return lm=t,lm}var um,WO;function xoe(){if(WO)return um;WO=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return um=t,um}var cm,VO;function _oe(){if(VO)return cm;VO=1;var e=eu(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return cm=n,cm}var fm,UO;function O4(){if(UO)return fm;UO=1;var e=G2();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return fm=t,fm}var hm,HO;function Eoe(){if(HO)return hm;HO=1;var e=G2(),t=woe(),r=xoe(),n=_oe(),i=O4(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",d="[object ArrayBuffer]",p="[object DataView]",v="[object Float32Array]",g="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",b="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",_="[object Uint32Array]";function k(O,P,N){var R=O.constructor;switch(P){case d:return e(O);case a:case s:return new R(+O);case p:return t(O,N);case v:case g:case m:case y:case b:case x:case E:case S:case _:return i(O,N);case o:return new R;case l:case f:return new R(O);case u:return r(O);case c:return new R;case h:return n(O)}}return hm=k,hm}var dm,YO;function P4(){if(YO)return dm;YO=1;var e=Ti(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return dm=r,dm}var pm,XO;function N4(){if(XO)return pm;XO=1;var e=P4(),t=Cp(),r=Np();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return pm=n,pm}var vm,KO;function Soe(){if(KO)return vm;KO=1;var e=ru(),t=Sa(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return vm=n,vm}var gm,ZO;function koe(){if(ZO)return gm;ZO=1;var e=Soe(),t=Pp(),r=$2(),n=r&&r.isMap,i=n?t(n):e;return gm=i,gm}var mm,QO;function Toe(){if(QO)return mm;QO=1;var e=ru(),t=Sa(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return mm=n,mm}var ym,JO;function Moe(){if(JO)return ym;JO=1;var e=Toe(),t=Pp(),r=$2(),n=r&&r.isSet,i=n?t(n):e;return ym=i,ym}var bm,eP;function C4(){if(eP)return bm;eP=1;var e=Tp(),t=F2(),r=Ap(),n=uoe(),i=hoe(),a=w4(),s=x4(),o=doe(),l=poe(),u=T4(),c=voe(),f=ru(),h=boe(),d=Eoe(),p=N4(),v=Rr(),g=tu(),m=koe(),y=Ti(),b=Moe(),x=Zs(),E=Uo(),S=1,_=2,k=4,O="[object Arguments]",P="[object Array]",N="[object Boolean]",R="[object Date]",L="[object Error]",D="[object Function]",$="[object GeneratorFunction]",X="[object Map]",K="[object Number]",V="[object Object]",ne="[object RegExp]",we="[object Set]",Se="[object String]",pe="[object Symbol]",qe="[object WeakMap]",ee="[object ArrayBuffer]",U="[object DataView]",le="[object Float32Array]",Z="[object Float64Array]",se="[object Int8Array]",ve="[object Int16Array]",ge="[object Int32Array]",Me="[object Uint8Array]",W="[object Uint8ClampedArray]",H="[object Uint16Array]",oe="[object Uint32Array]",ce={};ce[O]=ce[P]=ce[ee]=ce[U]=ce[N]=ce[R]=ce[le]=ce[Z]=ce[se]=ce[ve]=ce[ge]=ce[X]=ce[K]=ce[V]=ce[ne]=ce[we]=ce[Se]=ce[pe]=ce[Me]=ce[W]=ce[H]=ce[oe]=!0,ce[L]=ce[D]=ce[qe]=!1;function xe(de,G,j,re,ue,Pe){var me,te=G&S,fe=G&_,Fe=G&k;if(j&&(me=ue?j(de,re,ue,Pe):j(de)),me!==void 0)return me;if(!y(de))return de;var He=v(de);if(He){if(me=h(de),!te)return s(de,me)}else{var Je=f(de),Kt=Je==D||Je==$;if(g(de))return a(de,te);if(Je==V||Je==O||Kt&&!ue){if(me=fe||Kt?{}:p(de),!te)return fe?l(de,i(me,de)):o(de,n(me,de))}else{if(!ce[Je])return ue?de:{};me=d(de,Je,te)}}Pe||(Pe=new e);var Dt=Pe.get(de);if(Dt)return Dt;Pe.set(de,me),b(de)?de.forEach(function(on){me.add(xe(on,G,j,on,de,Pe))}):m(de)&&de.forEach(function(on,Wn){me.set(Wn,xe(on,G,j,Wn,de,Pe))});var an=Fe?fe?c:u:fe?E:x,sn=He?void 0:an(de);return t(sn||de,function(on,Wn){sn&&(Wn=on,on=de[Wn]),r(me,Wn,xe(on,G,j,Wn,de,Pe))}),me}return bm=xe,bm}var wm,tP;function Aoe(){if(tP)return wm;tP=1;var e=C4(),t=4;function r(n){return e(n,t)}return wm=r,wm}var xm,rP;function W2(){if(rP)return xm;rP=1;function e(t){return function(){return t}}return xm=e,xm}var _m,nP;function Ooe(){if(nP)return _m;nP=1;function e(t){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),l=o.length;l--;){var u=o[t?l:++a];if(n(s[u],u,s)===!1)break}return r}}return _m=e,_m}var Em,iP;function V2(){if(iP)return Em;iP=1;var e=Ooe(),t=e();return Em=t,Em}var Sm,aP;function U2(){if(aP)return Sm;aP=1;var e=V2(),t=Zs();function r(n,i){return n&&e(n,i,t)}return Sm=r,Sm}var km,sP;function Poe(){if(sP)return km;sP=1;var e=rs();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var s=i.length,o=n?s:-1,l=Object(i);(n?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return km=t,km}var Tm,oP;function Rp(){if(oP)return Tm;oP=1;var e=U2(),t=Poe(),r=t(e);return Tm=r,Tm}var Mm,lP;function Ho(){if(lP)return Mm;lP=1;function e(t){return t}return Mm=e,Mm}var Am,uP;function R4(){if(uP)return Am;uP=1;var e=Ho();function t(r){return typeof r=="function"?r:e}return Am=t,Am}var Om,cP;function L4(){if(cP)return Om;cP=1;var e=F2(),t=Rp(),r=R4(),n=Rr();function i(a,s){var o=n(a)?e:t;return o(a,r(s))}return Om=i,Om}var Pm,fP;function I4(){return fP||(fP=1,Pm=L4()),Pm}var Nm,hP;function Noe(){if(hP)return Nm;hP=1;var e=Rp();function t(r,n){var i=[];return e(r,function(a,s,o){n(a,s,o)&&i.push(a)}),i}return Nm=t,Nm}var Cm,dP;function Coe(){if(dP)return Cm;dP=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Cm=t,Cm}var Rm,pP;function Roe(){if(pP)return Rm;pP=1;function e(t){return this.__data__.has(t)}return Rm=e,Rm}var Lm,vP;function D4(){if(vP)return Lm;vP=1;var e=D2(),t=Coe(),r=Roe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new e;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Lm=n,Lm}var Im,gP;function Loe(){if(gP)return Im;gP=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Im=e,Im}var Dm,mP;function F4(){if(mP)return Dm;mP=1;function e(t,r){return t.has(r)}return Dm=e,Dm}var Fm,yP;function B4(){if(yP)return Fm;yP=1;var e=D4(),t=Loe(),r=F4(),n=1,i=2;function a(s,o,l,u,c,f){var h=l&n,d=s.length,p=o.length;if(d!=p&&!(h&&p>d))return!1;var v=f.get(s),g=f.get(o);if(v&&g)return v==o&&g==s;var m=-1,y=!0,b=l&i?new e:void 0;for(f.set(s,o),f.set(o,s);++m<d;){var x=s[m],E=o[m];if(u)var S=h?u(E,x,m,o,s,f):u(x,E,m,s,o,f);if(S!==void 0){if(S)continue;y=!1;break}if(b){if(!t(o,function(_,k){if(!r(b,k)&&(x===_||c(x,_,l,u,f)))return b.push(k)})){y=!1;break}}else if(!(x===E||c(x,E,l,u,f))){y=!1;break}}return f.delete(s),f.delete(o),y}return Fm=a,Fm}var Bm,bP;function Ioe(){if(bP)return Bm;bP=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return Bm=e,Bm}var $m,wP;function H2(){if(wP)return $m;wP=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return $m=e,$m}var qm,xP;function Doe(){if(xP)return qm;xP=1;var e=eu(),t=A4(),r=Jl(),n=B4(),i=Ioe(),a=H2(),s=1,o=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",d="[object RegExp]",p="[object Set]",v="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",b=e?e.prototype:void 0,x=b?b.valueOf:void 0;function E(S,_,k,O,P,N,R){switch(k){case y:if(S.byteLength!=_.byteLength||S.byteOffset!=_.byteOffset)return!1;S=S.buffer,_=_.buffer;case m:return!(S.byteLength!=_.byteLength||!N(new t(S),new t(_)));case l:case u:case h:return r(+S,+_);case c:return S.name==_.name&&S.message==_.message;case d:case v:return S==_+"";case f:var L=i;case p:var D=O&s;if(L||(L=a),S.size!=_.size&&!D)return!1;var $=R.get(S);if($)return $==_;O|=o,R.set(S,_);var X=n(L(S),L(_),O,P,N,R);return R.delete(S),X;case g:if(x)return x.call(S)==x.call(_)}return!1}return qm=E,qm}var zm,_P;function Foe(){if(_P)return zm;_P=1;var e=T4(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,l,u,c){var f=o&t,h=e(a),d=h.length,p=e(s),v=p.length;if(d!=v&&!f)return!1;for(var g=d;g--;){var m=h[g];if(!(f?m in s:n.call(s,m)))return!1}var y=c.get(a),b=c.get(s);if(y&&b)return y==s&&b==a;var x=!0;c.set(a,s),c.set(s,a);for(var E=f;++g<d;){m=h[g];var S=a[m],_=s[m];if(l)var k=f?l(_,S,m,s,a,c):l(S,_,m,a,s,c);if(!(k===void 0?S===_||u(S,_,o,l,c):k)){x=!1;break}E||(E=m=="constructor")}if(x&&!E){var O=a.constructor,P=s.constructor;O!=P&&"constructor"in a&&"constructor"in s&&!(typeof O=="function"&&O instanceof O&&typeof P=="function"&&P instanceof P)&&(x=!1)}return c.delete(a),c.delete(s),x}return zm=i,zm}var jm,EP;function Boe(){if(EP)return jm;EP=1;var e=Tp(),t=B4(),r=Doe(),n=Foe(),i=ru(),a=Rr(),s=tu(),o=Xc(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function p(v,g,m,y,b,x){var E=a(v),S=a(g),_=E?c:i(v),k=S?c:i(g);_=_==u?f:_,k=k==u?f:k;var O=_==f,P=k==f,N=_==k;if(N&&s(v)){if(!s(g))return!1;E=!0,O=!1}if(N&&!O)return x||(x=new e),E||o(v)?t(v,g,m,y,b,x):r(v,g,_,m,y,b,x);if(!(m&l)){var R=O&&d.call(v,"__wrapped__"),L=P&&d.call(g,"__wrapped__");if(R||L){var D=R?v.value():v,$=L?g.value():g;return x||(x=new e),b(D,$,m,y,x)}}return N?(x||(x=new e),n(v,g,m,y,b,x)):!1}return jm=p,jm}var Gm,SP;function $4(){if(SP)return Gm;SP=1;var e=Boe(),t=Sa();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,s,r,o)}return Gm=r,Gm}var Wm,kP;function $oe(){if(kP)return Wm;kP=1;var e=Tp(),t=$4(),r=1,n=2;function i(a,s,o,l){var u=o.length,c=u,f=!l;if(a==null)return!c;for(a=Object(a);u--;){var h=o[u];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++u<c;){h=o[u];var d=h[0],p=a[d],v=h[1];if(f&&h[2]){if(p===void 0&&!(d in a))return!1}else{var g=new e;if(l)var m=l(p,v,d,a,s,g);if(!(m===void 0?t(v,p,r|n,l,g):m))return!1}}return!0}return Wm=i,Wm}var Vm,TP;function q4(){if(TP)return Vm;TP=1;var e=Ti();function t(r){return r===r&&!e(r)}return Vm=t,Vm}var Um,MP;function qoe(){if(MP)return Um;MP=1;var e=q4(),t=Zs();function r(n){for(var i=t(n),a=i.length;a--;){var s=i[a],o=n[s];i[a]=[s,o,e(o)]}return i}return Um=r,Um}var Hm,AP;function z4(){if(AP)return Hm;AP=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Hm=e,Hm}var Ym,OP;function zoe(){if(OP)return Ym;OP=1;var e=$oe(),t=qoe(),r=z4();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||e(s,i,a)}}return Ym=n,Ym}var Xm,PP;function nu(){if(PP)return Xm;PP=1;var e=Wo(),t=Sa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Xm=n,Xm}var Km,NP;function Y2(){if(NP)return Km;NP=1;var e=Rr(),t=nu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(e(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return Km=i,Km}var Zm,CP;function joe(){if(CP)return Zm;CP=1;var e=D2(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(r.Cache||e),a}return r.Cache=e,Zm=r,Zm}var Qm,RP;function Goe(){if(RP)return Qm;RP=1;var e=joe(),t=500;function r(n){var i=e(n,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return Qm=r,Qm}var Jm,LP;function Woe(){if(LP)return Jm;LP=1;var e=Goe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,o,l,u){a.push(l?u.replace(r,"$1"):o||s)}),a});return Jm=n,Jm}var ey,IP;function Lp(){if(IP)return ey;IP=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return ey=e,ey}var ty,DP;function Voe(){if(DP)return ty;DP=1;var e=eu(),t=Lp(),r=Rr(),n=nu(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(n(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return ty=s,ty}var ry,FP;function j4(){if(FP)return ry;FP=1;var e=Voe();function t(r){return r==null?"":e(r)}return ry=t,ry}var ny,BP;function Ip(){if(BP)return ny;BP=1;var e=Rr(),t=Y2(),r=Woe(),n=j4();function i(a,s){return e(a)?a:t(a,s)?[a]:r(n(a))}return ny=i,ny}var iy,$P;function Kc(){if($P)return iy;$P=1;var e=nu();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return iy=t,iy}var ay,qP;function Dp(){if(qP)return ay;qP=1;var e=Ip(),t=Kc();function r(n,i){i=e(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[t(i[a++])];return a&&a==s?n:void 0}return ay=r,ay}var sy,zP;function Uoe(){if(zP)return sy;zP=1;var e=Dp();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return sy=t,sy}var oy,jP;function Hoe(){if(jP)return oy;jP=1;function e(t,r){return t!=null&&r in Object(t)}return oy=e,oy}var ly,GP;function G4(){if(GP)return ly;GP=1;var e=Ip(),t=Yc(),r=Rr(),n=Op(),i=B2(),a=Kc();function s(o,l,u){l=e(l,o);for(var c=-1,f=l.length,h=!1;++c<f;){var d=a(l[c]);if(!(h=o!=null&&u(o,d)))break;o=o[d]}return h||++c!=f?h:(f=o==null?0:o.length,!!f&&i(f)&&n(d,f)&&(r(o)||t(o)))}return ly=s,ly}var uy,WP;function W4(){if(WP)return uy;WP=1;var e=Hoe(),t=G4();function r(n,i){return n!=null&&t(n,i,e)}return uy=r,uy}var cy,VP;function Yoe(){if(VP)return cy;VP=1;var e=$4(),t=Uoe(),r=W4(),n=Y2(),i=q4(),a=z4(),s=Kc(),o=1,l=2;function u(c,f){return n(c)&&i(f)?a(s(c),f):function(h){var d=t(h,c);return d===void 0&&d===f?r(h,c):e(f,d,o|l)}}return cy=u,cy}var fy,UP;function V4(){if(UP)return fy;UP=1;function e(t){return function(r){return r==null?void 0:r[t]}}return fy=e,fy}var hy,HP;function Xoe(){if(HP)return hy;HP=1;var e=Dp();function t(r){return function(n){return e(n,r)}}return hy=t,hy}var dy,YP;function Koe(){if(YP)return dy;YP=1;var e=V4(),t=Xoe(),r=Y2(),n=Kc();function i(a){return r(a)?e(n(a)):t(a)}return dy=i,dy}var py,XP;function ns(){if(XP)return py;XP=1;var e=zoe(),t=Yoe(),r=Ho(),n=Rr(),i=Koe();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):i(s)}return py=a,py}var vy,KP;function U4(){if(KP)return vy;KP=1;var e=_4(),t=Noe(),r=ns(),n=Rr();function i(a,s){var o=n(a)?e:t;return o(a,r(s,3))}return vy=i,vy}var gy,ZP;function Zoe(){if(ZP)return gy;ZP=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return gy=r,gy}var my,QP;function H4(){if(QP)return my;QP=1;var e=Zoe(),t=G4();function r(n,i){return n!=null&&t(n,i,e)}return my=r,my}var yy,JP;function Qoe(){if(JP)return yy;JP=1;var e=q2(),t=ru(),r=Yc(),n=Rr(),i=rs(),a=tu(),s=Np(),o=Xc(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(d){if(d==null)return!0;if(i(d)&&(n(d)||typeof d=="string"||typeof d.splice=="function"||a(d)||o(d)||r(d)))return!d.length;var p=t(d);if(p==l||p==u)return!d.size;if(s(d))return!e(d).length;for(var v in d)if(f.call(d,v))return!1;return!0}return yy=h,yy}var by,eN;function Y4(){if(eN)return by;eN=1;function e(t){return t===void 0}return by=e,by}var wy,tN;function X4(){if(tN)return wy;tN=1;var e=Rp(),t=rs();function r(n,i){var a=-1,s=t(n)?Array(n.length):[];return e(n,function(o,l,u){s[++a]=i(o,l,u)}),s}return wy=r,wy}var xy,rN;function K4(){if(rN)return xy;rN=1;var e=Lp(),t=ns(),r=X4(),n=Rr();function i(a,s){var o=n(a)?e:r;return o(a,t(s,3))}return xy=i,xy}var _y,nN;function Joe(){if(nN)return _y;nN=1;function e(t,r,n,i){var a=-1,s=t==null?0:t.length;for(i&&s&&(n=t[++a]);++a<s;)n=r(n,t[a],a,t);return n}return _y=e,_y}var Ey,iN;function ele(){if(iN)return Ey;iN=1;function e(t,r,n,i,a){return a(t,function(s,o,l){n=i?(i=!1,s):r(n,s,o,l)}),n}return Ey=e,Ey}var Sy,aN;function Z4(){if(aN)return Sy;aN=1;var e=Joe(),t=Rp(),r=ns(),n=ele(),i=Rr();function a(s,o,l){var u=i(s)?e:n,c=arguments.length<3;return u(s,r(o,4),l,c,t)}return Sy=a,Sy}var ky,sN;function tle(){if(sN)return ky;sN=1;var e=Wo(),t=Rr(),r=Sa(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return ky=i,ky}var Ty,oN;function rle(){if(oN)return Ty;oN=1;var e=V4(),t=e("length");return Ty=t,Ty}var My,lN;function nle(){if(lN)return My;lN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+e+i+a+"]");function l(u){return o.test(u)}return My=l,My}var Ay,uN;function ile(){if(uN)return Ay;uN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",s="["+e+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",p=u+"?",v="["+a+"]?",g="(?:"+d+"(?:"+[c,f,h].join("|")+")"+v+p+")*",m=v+p+g,y="(?:"+[c+o+"?",o,f,h,s].join("|")+")",b=RegExp(l+"(?="+l+")|"+y+m,"g");function x(E){for(var S=b.lastIndex=0;b.test(E);)++S;return S}return Ay=x,Ay}var Oy,cN;function ale(){if(cN)return Oy;cN=1;var e=rle(),t=nle(),r=ile();function n(i){return t(i)?r(i):e(i)}return Oy=n,Oy}var Py,fN;function sle(){if(fN)return Py;fN=1;var e=q2(),t=ru(),r=rs(),n=tle(),i=ale(),a="[object Map]",s="[object Set]";function o(l){if(l==null)return 0;if(r(l))return n(l)?i(l):l.length;var u=t(l);return u==a||u==s?l.size:e(l).length}return Py=o,Py}var Ny,hN;function ole(){if(hN)return Ny;hN=1;var e=F2(),t=P4(),r=U2(),n=ns(),i=Cp(),a=Rr(),s=tu(),o=Uc(),l=Ti(),u=Xc();function c(f,h,d){var p=a(f),v=p||s(f)||u(f);if(h=n(h,4),d==null){var g=f&&f.constructor;v?d=p?new g:[]:l(f)?d=o(g)?t(i(f)):{}:d={}}return(v?e:r)(f,function(m,y,b){return h(d,m,y,b)}),d}return Ny=c,Ny}var Cy,dN;function lle(){if(dN)return Cy;dN=1;var e=eu(),t=Yc(),r=Rr(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return Cy=i,Cy}var Ry,pN;function X2(){if(pN)return Ry;pN=1;var e=j2(),t=lle();function r(n,i,a,s,o){var l=-1,u=n.length;for(a||(a=t),o||(o=[]);++l<u;){var c=n[l];i>0&&a(c)?i>1?r(c,i-1,a,s,o):e(o,c):s||(o[o.length]=c)}return o}return Ry=r,Ry}var Ly,vN;function ule(){if(vN)return Ly;vN=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Ly=e,Ly}var Iy,gN;function Q4(){if(gN)return Iy;gN=1;var e=ule(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,l=t(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var c=Array(i+1);++o<i;)c[o]=s[o];return c[i]=a(u),e(n,this,c)}}return Iy=r,Iy}var Dy,mN;function cle(){if(mN)return Dy;mN=1;var e=W2(),t=m4(),r=Ho(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return Dy=n,Dy}var Fy,yN;function fle(){if(yN)return Fy;yN=1;var e=800,t=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),l=t-(o-s);if(s=o,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Fy=n,Fy}var By,bN;function J4(){if(bN)return By;bN=1;var e=cle(),t=fle(),r=t(e);return By=r,By}var $y,wN;function Fp(){if(wN)return $y;wN=1;var e=Ho(),t=Q4(),r=J4();function n(i,a){return r(t(i,a,e),i+"")}return $y=n,$y}var qy,xN;function eB(){if(xN)return qy;xN=1;function e(t,r,n,i){for(var a=t.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(t[s],s,t))return s;return-1}return qy=e,qy}var zy,_N;function hle(){if(_N)return zy;_N=1;function e(t){return t!==t}return zy=e,zy}var jy,EN;function dle(){if(EN)return jy;EN=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return jy=e,jy}var Gy,SN;function ple(){if(SN)return Gy;SN=1;var e=eB(),t=hle(),r=dle();function n(i,a,s){return a===a?r(i,a,s):e(i,t,s)}return Gy=n,Gy}var Wy,kN;function vle(){if(kN)return Wy;kN=1;var e=ple();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Wy=t,Wy}var Vy,TN;function gle(){if(TN)return Vy;TN=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return Vy=e,Vy}var Uy,MN;function mle(){if(MN)return Uy;MN=1;function e(){}return Uy=e,Uy}var Hy,AN;function yle(){if(AN)return Hy;AN=1;var e=M4(),t=mle(),r=H2(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return Hy=i,Hy}var Yy,ON;function ble(){if(ON)return Yy;ON=1;var e=D4(),t=vle(),r=gle(),n=F4(),i=yle(),a=H2(),s=200;function o(l,u,c){var f=-1,h=t,d=l.length,p=!0,v=[],g=v;if(c)p=!1,h=r;else if(d>=s){var m=u?null:i(l);if(m)return a(m);p=!1,h=n,g=new e}else g=u?[]:v;e:for(;++f<d;){var y=l[f],b=u?u(y):y;if(y=c||y!==0?y:0,p&&b===b){for(var x=g.length;x--;)if(g[x]===b)continue e;u&&g.push(b),v.push(y)}else h(g,b,c)||(g!==v&&g.push(b),v.push(y))}return v}return Yy=o,Yy}var Xy,PN;function tB(){if(PN)return Xy;PN=1;var e=rs(),t=Sa();function r(n){return t(n)&&e(n)}return Xy=r,Xy}var Ky,NN;function wle(){if(NN)return Ky;NN=1;var e=X2(),t=Fp(),r=ble(),n=tB(),i=t(function(a){return r(e(a,1,n,!0))});return Ky=i,Ky}var Zy,CN;function xle(){if(CN)return Zy;CN=1;var e=Lp();function t(r,n){return e(n,function(i){return r[i]})}return Zy=t,Zy}var Qy,RN;function rB(){if(RN)return Qy;RN=1;var e=xle(),t=Zs();function r(n){return n==null?[]:e(n,t(n))}return Qy=r,Qy}var Jy,LN;function Mi(){if(LN)return Jy;LN=1;var e;if(typeof L2=="function")try{e={clone:Aoe(),constant:W2(),each:I4(),filter:U4(),has:H4(),isArray:Rr(),isEmpty:Qoe(),isFunction:Uc(),isUndefined:Y4(),keys:Zs(),map:K4(),reduce:Z4(),size:sle(),transform:ole(),union:wle(),values:rB()}}catch{}return e||(e=window._),Jy=e,Jy}var e1,IN;function K2(){if(IN)return e1;IN=1;var e=Mi();e1=i;var t="\0",r="\0",n="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var h=arguments,d=this;return e.each(c,function(p){h.length>1?d.setNode(p,f):d.setNode(p)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var h=function(d){f.removeEdge(f._edgeObjs[d])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(d){f.setParent(d)}),delete this._children[c]),e.each(e.keys(this._in[c]),h),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=r;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==r)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=r),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(v,g){c(g)&&f.setNode(g,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,h.edge(v))});var d={};function p(v){var g=h.parent(v);return g===void 0||f.hasNode(g)?(d[v]=g,g):g in d?d[g]:p(g)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,p(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var h=this,d=arguments;return e.reduce(c,function(p,v){return d.length>1?h.setEdge(p,v,f):h.setEdge(p,v),v}),this},i.prototype.setEdge=function(){var c,f,h,d,p=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,h=v.name,arguments.length===2&&(d=arguments[1],p=!0)):(c=v,f=arguments[1],h=arguments[3],arguments.length>2&&(d=arguments[2],p=!0)),c=""+c,f=""+f,e.isUndefined(h)||(h=""+h);var g=o(this._isDirected,c,f,h);if(e.has(this._edgeLabels,g))return p&&(this._edgeLabels[g]=d),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[g]=p?d:this._defaultEdgeLabelFn(c,f,h);var m=l(this._isDirected,c,f,h);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[g]=m,a(this._preds[f],c),a(this._sucs[c],f),this._in[f][g]=m,this._out[c][g]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,h){var d=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,f,h);return this._edgeLabels[d]},i.prototype.hasEdge=function(c,f,h){var d=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,f,h);return e.has(this._edgeLabels,d)},i.prototype.removeEdge=function(c,f,h){var d=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,f,h),p=this._edgeObjs[d];return p&&(c=p.v,f=p.w,delete this._edgeLabels[d],delete this._edgeObjs[d],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][d],delete this._out[c][d],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var h=this._in[c];if(h){var d=e.values(h);return f?e.filter(d,function(p){return p.v===f}):d}},i.prototype.outEdges=function(c,f){var h=this._out[c];if(h){var d=e.values(h);return f?e.filter(d,function(p){return p.w===f}):d}},i.prototype.nodeEdges=function(c,f){var h=this.inEdges(c,f);if(h)return h.concat(this.outEdges(c,f))};function a(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function o(c,f,h,d){var p=""+f,v=""+h;if(!c&&p>v){var g=p;p=v,v=g}return p+n+v+n+(e.isUndefined(d)?t:d)}function l(c,f,h,d){var p=""+f,v=""+h;if(!c&&p>v){var g=p;p=v,v=g}var m={v:p,w:v};return d&&(m.name=d),m}function u(c,f){return o(c,f.v,f.w,f.name)}return e1}var t1,DN;function _le(){return DN||(DN=1,t1="2.1.8"),t1}var r1,FN;function Ele(){return FN||(FN=1,r1={Graph:K2(),version:_le()}),r1}var n1,BN;function Sle(){if(BN)return n1;BN=1;var e=Mi(),t=K2();n1={write:r,read:a};function r(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:i(s)};return e.isUndefined(s.graph())||(o.value=e.clone(s.graph())),o}function n(s){return e.map(s.nodes(),function(o){var l=s.node(o),u=s.parent(o),c={v:o};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(o){var l=s.edge(o),u={v:o.v,w:o.w};return e.isUndefined(o.name)||(u.name=o.name),e.isUndefined(l)||(u.value=l),u})}function a(s){var o=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),e.each(s.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return n1}var i1,$N;function kle(){if($N)return i1;$N=1;var e=Mi();i1=t;function t(r){var n={},i=[],a;function s(o){e.has(n,o)||(n[o]=!0,a.push(o),e.each(r.successors(o),s),e.each(r.predecessors(o),s))}return e.each(r.nodes(),function(o){a=[],s(o),a.length&&i.push(a)}),i}return i1}var a1,qN;function nB(){if(qN)return a1;qN=1;var e=Mi();a1=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!e.has(i,r)){var a=this._arr,s=a.length;return i[r]=s,a.push({key:r,priority:n}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},t.prototype._heapify=function(r){var n=this._arr,i=2*r,a=i+1,s=r;i<n.length&&(s=n[i].priority<n[s].priority?i:s,a<n.length&&(s=n[a].priority<n[s].priority?a:s),s!==r&&(this._swap(r,s),this._heapify(s)))},t.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,a;r!==0&&(a=r>>1,!(n[a].priority<i));)this._swap(r,a),r=a},t.prototype._swap=function(r,n){var i=this._arr,a=this._keyIndices,s=i[r],o=i[n];i[r]=o,i[n]=s,a[o.key]=r,a[s.key]=n},a1}var s1,zN;function iB(){if(zN)return s1;zN=1;var e=Mi(),t=nB();s1=n;var r=e.constant(1);function n(a,s,o,l){return i(a,String(s),o||r,l||function(u){return a.outEdges(u)})}function i(a,s,o,l){var u={},c=new t,f,h,d=function(p){var v=p.v!==f?p.v:p.w,g=u[v],m=o(p),y=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+m);y<g.distance&&(g.distance=y,g.predecessor=f,c.decrease(v,y))};for(a.nodes().forEach(function(p){var v=p===s?0:Number.POSITIVE_INFINITY;u[p]={distance:v},c.add(p,v)});c.size()>0&&(f=c.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(d);return u}return s1}var o1,jN;function Tle(){if(jN)return o1;jN=1;var e=iB(),t=Mi();o1=r;function r(n,i,a){return t.transform(n.nodes(),function(s,o){s[o]=e(n,o,i,a)},{})}return o1}var l1,GN;function aB(){if(GN)return l1;GN=1;var e=Mi();l1=t;function t(r){var n=0,i=[],a={},s=[];function o(l){var u=a[l]={onStack:!0,lowlink:n,index:n++};if(i.push(l),r.successors(l).forEach(function(h){e.has(a,h)?a[h].onStack&&(u.lowlink=Math.min(u.lowlink,a[h].index)):(o(h),u.lowlink=Math.min(u.lowlink,a[h].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),a[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return r.nodes().forEach(function(l){e.has(a,l)||o(l)}),s}return l1}var u1,WN;function Mle(){if(WN)return u1;WN=1;var e=Mi(),t=aB();u1=r;function r(n){return e.filter(t(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return u1}var c1,VN;function Ale(){if(VN)return c1;VN=1;var e=Mi();c1=r;var t=e.constant(1);function r(i,a,s){return n(i,a||t,s||function(o){return i.outEdges(o)})}function n(i,a,s){var o={},l=i.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(c){u!==c&&(o[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,h=a(c);o[u][f]={distance:h,predecessor:u}})}),l.forEach(function(u){var c=o[u];l.forEach(function(f){var h=o[f];l.forEach(function(d){var p=h[u],v=c[d],g=h[d],m=p.distance+v.distance;m<g.distance&&(g.distance=m,g.predecessor=v.predecessor)})})}),o}return c1}var f1,UN;function sB(){if(UN)return f1;UN=1;var e=Mi();f1=t,t.CycleException=r;function t(n){var i={},a={},s=[];function o(l){if(e.has(a,l))throw new r;e.has(i,l)||(a[l]=!0,i[l]=!0,e.each(n.predecessors(l),o),delete a[l],s.push(l))}if(e.each(n.sinks(),o),e.size(i)!==n.nodeCount())throw new r;return s}function r(){}return r.prototype=new Error,f1}var h1,HN;function Ole(){if(HN)return h1;HN=1;var e=sB();h1=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return h1}var d1,YN;function oB(){if(YN)return d1;YN=1;var e=Mi();d1=t;function t(n,i,a){e.isArray(i)||(i=[i]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],l={};return e.each(i,function(u){if(!n.hasNode(u))throw new Error("Graph does not have node: "+u);r(n,u,a==="post",l,s,o)}),o}function r(n,i,a,s,o,l){e.has(s,i)||(s[i]=!0,a||l.push(i),e.each(o(i),function(u){r(n,u,a,s,o,l)}),a&&l.push(i))}return d1}var p1,XN;function Ple(){if(XN)return p1;XN=1;var e=oB();p1=t;function t(r,n){return e(r,n,"post")}return p1}var v1,KN;function Nle(){if(KN)return v1;KN=1;var e=oB();v1=t;function t(r,n){return e(r,n,"pre")}return v1}var g1,ZN;function Cle(){if(ZN)return g1;ZN=1;var e=Mi(),t=K2(),r=nB();g1=n;function n(i,a){var s=new t,o={},l=new r,u;function c(h){var d=h.v===u?h.w:h.v,p=l.priority(d);if(p!==void 0){var v=a(h);v<p&&(o[d]=u,l.decrease(d,v))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(o,u))s.setEdge(u,o[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return g1}var m1,QN;function Rle(){return QN||(QN=1,m1={components:kle(),dijkstra:iB(),dijkstraAll:Tle(),findCycles:Mle(),floydWarshall:Ale(),isAcyclic:Ole(),postorder:Ple(),preorder:Nle(),prim:Cle(),tarjan:aB(),topsort:sB()}),m1}var y1,JN;function Lle(){if(JN)return y1;JN=1;var e=Ele();return y1={Graph:e.Graph,json:Sle(),alg:Rle(),version:e.version},y1}var b1,eC;function Vi(){if(eC)return b1;eC=1;var e;if(typeof L2=="function")try{e=Lle()}catch{}return e||(e=window.graphlib),b1=e,b1}var w1,tC;function Ile(){if(tC)return w1;tC=1;var e=C4(),t=1,r=4;function n(i){return e(i,t|r)}return w1=n,w1}var x1,rC;function Bp(){if(rC)return x1;rC=1;var e=Jl(),t=rs(),r=Op(),n=Ti();function i(a,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?t(o)&&r(s,o.length):l=="string"&&s in o)?e(o[s],a):!1}return x1=i,x1}var _1,nC;function Dle(){if(nC)return _1;nC=1;var e=Fp(),t=Jl(),r=Bp(),n=Uo(),i=Object.prototype,a=i.hasOwnProperty,s=e(function(o,l){o=Object(o);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&r(l[0],l[1],f)&&(c=1);++u<c;)for(var h=l[u],d=n(h),p=-1,v=d.length;++p<v;){var g=d[p],m=o[g];(m===void 0||t(m,i[g])&&!a.call(o,g))&&(o[g]=h[g])}return o});return _1=s,_1}var E1,iC;function Fle(){if(iC)return E1;iC=1;var e=ns(),t=rs(),r=Zs();function n(i){return function(a,s,o){var l=Object(a);if(!t(a)){var u=e(s,3);a=r(a),s=function(f){return u(l[f],f,l)}}var c=i(a,s,o);return c>-1?l[u?a[c]:c]:void 0}}return E1=n,E1}var S1,aC;function Ble(){if(aC)return S1;aC=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return S1=t,S1}var k1,sC;function $le(){if(sC)return k1;sC=1;var e=Ble(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return k1=r,k1}var T1,oC;function qle(){if(oC)return T1;oC=1;var e=$le(),t=Ti(),r=nu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=a.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):i.test(u)?n:+u}return T1=l,T1}var M1,lC;function lB(){if(lC)return M1;lC=1;var e=qle(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return M1=n,M1}var A1,uC;function zle(){if(uC)return A1;uC=1;var e=lB();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return A1=t,A1}var O1,cC;function jle(){if(cC)return O1;cC=1;var e=eB(),t=ns(),r=zle(),n=Math.max;function i(a,s,o){var l=a==null?0:a.length;if(!l)return-1;var u=o==null?0:r(o);return u<0&&(u=n(l+u,0)),e(a,t(s,3),u)}return O1=i,O1}var P1,fC;function Gle(){if(fC)return P1;fC=1;var e=Fle(),t=jle(),r=e(t);return P1=r,P1}var N1,hC;function uB(){if(hC)return N1;hC=1;var e=X2();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return N1=t,N1}var C1,dC;function Wle(){if(dC)return C1;dC=1;var e=V2(),t=R4(),r=Uo();function n(i,a){return i==null?i:e(i,t(a),r)}return C1=n,C1}var R1,pC;function Vle(){if(pC)return R1;pC=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return R1=e,R1}var L1,vC;function Ule(){if(vC)return L1;vC=1;var e=Mp(),t=U2(),r=ns();function n(i,a){var s={};return a=r(a,3),t(i,function(o,l,u){e(s,l,a(o,l,u))}),s}return L1=n,L1}var I1,gC;function Z2(){if(gC)return I1;gC=1;var e=nu();function t(r,n,i){for(var a=-1,s=r.length;++a<s;){var o=r[a],l=n(o);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=o}return c}return I1=t,I1}var D1,mC;function Hle(){if(mC)return D1;mC=1;function e(t,r){return t>r}return D1=e,D1}var F1,yC;function Yle(){if(yC)return F1;yC=1;var e=Z2(),t=Hle(),r=Ho();function n(i){return i&&i.length?e(i,r,t):void 0}return F1=n,F1}var B1,bC;function cB(){if(bC)return B1;bC=1;var e=Mp(),t=Jl();function r(n,i,a){(a!==void 0&&!t(n[i],a)||a===void 0&&!(i in n))&&e(n,i,a)}return B1=r,B1}var $1,wC;function Xle(){if(wC)return $1;wC=1;var e=Wo(),t=Cp(),r=Sa(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(c){if(!r(c)||e(c)!=n)return!1;var f=t(c);if(f===null)return!0;var h=o.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return $1=u,$1}var q1,xC;function fB(){if(xC)return q1;xC=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return q1=e,q1}var z1,_C;function Kle(){if(_C)return z1;_C=1;var e=Hc(),t=Uo();function r(n){return e(n,t(n))}return z1=r,z1}var j1,EC;function Zle(){if(EC)return j1;EC=1;var e=cB(),t=w4(),r=O4(),n=x4(),i=N4(),a=Yc(),s=Rr(),o=tB(),l=tu(),u=Uc(),c=Ti(),f=Xle(),h=Xc(),d=fB(),p=Kle();function v(g,m,y,b,x,E,S){var _=d(g,y),k=d(m,y),O=S.get(k);if(O){e(g,y,O);return}var P=E?E(_,k,y+"",g,m,S):void 0,N=P===void 0;if(N){var R=s(k),L=!R&&l(k),D=!R&&!L&&h(k);P=k,R||L||D?s(_)?P=_:o(_)?P=n(_):L?(N=!1,P=t(k,!0)):D?(N=!1,P=r(k,!0)):P=[]:f(k)||a(k)?(P=_,a(_)?P=p(_):(!c(_)||u(_))&&(P=i(k))):N=!1}N&&(S.set(k,P),x(P,k,b,E,S),S.delete(k)),e(g,y,P)}return j1=v,j1}var G1,SC;function Qle(){if(SC)return G1;SC=1;var e=Tp(),t=cB(),r=V2(),n=Zle(),i=Ti(),a=Uo(),s=fB();function o(l,u,c,f,h){l!==u&&r(u,function(d,p){if(h||(h=new e),i(d))n(l,u,p,c,o,f,h);else{var v=f?f(s(l,p),d,p+"",l,u,h):void 0;v===void 0&&(v=d),t(l,p,v)}},a)}return G1=o,G1}var W1,kC;function Jle(){if(kC)return W1;kC=1;var e=Fp(),t=Bp();function r(n){return e(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,u=o>2?a[2]:void 0;for(l=n.length>3&&typeof l=="function"?(o--,l):void 0,u&&t(a[0],a[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var c=a[s];c&&n(i,c,s,l)}return i})}return W1=r,W1}var V1,TC;function eue(){if(TC)return V1;TC=1;var e=Qle(),t=Jle(),r=t(function(n,i,a){e(n,i,a)});return V1=r,V1}var U1,MC;function hB(){if(MC)return U1;MC=1;function e(t,r){return t<r}return U1=e,U1}var H1,AC;function tue(){if(AC)return H1;AC=1;var e=Z2(),t=hB(),r=Ho();function n(i){return i&&i.length?e(i,r,t):void 0}return H1=n,H1}var Y1,OC;function rue(){if(OC)return Y1;OC=1;var e=Z2(),t=ns(),r=hB();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return Y1=n,Y1}var X1,PC;function nue(){if(PC)return X1;PC=1;var e=Yi(),t=function(){return e.Date.now()};return X1=t,X1}var K1,NC;function iue(){if(NC)return K1;NC=1;var e=Ap(),t=Ip(),r=Op(),n=Ti(),i=Kc();function a(s,o,l,u){if(!n(s))return s;o=t(o,s);for(var c=-1,f=o.length,h=f-1,d=s;d!=null&&++c<f;){var p=i(o[c]),v=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return s;if(c!=h){var g=d[p];v=u?u(g,p,d):void 0,v===void 0&&(v=n(g)?g:r(o[c+1])?[]:{})}e(d,p,v),d=d[p]}return s}return K1=a,K1}var Z1,CC;function aue(){if(CC)return Z1;CC=1;var e=Dp(),t=iue(),r=Ip();function n(i,a,s){for(var o=-1,l=a.length,u={};++o<l;){var c=a[o],f=e(i,c);s(f,c)&&t(u,r(c,i),f)}return u}return Z1=n,Z1}var Q1,RC;function sue(){if(RC)return Q1;RC=1;var e=aue(),t=W4();function r(n,i){return e(n,i,function(a,s){return t(n,s)})}return Q1=r,Q1}var J1,LC;function oue(){if(LC)return J1;LC=1;var e=uB(),t=Q4(),r=J4();function n(i){return r(t(i,void 0,e),i+"")}return J1=n,J1}var eb,IC;function lue(){if(IC)return eb;IC=1;var e=sue(),t=oue(),r=t(function(n,i){return n==null?{}:e(n,i)});return eb=r,eb}var tb,DC;function uue(){if(DC)return tb;DC=1;var e=Math.ceil,t=Math.max;function r(n,i,a,s){for(var o=-1,l=t(e((i-n)/(a||1)),0),u=Array(l);l--;)u[s?l:++o]=n,n+=a;return u}return tb=r,tb}var rb,FC;function cue(){if(FC)return rb;FC=1;var e=uue(),t=Bp(),r=lB();function n(i){return function(a,s,o){return o&&typeof o!="number"&&t(a,s,o)&&(s=o=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),o=o===void 0?a<s?1:-1:r(o),e(a,s,o,i)}}return rb=n,rb}var nb,BC;function fue(){if(BC)return nb;BC=1;var e=cue(),t=e();return nb=t,nb}var ib,$C;function hue(){if($C)return ib;$C=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return ib=e,ib}var ab,qC;function due(){if(qC)return ab;qC=1;var e=nu();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,o=e(r),l=n!==void 0,u=n===null,c=n===n,f=e(n);if(!u&&!f&&!o&&r>n||o&&l&&c&&!u&&!f||a&&l&&c||!i&&c||!s)return 1;if(!a&&!o&&!f&&r<n||f&&i&&s&&!a&&!o||u&&i&&s||!l&&s||!c)return-1}return 0}return ab=t,ab}var sb,zC;function pue(){if(zC)return sb;zC=1;var e=due();function t(r,n,i){for(var a=-1,s=r.criteria,o=n.criteria,l=s.length,u=i.length;++a<l;){var c=e(s[a],o[a]);if(c){if(a>=u)return c;var f=i[a];return c*(f=="desc"?-1:1)}}return r.index-n.index}return sb=t,sb}var ob,jC;function vue(){if(jC)return ob;jC=1;var e=Lp(),t=Dp(),r=ns(),n=X4(),i=hue(),a=Pp(),s=pue(),o=Ho(),l=Rr();function u(c,f,h){f.length?f=e(f,function(v){return l(v)?function(g){return t(g,v.length===1?v[0]:v)}:v}):f=[o];var d=-1;f=e(f,a(r));var p=n(c,function(v,g,m){var y=e(f,function(b){return b(v)});return{criteria:y,index:++d,value:v}});return i(p,function(v,g){return s(v,g,h)})}return ob=u,ob}var lb,GC;function gue(){if(GC)return lb;GC=1;var e=X2(),t=vue(),r=Fp(),n=Bp(),i=r(function(a,s){if(a==null)return[];var o=s.length;return o>1&&n(a,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(a,e(s,1),[])});return lb=i,lb}var ub,WC;function mue(){if(WC)return ub;WC=1;var e=j4(),t=0;function r(n){var i=++t;return e(n)+i}return ub=r,ub}var cb,VC;function yue(){if(VC)return cb;VC=1;function e(t,r,n){for(var i=-1,a=t.length,s=r.length,o={};++i<a;){var l=i<s?r[i]:void 0;n(o,t[i],l)}return o}return cb=e,cb}var fb,UC;function bue(){if(UC)return fb;UC=1;var e=Ap(),t=yue();function r(n,i){return t(n||[],i||[],e)}return fb=r,fb}var hb,HC;function cr(){if(HC)return hb;HC=1;var e;if(typeof L2=="function")try{e={cloneDeep:Ile(),constant:W2(),defaults:Dle(),each:I4(),filter:U4(),find:Gle(),flatten:uB(),forEach:L4(),forIn:Wle(),has:H4(),isUndefined:Y4(),last:Vle(),map:K4(),mapValues:Ule(),max:Yle(),merge:eue(),min:tue(),minBy:rue(),now:nue(),pick:lue(),range:fue(),reduce:Z4(),sortBy:gue(),uniqueId:mue(),values:rB(),zipObject:bue()}}catch{}return e||(e=window._),hb=e,hb}var db,YC;function wue(){if(YC)return db;YC=1,db=e;function e(){var n={};n._next=n._prev=n,this._sentinel=n}e.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return t(i),i},e.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&t(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},e.prototype.toString=function(){for(var n=[],i=this._sentinel,a=i._prev;a!==i;)n.push(JSON.stringify(a,r)),a=a._prev;return"["+n.join(", ")+"]"};function t(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return db}var pb,XC;function xue(){if(XC)return pb;XC=1;var e=cr(),t=Vi().Graph,r=wue();pb=i;var n=e.constant(1);function i(u,c){if(u.nodeCount()<=1)return[];var f=o(u,c||n),h=a(f.graph,f.buckets,f.zeroIdx);return e.flatten(e.map(h,function(d){return u.outEdges(d.v,d.w)}),!0)}function a(u,c,f){for(var h=[],d=c[c.length-1],p=c[0],v;u.nodeCount();){for(;v=p.dequeue();)s(u,c,f,v);for(;v=d.dequeue();)s(u,c,f,v);if(u.nodeCount()){for(var g=c.length-2;g>0;--g)if(v=c[g].dequeue(),v){h=h.concat(s(u,c,f,v,!0));break}}}return h}function s(u,c,f,h,d){var p=d?[]:void 0;return e.forEach(u.inEdges(h.v),function(v){var g=u.edge(v),m=u.node(v.v);d&&p.push({v:v.v,w:v.w}),m.out-=g,l(c,f,m)}),e.forEach(u.outEdges(h.v),function(v){var g=u.edge(v),m=v.w,y=u.node(m);y.in-=g,l(c,f,y)}),u.removeNode(h.v),p}function o(u,c){var f=new t,h=0,d=0;e.forEach(u.nodes(),function(g){f.setNode(g,{v:g,in:0,out:0})}),e.forEach(u.edges(),function(g){var m=f.edge(g.v,g.w)||0,y=c(g),b=m+y;f.setEdge(g.v,g.w,b),d=Math.max(d,f.node(g.v).out+=y),h=Math.max(h,f.node(g.w).in+=y)});var p=e.range(d+h+3).map(function(){return new r}),v=h+1;return e.forEach(f.nodes(),function(g){l(p,v,f.node(g))}),{graph:f,buckets:p,zeroIdx:v}}function l(u,c,f){f.out?f.in?u[f.out-f.in+c].enqueue(f):u[u.length-1].enqueue(f):u[0].enqueue(f)}return pb}var vb,KC;function _ue(){if(KC)return vb;KC=1;var e=cr(),t=xue();vb={run:r,undo:i};function r(a){var s=a.graph().acyclicer==="greedy"?t(a,o(a)):n(a);e.forEach(s,function(l){var u=a.edge(l);a.removeEdge(l),u.forwardName=l.name,u.reversed=!0,a.setEdge(l.w,l.v,u,e.uniqueId("rev"))});function o(l){return function(u){return l.edge(u).weight}}}function n(a){var s=[],o={},l={};function u(c){e.has(l,c)||(l[c]=!0,o[c]=!0,e.forEach(a.outEdges(c),function(f){e.has(o,f.w)?s.push(f):u(f.w)}),delete o[c])}return e.forEach(a.nodes(),u),s}function i(a){e.forEach(a.edges(),function(s){var o=a.edge(s);if(o.reversed){a.removeEdge(s);var l=o.forwardName;delete o.reversed,delete o.forwardName,a.setEdge(s.w,s.v,o,l)}})}return vb}var gb,ZC;function qn(){if(ZC)return gb;ZC=1;var e=cr(),t=Vi().Graph;gb={addDummyNode:r,simplify:n,asNonCompoundGraph:i,successorWeights:a,predecessorWeights:s,intersectRect:o,buildLayerMatrix:l,normalizeRanks:u,removeEmptyRanks:c,addBorderNode:f,maxRank:h,partition:d,time:p,notime:v};function r(g,m,y,b){var x;do x=e.uniqueId(b);while(g.hasNode(x));return y.dummy=m,g.setNode(x,y),x}function n(g){var m=new t().setGraph(g.graph());return e.forEach(g.nodes(),function(y){m.setNode(y,g.node(y))}),e.forEach(g.edges(),function(y){var b=m.edge(y.v,y.w)||{weight:0,minlen:1},x=g.edge(y);m.setEdge(y.v,y.w,{weight:b.weight+x.weight,minlen:Math.max(b.minlen,x.minlen)})}),m}function i(g){var m=new t({multigraph:g.isMultigraph()}).setGraph(g.graph());return e.forEach(g.nodes(),function(y){g.children(y).length||m.setNode(y,g.node(y))}),e.forEach(g.edges(),function(y){m.setEdge(y,g.edge(y))}),m}function a(g){var m=e.map(g.nodes(),function(y){var b={};return e.forEach(g.outEdges(y),function(x){b[x.w]=(b[x.w]||0)+g.edge(x).weight}),b});return e.zipObject(g.nodes(),m)}function s(g){var m=e.map(g.nodes(),function(y){var b={};return e.forEach(g.inEdges(y),function(x){b[x.v]=(b[x.v]||0)+g.edge(x).weight}),b});return e.zipObject(g.nodes(),m)}function o(g,m){var y=g.x,b=g.y,x=m.x-y,E=m.y-b,S=g.width/2,_=g.height/2;if(!x&&!E)throw new Error("Not possible to find intersection inside of the rectangle");var k,O;return Math.abs(E)*S>Math.abs(x)*_?(E<0&&(_=-_),k=_*x/E,O=_):(x<0&&(S=-S),k=S,O=S*E/x),{x:y+k,y:b+O}}function l(g){var m=e.map(e.range(h(g)+1),function(){return[]});return e.forEach(g.nodes(),function(y){var b=g.node(y),x=b.rank;e.isUndefined(x)||(m[x][b.order]=y)}),m}function u(g){var m=e.min(e.map(g.nodes(),function(y){return g.node(y).rank}));e.forEach(g.nodes(),function(y){var b=g.node(y);e.has(b,"rank")&&(b.rank-=m)})}function c(g){var m=e.min(e.map(g.nodes(),function(E){return g.node(E).rank})),y=[];e.forEach(g.nodes(),function(E){var S=g.node(E).rank-m;y[S]||(y[S]=[]),y[S].push(E)});var b=0,x=g.graph().nodeRankFactor;e.forEach(y,function(E,S){e.isUndefined(E)&&S%x!==0?--b:b&&e.forEach(E,function(_){g.node(_).rank+=b})})}function f(g,m,y,b){var x={width:0,height:0};return arguments.length>=4&&(x.rank=y,x.order=b),r(g,"border",x,m)}function h(g){return e.max(e.map(g.nodes(),function(m){var y=g.node(m).rank;if(!e.isUndefined(y))return y}))}function d(g,m){var y={lhs:[],rhs:[]};return e.forEach(g,function(b){m(b)?y.lhs.push(b):y.rhs.push(b)}),y}function p(g,m){var y=e.now();try{return m()}finally{console.log(g+" time: "+(e.now()-y)+"ms")}}function v(g,m){return m()}return gb}var mb,QC;function Eue(){if(QC)return mb;QC=1;var e=cr(),t=qn();mb={run:r,undo:i};function r(a){a.graph().dummyChains=[],e.forEach(a.edges(),function(s){n(a,s)})}function n(a,s){var o=s.v,l=a.node(o).rank,u=s.w,c=a.node(u).rank,f=s.name,h=a.edge(s),d=h.labelRank;if(c!==l+1){a.removeEdge(s);var p,v,g;for(g=0,++l;l<c;++g,++l)h.points=[],v={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},p=t.addDummyNode(a,"edge",v,"_d"),l===d&&(v.width=h.width,v.height=h.height,v.dummy="edge-label",v.labelpos=h.labelpos),a.setEdge(o,p,{weight:h.weight},f),g===0&&a.graph().dummyChains.push(p),o=p;a.setEdge(o,u,{weight:h.weight},f)}}function i(a){e.forEach(a.graph().dummyChains,function(s){var o=a.node(s),l=o.edgeLabel,u;for(a.setEdge(o.edgeObj,l);o.dummy;)u=a.successors(s)[0],a.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=a.node(s)})}return mb}var yb,JC;function _d(){if(JC)return yb;JC=1;var e=cr();yb={longestPath:t,slack:r};function t(n){var i={};function a(s){var o=n.node(s);if(e.has(i,s))return o.rank;i[s]=!0;var l=e.min(e.map(n.outEdges(s),function(u){return a(u.w)-n.edge(u).minlen}));return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l}e.forEach(n.sources(),a)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return yb}var bb,eR;function dB(){if(eR)return bb;eR=1;var e=cr(),t=Vi().Graph,r=_d().slack;bb=n;function n(o){var l=new t({directed:!1}),u=o.nodes()[0],c=o.nodeCount();l.setNode(u,{});for(var f,h;i(l,o)<c;)f=a(l,o),h=l.hasNode(f.v)?r(o,f):-r(o,f),s(l,o,h);return l}function i(o,l){function u(c){e.forEach(l.nodeEdges(c),function(f){var h=f.v,d=c===h?f.w:h;!o.hasNode(d)&&!r(l,f)&&(o.setNode(d,{}),o.setEdge(c,d,{}),u(d))})}return e.forEach(o.nodes(),u),o.nodeCount()}function a(o,l){return e.minBy(l.edges(),function(u){if(o.hasNode(u.v)!==o.hasNode(u.w))return r(l,u)})}function s(o,l,u){e.forEach(o.nodes(),function(c){l.node(c).rank+=u})}return bb}var wb,tR;function Sue(){if(tR)return wb;tR=1;var e=cr(),t=dB(),r=_d().slack,n=_d().longestPath,i=Vi().alg.preorder,a=Vi().alg.postorder,s=qn().simplify;wb=o,o.initLowLimValues=f,o.initCutValues=l,o.calcCutValue=c,o.leaveEdge=d,o.enterEdge=p,o.exchangeEdges=v;function o(b){b=s(b),n(b);var x=t(b);f(x),l(x,b);for(var E,S;E=d(x);)S=p(x,b,E),v(x,b,E,S)}function l(b,x){var E=a(b,b.nodes());E=E.slice(0,E.length-1),e.forEach(E,function(S){u(b,x,S)})}function u(b,x,E){var S=b.node(E),_=S.parent;b.edge(E,_).cutvalue=c(b,x,E)}function c(b,x,E){var S=b.node(E),_=S.parent,k=!0,O=x.edge(E,_),P=0;return O||(k=!1,O=x.edge(_,E)),P=O.weight,e.forEach(x.nodeEdges(E),function(N){var R=N.v===E,L=R?N.w:N.v;if(L!==_){var D=R===k,$=x.edge(N).weight;if(P+=D?$:-$,m(b,E,L)){var X=b.edge(E,L).cutvalue;P+=D?-X:X}}}),P}function f(b,x){arguments.length<2&&(x=b.nodes()[0]),h(b,{},1,x)}function h(b,x,E,S,_){var k=E,O=b.node(S);return x[S]=!0,e.forEach(b.neighbors(S),function(P){e.has(x,P)||(E=h(b,x,E,P,S))}),O.low=k,O.lim=E++,_?O.parent=_:delete O.parent,E}function d(b){return e.find(b.edges(),function(x){return b.edge(x).cutvalue<0})}function p(b,x,E){var S=E.v,_=E.w;x.hasEdge(S,_)||(S=E.w,_=E.v);var k=b.node(S),O=b.node(_),P=k,N=!1;k.lim>O.lim&&(P=O,N=!0);var R=e.filter(x.edges(),function(L){return N===y(b,b.node(L.v),P)&&N!==y(b,b.node(L.w),P)});return e.minBy(R,function(L){return r(x,L)})}function v(b,x,E,S){var _=E.v,k=E.w;b.removeEdge(_,k),b.setEdge(S.v,S.w,{}),f(b),l(b,x),g(b,x)}function g(b,x){var E=e.find(b.nodes(),function(_){return!x.node(_).parent}),S=i(b,E);S=S.slice(1),e.forEach(S,function(_){var k=b.node(_).parent,O=x.edge(_,k),P=!1;O||(O=x.edge(k,_),P=!0),x.node(_).rank=x.node(k).rank+(P?O.minlen:-O.minlen)})}function m(b,x,E){return b.hasEdge(x,E)}function y(b,x,E){return E.low<=x.lim&&x.lim<=E.lim}return wb}var xb,rR;function kue(){if(rR)return xb;rR=1;var e=_d(),t=e.longestPath,r=dB(),n=Sue();xb=i;function i(l){switch(l.graph().ranker){case"network-simplex":o(l);break;case"tight-tree":s(l);break;case"longest-path":a(l);break;default:o(l)}}var a=t;function s(l){t(l),r(l)}function o(l){n(l)}return xb}var _b,nR;function Tue(){if(nR)return _b;nR=1;var e=cr();_b=t;function t(i){var a=n(i);e.forEach(i.graph().dummyChains,function(s){for(var o=i.node(s),l=o.edgeObj,u=r(i,a,l.v,l.w),c=u.path,f=u.lca,h=0,d=c[h],p=!0;s!==l.w;){if(o=i.node(s),p){for(;(d=c[h])!==f&&i.node(d).maxRank<o.rank;)h++;d===f&&(p=!1)}if(!p){for(;h<c.length-1&&i.node(d=c[h+1]).minRank<=o.rank;)h++;d=c[h]}i.setParent(s,d),s=i.successors(s)[0]}})}function r(i,a,s,o){var l=[],u=[],c=Math.min(a[s].low,a[o].low),f=Math.max(a[s].lim,a[o].lim),h,d;h=s;do h=i.parent(h),l.push(h);while(h&&(a[h].low>c||f>a[h].lim));for(d=h,h=o;(h=i.parent(h))!==d;)u.push(h);return{path:l.concat(u.reverse()),lca:d}}function n(i){var a={},s=0;function o(l){var u=s;e.forEach(i.children(l),o),a[l]={low:u,lim:s++}}return e.forEach(i.children(),o),a}return _b}var Eb,iR;function Mue(){if(iR)return Eb;iR=1;var e=cr(),t=qn();Eb={run:r,cleanup:s};function r(o){var l=t.addDummyNode(o,"root",{},"_root"),u=i(o),c=e.max(e.values(u))-1,f=2*c+1;o.graph().nestingRoot=l,e.forEach(o.edges(),function(d){o.edge(d).minlen*=f});var h=a(o)+1;e.forEach(o.children(),function(d){n(o,l,f,h,c,u,d)}),o.graph().nodeRankFactor=f}function n(o,l,u,c,f,h,d){var p=o.children(d);if(!p.length){d!==l&&o.setEdge(l,d,{weight:0,minlen:u});return}var v=t.addBorderNode(o,"_bt"),g=t.addBorderNode(o,"_bb"),m=o.node(d);o.setParent(v,d),m.borderTop=v,o.setParent(g,d),m.borderBottom=g,e.forEach(p,function(y){n(o,l,u,c,f,h,y);var b=o.node(y),x=b.borderTop?b.borderTop:y,E=b.borderBottom?b.borderBottom:y,S=b.borderTop?c:2*c,_=x!==E?1:f-h[d]+1;o.setEdge(v,x,{weight:S,minlen:_,nestingEdge:!0}),o.setEdge(E,g,{weight:S,minlen:_,nestingEdge:!0})}),o.parent(d)||o.setEdge(l,v,{weight:0,minlen:f+h[d]})}function i(o){var l={};function u(c,f){var h=o.children(c);h&&h.length&&e.forEach(h,function(d){u(d,f+1)}),l[c]=f}return e.forEach(o.children(),function(c){u(c,1)}),l}function a(o){return e.reduce(o.edges(),function(l,u){return l+o.edge(u).weight},0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,e.forEach(o.edges(),function(u){var c=o.edge(u);c.nestingEdge&&o.removeEdge(u)})}return Eb}var Sb,aR;function Aue(){if(aR)return Sb;aR=1;var e=cr(),t=qn();Sb=r;function r(i){function a(s){var o=i.children(s),l=i.node(s);if(o.length&&e.forEach(o,a),e.has(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(var u=l.minRank,c=l.maxRank+1;u<c;++u)n(i,"borderLeft","_bl",s,l,u),n(i,"borderRight","_br",s,l,u)}}e.forEach(i.children(),a)}function n(i,a,s,o,l,u){var c={width:0,height:0,rank:u,borderType:a},f=l[a][u-1],h=t.addDummyNode(i,"border",c,s);l[a][u]=h,i.setParent(h,o),f&&i.setEdge(f,h,{weight:1})}return Sb}var kb,sR;function Oue(){if(sR)return kb;sR=1;var e=cr();kb={adjust:t,undo:r};function t(u){var c=u.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(u)}function r(u){var c=u.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&a(u),(c==="lr"||c==="rl")&&(o(u),n(u))}function n(u){e.forEach(u.nodes(),function(c){i(u.node(c))}),e.forEach(u.edges(),function(c){i(u.edge(c))})}function i(u){var c=u.width;u.width=u.height,u.height=c}function a(u){e.forEach(u.nodes(),function(c){s(u.node(c))}),e.forEach(u.edges(),function(c){var f=u.edge(c);e.forEach(f.points,s),e.has(f,"y")&&s(f)})}function s(u){u.y=-u.y}function o(u){e.forEach(u.nodes(),function(c){l(u.node(c))}),e.forEach(u.edges(),function(c){var f=u.edge(c);e.forEach(f.points,l),e.has(f,"x")&&l(f)})}function l(u){var c=u.x;u.x=u.y,u.y=c}return kb}var Tb,oR;function Pue(){if(oR)return Tb;oR=1;var e=cr();Tb=t;function t(r){var n={},i=e.filter(r.nodes(),function(u){return!r.children(u).length}),a=e.max(e.map(i,function(u){return r.node(u).rank})),s=e.map(e.range(a+1),function(){return[]});function o(u){if(!e.has(n,u)){n[u]=!0;var c=r.node(u);s[c.rank].push(u),e.forEach(r.successors(u),o)}}var l=e.sortBy(i,function(u){return r.node(u).rank});return e.forEach(l,o),s}return Tb}var Mb,lR;function Nue(){if(lR)return Mb;lR=1;var e=cr();Mb=t;function t(n,i){for(var a=0,s=1;s<i.length;++s)a+=r(n,i[s-1],i[s]);return a}function r(n,i,a){for(var s=e.zipObject(a,e.map(a,function(h,d){return d})),o=e.flatten(e.map(i,function(h){return e.sortBy(e.map(n.outEdges(h),function(d){return{pos:s[d.w],weight:n.edge(d).weight}}),"pos")}),!0),l=1;l<a.length;)l<<=1;var u=2*l-1;l-=1;var c=e.map(new Array(u),function(){return 0}),f=0;return e.forEach(o.forEach(function(h){var d=h.pos+l;c[d]+=h.weight;for(var p=0;d>0;)d%2&&(p+=c[d+1]),d=d-1>>1,c[d]+=h.weight;f+=h.weight*p})),f}return Mb}var Ab,uR;function Cue(){if(uR)return Ab;uR=1;var e=cr();Ab=t;function t(r,n){return e.map(n,function(i){var a=r.inEdges(i);if(a.length){var s=e.reduce(a,function(o,l){var u=r.edge(l),c=r.node(l.v);return{sum:o.sum+u.weight*c.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:i,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:i}})}return Ab}var Ob,cR;function Rue(){if(cR)return Ob;cR=1;var e=cr();Ob=t;function t(i,a){var s={};e.forEach(i,function(l,u){var c=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};e.isUndefined(l.barycenter)||(c.barycenter=l.barycenter,c.weight=l.weight)}),e.forEach(a.edges(),function(l){var u=s[l.v],c=s[l.w];!e.isUndefined(u)&&!e.isUndefined(c)&&(c.indegree++,u.out.push(s[l.w]))});var o=e.filter(s,function(l){return!l.indegree});return r(o)}function r(i){var a=[];function s(u){return function(c){c.merged||(e.isUndefined(c.barycenter)||e.isUndefined(u.barycenter)||c.barycenter>=u.barycenter)&&n(u,c)}}function o(u){return function(c){c.in.push(u),--c.indegree===0&&i.push(c)}}for(;i.length;){var l=i.pop();a.push(l),e.forEach(l.in.reverse(),s(l)),e.forEach(l.out,o(l))}return e.map(e.filter(a,function(u){return!u.merged}),function(u){return e.pick(u,["vs","i","barycenter","weight"])})}function n(i,a){var s=0,o=0;i.weight&&(s+=i.barycenter*i.weight,o+=i.weight),a.weight&&(s+=a.barycenter*a.weight,o+=a.weight),i.vs=a.vs.concat(i.vs),i.barycenter=s/o,i.weight=o,i.i=Math.min(a.i,i.i),a.merged=!0}return Ob}var Pb,fR;function Lue(){if(fR)return Pb;fR=1;var e=cr(),t=qn();Pb=r;function r(a,s){var o=t.partition(a,function(v){return e.has(v,"barycenter")}),l=o.lhs,u=e.sortBy(o.rhs,function(v){return-v.i}),c=[],f=0,h=0,d=0;l.sort(i(!!s)),d=n(c,u,d),e.forEach(l,function(v){d+=v.vs.length,c.push(v.vs),f+=v.barycenter*v.weight,h+=v.weight,d=n(c,u,d)});var p={vs:e.flatten(c,!0)};return h&&(p.barycenter=f/h,p.weight=h),p}function n(a,s,o){for(var l;s.length&&(l=e.last(s)).i<=o;)s.pop(),a.push(l.vs),o++;return o}function i(a){return function(s,o){return s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:a?o.i-s.i:s.i-o.i}}return Pb}var Nb,hR;function Iue(){if(hR)return Nb;hR=1;var e=cr(),t=Cue(),r=Rue(),n=Lue();Nb=i;function i(o,l,u,c){var f=o.children(l),h=o.node(l),d=h?h.borderLeft:void 0,p=h?h.borderRight:void 0,v={};d&&(f=e.filter(f,function(E){return E!==d&&E!==p}));var g=t(o,f);e.forEach(g,function(E){if(o.children(E.v).length){var S=i(o,E.v,u,c);v[E.v]=S,e.has(S,"barycenter")&&s(E,S)}});var m=r(g,u);a(m,v);var y=n(m,c);if(d&&(y.vs=e.flatten([d,y.vs,p],!0),o.predecessors(d).length)){var b=o.node(o.predecessors(d)[0]),x=o.node(o.predecessors(p)[0]);e.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+x.order)/(y.weight+2),y.weight+=2}return y}function a(o,l){e.forEach(o,function(u){u.vs=e.flatten(u.vs.map(function(c){return l[c]?l[c].vs:c}),!0)})}function s(o,l){e.isUndefined(o.barycenter)?(o.barycenter=l.barycenter,o.weight=l.weight):(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight)}return Nb}var Cb,dR;function Due(){if(dR)return Cb;dR=1;var e=cr(),t=Vi().Graph;Cb=r;function r(i,a,s){var o=n(i),l=new t({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(u){return i.node(u)});return e.forEach(i.nodes(),function(u){var c=i.node(u),f=i.parent(u);(c.rank===a||c.minRank<=a&&a<=c.maxRank)&&(l.setNode(u),l.setParent(u,f||o),e.forEach(i[s](u),function(h){var d=h.v===u?h.w:h.v,p=l.edge(d,u),v=e.isUndefined(p)?0:p.weight;l.setEdge(d,u,{weight:i.edge(h).weight+v})}),e.has(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[a],borderRight:c.borderRight[a]}))}),l}function n(i){for(var a;i.hasNode(a=e.uniqueId("_root")););return a}return Cb}var Rb,pR;function Fue(){if(pR)return Rb;pR=1;var e=cr();Rb=t;function t(r,n,i){var a={},s;e.forEach(i,function(o){for(var l=r.parent(o),u,c;l;){if(u=r.parent(l),u?(c=a[u],a[u]=l):(c=s,s=l),c&&c!==l){n.setEdge(c,l);return}l=u}})}return Rb}var Lb,vR;function Bue(){if(vR)return Lb;vR=1;var e=cr(),t=Pue(),r=Nue(),n=Iue(),i=Due(),a=Fue(),s=Vi().Graph,o=qn();Lb=l;function l(h){var d=o.maxRank(h),p=u(h,e.range(1,d+1),"inEdges"),v=u(h,e.range(d-1,-1,-1),"outEdges"),g=t(h);f(h,g);for(var m=Number.POSITIVE_INFINITY,y,b=0,x=0;x<4;++b,++x){c(b%2?p:v,b%4>=2),g=o.buildLayerMatrix(h);var E=r(h,g);E<m&&(x=0,y=e.cloneDeep(g),m=E)}f(h,y)}function u(h,d,p){return e.map(d,function(v){return i(h,v,p)})}function c(h,d){var p=new s;e.forEach(h,function(v){var g=v.graph().root,m=n(v,g,p,d);e.forEach(m.vs,function(y,b){v.node(y).order=b}),a(v,p,m.vs)})}function f(h,d){e.forEach(d,function(p){e.forEach(p,function(v,g){h.node(v).order=g})})}return Lb}var Ib,gR;function $ue(){if(gR)return Ib;gR=1;var e=cr(),t=Vi().Graph,r=qn();Ib={positionX:p,findType1Conflicts:n,findType2Conflicts:i,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:f,balance:d};function n(m,y){var b={};function x(E,S){var _=0,k=0,O=E.length,P=e.last(S);return e.forEach(S,function(N,R){var L=a(m,N),D=L?m.node(L).order:O;(L||N===P)&&(e.forEach(S.slice(k,R+1),function($){e.forEach(m.predecessors($),function(X){var K=m.node(X),V=K.order;(V<_||D<V)&&!(K.dummy&&m.node($).dummy)&&s(b,X,$)})}),k=R+1,_=D)}),S}return e.reduce(y,x),b}function i(m,y){var b={};function x(S,_,k,O,P){var N;e.forEach(e.range(_,k),function(R){N=S[R],m.node(N).dummy&&e.forEach(m.predecessors(N),function(L){var D=m.node(L);D.dummy&&(D.order<O||D.order>P)&&s(b,L,N)})})}function E(S,_){var k=-1,O,P=0;return e.forEach(_,function(N,R){if(m.node(N).dummy==="border"){var L=m.predecessors(N);L.length&&(O=m.node(L[0]).order,x(_,P,R,k,O),P=R,k=O)}x(_,P,_.length,O,S.length)}),_}return e.reduce(y,E),b}function a(m,y){if(m.node(y).dummy)return e.find(m.predecessors(y),function(b){return m.node(b).dummy})}function s(m,y,b){if(y>b){var x=y;y=b,b=x}var E=m[y];E||(m[y]=E={}),E[b]=!0}function o(m,y,b){if(y>b){var x=y;y=b,b=x}return e.has(m[y],b)}function l(m,y,b,x){var E={},S={},_={};return e.forEach(y,function(k){e.forEach(k,function(O,P){E[O]=O,S[O]=O,_[O]=P})}),e.forEach(y,function(k){var O=-1;e.forEach(k,function(P){var N=x(P);if(N.length){N=e.sortBy(N,function(X){return _[X]});for(var R=(N.length-1)/2,L=Math.floor(R),D=Math.ceil(R);L<=D;++L){var $=N[L];S[P]===P&&O<_[$]&&!o(b,P,$)&&(S[$]=P,S[P]=E[P]=E[$],O=_[$])}}})}),{root:E,align:S}}function u(m,y,b,x,E){var S={},_=c(m,y,b,E),k=E?"borderLeft":"borderRight";function O(R,L){for(var D=_.nodes(),$=D.pop(),X={};$;)X[$]?R($):(X[$]=!0,D.push($),D=D.concat(L($))),$=D.pop()}function P(R){S[R]=_.inEdges(R).reduce(function(L,D){return Math.max(L,S[D.v]+_.edge(D))},0)}function N(R){var L=_.outEdges(R).reduce(function($,X){return Math.min($,S[X.w]-_.edge(X))},Number.POSITIVE_INFINITY),D=m.node(R);L!==Number.POSITIVE_INFINITY&&D.borderType!==k&&(S[R]=Math.max(S[R],L))}return O(P,_.predecessors.bind(_)),O(N,_.successors.bind(_)),e.forEach(x,function(R){S[R]=S[b[R]]}),S}function c(m,y,b,x){var E=new t,S=m.graph(),_=v(S.nodesep,S.edgesep,x);return e.forEach(y,function(k){var O;e.forEach(k,function(P){var N=b[P];if(E.setNode(N),O){var R=b[O],L=E.edge(R,N);E.setEdge(R,N,Math.max(_(m,P,O),L||0))}O=P})}),E}function f(m,y){return e.minBy(e.values(y),function(b){var x=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY;return e.forIn(b,function(S,_){var k=g(m,_)/2;x=Math.max(S+k,x),E=Math.min(S-k,E)}),x-E})}function h(m,y){var b=e.values(y),x=e.min(b),E=e.max(b);e.forEach(["u","d"],function(S){e.forEach(["l","r"],function(_){var k=S+_,O=m[k],P;if(O!==y){var N=e.values(O);P=_==="l"?x-e.min(N):E-e.max(N),P&&(m[k]=e.mapValues(O,function(R){return R+P}))}})})}function d(m,y){return e.mapValues(m.ul,function(b,x){if(y)return m[y.toLowerCase()][x];var E=e.sortBy(e.map(m,x));return(E[1]+E[2])/2})}function p(m){var y=r.buildLayerMatrix(m),b=e.merge(n(m,y),i(m,y)),x={},E;e.forEach(["u","d"],function(_){E=_==="u"?y:e.values(y).reverse(),e.forEach(["l","r"],function(k){k==="r"&&(E=e.map(E,function(R){return e.values(R).reverse()}));var O=(_==="u"?m.predecessors:m.successors).bind(m),P=l(m,E,b,O),N=u(m,E,P.root,P.align,k==="r");k==="r"&&(N=e.mapValues(N,function(R){return-R})),x[_+k]=N})});var S=f(m,x);return h(x,S),d(x,m.graph().align)}function v(m,y,b){return function(x,E,S){var _=x.node(E),k=x.node(S),O=0,P;if(O+=_.width/2,e.has(_,"labelpos"))switch(_.labelpos.toLowerCase()){case"l":P=-_.width/2;break;case"r":P=_.width/2;break}if(P&&(O+=b?P:-P),P=0,O+=(_.dummy?y:m)/2,O+=(k.dummy?y:m)/2,O+=k.width/2,e.has(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":P=k.width/2;break;case"r":P=-k.width/2;break}return P&&(O+=b?P:-P),P=0,O}}function g(m,y){return m.node(y).width}return Ib}var Db,mR;function que(){if(mR)return Db;mR=1;var e=cr(),t=qn(),r=$ue().positionX;Db=n;function n(a){a=t.asNonCompoundGraph(a),i(a),e.forEach(r(a),function(s,o){a.node(o).x=s})}function i(a){var s=t.buildLayerMatrix(a),o=a.graph().ranksep,l=0;e.forEach(s,function(u){var c=e.max(e.map(u,function(f){return a.node(f).height}));e.forEach(u,function(f){a.node(f).y=l+c/2}),l+=c+o})}return Db}var Fb,yR;function zue(){if(yR)return Fb;yR=1;var e=cr(),t=_ue(),r=Eue(),n=kue(),i=qn().normalizeRanks,a=Tue(),s=qn().removeEmptyRanks,o=Mue(),l=Aue(),u=Oue(),c=Bue(),f=que(),h=qn(),d=Vi().Graph;Fb=p;function p(ee,U){var le=U&&U.debugTiming?h.time:h.notime;le("layout",function(){var Z=le("  buildLayoutGraph",function(){return O(ee)});le("  runLayout",function(){v(Z,le)}),le("  updateInputGraph",function(){g(ee,Z)})})}function v(ee,U){U("    makeSpaceForEdgeLabels",function(){P(ee)}),U("    removeSelfEdges",function(){ne(ee)}),U("    acyclic",function(){t.run(ee)}),U("    nestingGraph.run",function(){o.run(ee)}),U("    rank",function(){n(h.asNonCompoundGraph(ee))}),U("    injectEdgeLabelProxies",function(){N(ee)}),U("    removeEmptyRanks",function(){s(ee)}),U("    nestingGraph.cleanup",function(){o.cleanup(ee)}),U("    normalizeRanks",function(){i(ee)}),U("    assignRankMinMax",function(){R(ee)}),U("    removeEdgeLabelProxies",function(){L(ee)}),U("    normalize.run",function(){r.run(ee)}),U("    parentDummyChains",function(){a(ee)}),U("    addBorderSegments",function(){l(ee)}),U("    order",function(){c(ee)}),U("    insertSelfEdges",function(){we(ee)}),U("    adjustCoordinateSystem",function(){u.adjust(ee)}),U("    position",function(){f(ee)}),U("    positionSelfEdges",function(){Se(ee)}),U("    removeBorderNodes",function(){V(ee)}),U("    normalize.undo",function(){r.undo(ee)}),U("    fixupEdgeLabelCoords",function(){X(ee)}),U("    undoCoordinateSystem",function(){u.undo(ee)}),U("    translateGraph",function(){D(ee)}),U("    assignNodeIntersects",function(){$(ee)}),U("    reversePoints",function(){K(ee)}),U("    acyclic.undo",function(){t.undo(ee)})}function g(ee,U){e.forEach(ee.nodes(),function(le){var Z=ee.node(le),se=U.node(le);Z&&(Z.x=se.x,Z.y=se.y,U.children(le).length&&(Z.width=se.width,Z.height=se.height))}),e.forEach(ee.edges(),function(le){var Z=ee.edge(le),se=U.edge(le);Z.points=se.points,e.has(se,"x")&&(Z.x=se.x,Z.y=se.y)}),ee.graph().width=U.graph().width,ee.graph().height=U.graph().height}var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],E={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function O(ee){var U=new d({multigraph:!0,compound:!0}),le=qe(ee.graph());return U.setGraph(e.merge({},y,pe(le,m),e.pick(le,b))),e.forEach(ee.nodes(),function(Z){var se=qe(ee.node(Z));U.setNode(Z,e.defaults(pe(se,x),E)),U.setParent(Z,ee.parent(Z))}),e.forEach(ee.edges(),function(Z){var se=qe(ee.edge(Z));U.setEdge(Z,e.merge({},_,pe(se,S),e.pick(se,k)))}),U}function P(ee){var U=ee.graph();U.ranksep/=2,e.forEach(ee.edges(),function(le){var Z=ee.edge(le);Z.minlen*=2,Z.labelpos.toLowerCase()!=="c"&&(U.rankdir==="TB"||U.rankdir==="BT"?Z.width+=Z.labeloffset:Z.height+=Z.labeloffset)})}function N(ee){e.forEach(ee.edges(),function(U){var le=ee.edge(U);if(le.width&&le.height){var Z=ee.node(U.v),se=ee.node(U.w),ve={rank:(se.rank-Z.rank)/2+Z.rank,e:U};h.addDummyNode(ee,"edge-proxy",ve,"_ep")}})}function R(ee){var U=0;e.forEach(ee.nodes(),function(le){var Z=ee.node(le);Z.borderTop&&(Z.minRank=ee.node(Z.borderTop).rank,Z.maxRank=ee.node(Z.borderBottom).rank,U=e.max(U,Z.maxRank))}),ee.graph().maxRank=U}function L(ee){e.forEach(ee.nodes(),function(U){var le=ee.node(U);le.dummy==="edge-proxy"&&(ee.edge(le.e).labelRank=le.rank,ee.removeNode(U))})}function D(ee){var U=Number.POSITIVE_INFINITY,le=0,Z=Number.POSITIVE_INFINITY,se=0,ve=ee.graph(),ge=ve.marginx||0,Me=ve.marginy||0;function W(H){var oe=H.x,ce=H.y,xe=H.width,de=H.height;U=Math.min(U,oe-xe/2),le=Math.max(le,oe+xe/2),Z=Math.min(Z,ce-de/2),se=Math.max(se,ce+de/2)}e.forEach(ee.nodes(),function(H){W(ee.node(H))}),e.forEach(ee.edges(),function(H){var oe=ee.edge(H);e.has(oe,"x")&&W(oe)}),U-=ge,Z-=Me,e.forEach(ee.nodes(),function(H){var oe=ee.node(H);oe.x-=U,oe.y-=Z}),e.forEach(ee.edges(),function(H){var oe=ee.edge(H);e.forEach(oe.points,function(ce){ce.x-=U,ce.y-=Z}),e.has(oe,"x")&&(oe.x-=U),e.has(oe,"y")&&(oe.y-=Z)}),ve.width=le-U+ge,ve.height=se-Z+Me}function $(ee){e.forEach(ee.edges(),function(U){var le=ee.edge(U),Z=ee.node(U.v),se=ee.node(U.w),ve,ge;le.points?(ve=le.points[0],ge=le.points[le.points.length-1]):(le.points=[],ve=se,ge=Z),le.points.unshift(h.intersectRect(Z,ve)),le.points.push(h.intersectRect(se,ge))})}function X(ee){e.forEach(ee.edges(),function(U){var le=ee.edge(U);if(e.has(le,"x"))switch((le.labelpos==="l"||le.labelpos==="r")&&(le.width-=le.labeloffset),le.labelpos){case"l":le.x-=le.width/2+le.labeloffset;break;case"r":le.x+=le.width/2+le.labeloffset;break}})}function K(ee){e.forEach(ee.edges(),function(U){var le=ee.edge(U);le.reversed&&le.points.reverse()})}function V(ee){e.forEach(ee.nodes(),function(U){if(ee.children(U).length){var le=ee.node(U),Z=ee.node(le.borderTop),se=ee.node(le.borderBottom),ve=ee.node(e.last(le.borderLeft)),ge=ee.node(e.last(le.borderRight));le.width=Math.abs(ge.x-ve.x),le.height=Math.abs(se.y-Z.y),le.x=ve.x+le.width/2,le.y=Z.y+le.height/2}}),e.forEach(ee.nodes(),function(U){ee.node(U).dummy==="border"&&ee.removeNode(U)})}function ne(ee){e.forEach(ee.edges(),function(U){if(U.v===U.w){var le=ee.node(U.v);le.selfEdges||(le.selfEdges=[]),le.selfEdges.push({e:U,label:ee.edge(U)}),ee.removeEdge(U)}})}function we(ee){var U=h.buildLayerMatrix(ee);e.forEach(U,function(le){var Z=0;e.forEach(le,function(se,ve){var ge=ee.node(se);ge.order=ve+Z,e.forEach(ge.selfEdges,function(Me){h.addDummyNode(ee,"selfedge",{width:Me.label.width,height:Me.label.height,rank:ge.rank,order:ve+ ++Z,e:Me.e,label:Me.label},"_se")}),delete ge.selfEdges})})}function Se(ee){e.forEach(ee.nodes(),function(U){var le=ee.node(U);if(le.dummy==="selfedge"){var Z=ee.node(le.e.v),se=Z.x+Z.width/2,ve=Z.y,ge=le.x-se,Me=Z.height/2;ee.setEdge(le.e,le.label),ee.removeNode(U),le.label.points=[{x:se+2*ge/3,y:ve-Me},{x:se+5*ge/6,y:ve-Me},{x:se+ge,y:ve},{x:se+5*ge/6,y:ve+Me},{x:se+2*ge/3,y:ve+Me}],le.label.x=le.x,le.label.y=le.y}})}function pe(ee,U){return e.mapValues(e.pick(ee,U),Number)}function qe(ee){var U={};return e.forEach(ee,function(le,Z){U[Z.toLowerCase()]=le}),U}return Fb}var Bb,bR;function jue(){if(bR)return Bb;bR=1;var e=cr(),t=qn(),r=Vi().Graph;Bb={debugOrdering:n};function n(i){var a=t.buildLayerMatrix(i),s=new r({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(o){s.setNode(o,{label:o}),s.setParent(o,"layer"+i.node(o).rank)}),e.forEach(i.edges(),function(o){s.setEdge(o.v,o.w,{},o.name)}),e.forEach(a,function(o,l){var u="layer"+l;s.setNode(u,{rank:"same"}),e.reduce(o,function(c,f){return s.setEdge(c,f,{style:"invis"}),f})}),s}return Bb}var $b,wR;function Gue(){return wR||(wR=1,$b="0.8.5"),$b}var qb,xR;function Wue(){return xR||(xR=1,qb={graphlib:Vi(),layout:zue(),debug:jue(),util:{time:qn().time,notime:qn().notime},version:Gue()}),qb}var pB=Wue();const Vue=ap(pB);class Q2{constructor(t){this.id="dagre",this.options={},Object.assign(this.options,Q2.defaultOptions,t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,Object.assign(Object.assign({},this.options),r))})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,Object.assign(Object.assign({},this.options),r))})}genericDagreLayout(t,r,n){return ft(this,void 0,void 0,function*(){const{nodeSize:i}=n,a=new pB.graphlib.Graph;a.setGraph(n),a.setDefaultEdgeLabel(()=>({}));const s=r.getAllNodes(),o=r.getAllEdges();[...s,...o].some(({id:u})=>Ye(u))&&console.error("Dagre layout only support string id, it will convert number to string."),r.getAllNodes().forEach(u=>{const{id:c}=u,f=Object.assign({},u.data);if(i!==void 0){const[h,d]=Vc(Ht(i)?i(u):i);Object.assign(f,{width:h,height:d})}a.setNode(c.toString(),f)}),r.getAllEdges().forEach(({id:u,source:c,target:f})=>{a.setEdge(c.toString(),f.toString(),{id:u})}),Vue.layout(a);const l={nodes:[],edges:[]};return a.nodes().forEach(u=>{const c=a.node(u);l.nodes.push({id:u,data:c}),t&&r.mergeNodeData(u,c)}),a.edges().forEach(u=>{const c=a.edge(u),{id:f}=c,h=gr(c,["id"]),{v:d,w:p}=u;l.edges.push({id:f,source:d,target:p,data:h}),t&&r.mergeEdgeData(f,h)}),l})}}Q2.defaultOptions={};class J2{constructor(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}distanceTo(t){const r=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(r,n)}setPos(t,r){this.rx=t,this.ry=r}resetForce(){this.fx=0,this.fy=0}addForce(t){const r=t.rx-this.rx,n=t.ry-this.ry;let i=Math.hypot(r,n);i=i<1e-4?1e-4:i;const a=this.g*(this.degree+1)*(t.degree+1)/i;this.fx+=a*r/i,this.fy+=a*n/i}in(t){return t.contains(this.rx,this.ry)}add(t){const r=this.mass+t.mass,n=(this.rx*this.mass+t.rx*t.mass)/r,i=(this.ry*this.mass+t.ry*t.mass)/r,a=this.degree+t.degree,s={rx:n,ry:i,mass:r,degree:a};return new J2(s)}}class cl{constructor(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}getLength(){return this.length}contains(t,r){const n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&r<=this.ymid+n&&r>=this.ymid-n}NW(){const t=this.xmid-this.length/4,r=this.ymid+this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new cl(i)}NE(){const t=this.xmid+this.length/4,r=this.ymid+this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new cl(i)}SW(){const t=this.xmid-this.length/4,r=this.ymid-this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new cl(i)}SE(){const t=this.xmid+this.length/4,r=this.ymid-this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new cl(i)}}class fl{constructor(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,t!=null&&(this.quad=t)}insert(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new fl(this.quad.NW()),this.NE=new fl(this.quad.NE()),this.SW=new fl(this.quad.SW()),this.SE=new fl(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}_putBody(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{const r=this.quad?this.quad.getLength():0,n=this.body.distanceTo(t);r/n<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}const Uue={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class Yve{constructor(t={}){this.options=t,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},Uue),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,t,r)})}genericForceAtlas2Layout(t,r,n){return ft(this,void 0,void 0,function*(){const i=r.getAllEdges(),a=r.getAllNodes(),s=this.formatOptions(n,a.length),{width:o,height:l,prune:u,maxIteration:c,nodeSize:f,center:h}=s;if(!(a!=null&&a.length)||a.length===1)return Go(r,t,h);const d=a.map(m=>ti(m,[o,l])),p=i.filter(m=>{const{source:y,target:b}=m;return y!==b}),v=new Wr({nodes:d,edges:p}),g=this.getSizes(v,f);if(this.run(v,r,c,g,t,s),u){for(let y=0;y<p.length;y+=1){const{source:b,target:x}=p[y],E=v.getDegree(b),S=v.getDegree(b);if(E<=1){const _=v.getNode(x);v.mergeNodeData(b,{x:_.data.x,y:_.data.y})}else if(S<=1){const _=v.getNode(b);v.mergeNodeData(x,{x:_.data.x,y:_.data.y})}}const m=Object.assign(Object.assign({},s),{prune:!1,barnesHut:!1});this.run(v,r,100,g,t,m)}return{nodes:d,edges:i}})}getSizes(t,r){const n=t.getAllNodes(),i={};for(let a=0;a<n.length;a+=1){const s=n[a];i[s.id]=N2(r,void 0)(s)}return i}formatOptions(t={},r){const n=Object.assign(Object.assign({},this.options),t),{center:i,width:a,height:s,barnesHut:o,prune:l,maxIteration:u,kr:c,kg:f}=n;return n.width=!a&&typeof window<"u"?window.innerWidth:a,n.height=!s&&typeof window<"u"?window.innerHeight:s,n.center=i||[n.width/2,n.height/2],o===void 0&&r>250&&(n.barnesHut=!0),l===void 0&&r>100&&(n.prune=!0),u===0&&!l?(n.maxIteration=250,r<=200&&r>100?n.maxIteration=1e3:r>200&&(n.maxIteration=1200)):u===0&&l&&(n.maxIteration=100,r<=200&&r>100?n.maxIteration=500:r>200&&(n.maxIteration=950)),c||(n.kr=50,r>100&&r<=500?n.kr=20:r>500&&(n.kr=1)),f||(n.kg=20,r>100&&r<=500?n.kg=10:r>500&&(n.kg=1)),n}run(t,r,n,i,a,s){const{kr:o,barnesHut:l,onTick:u}=s,c=t.getAllNodes();let f=0,h=n;const d={},p={},v={};for(let g=0;g<c.length;g+=1){const{data:m,id:y}=c[g];if(d[y]=[0,0],l){const b={id:g,rx:m.x,ry:m.y,mass:1,g:o,degree:t.getDegree(y)};v[y]=new J2(b)}}for(;h>0;)f=this.oneStep(t,{iter:h,preventOverlapIters:50,krPrime:100,sg:f,forces:d,preForces:p,bodies:v,sizes:i},s),h--,u==null||u({nodes:c,edges:r.getAllEdges()});return t}oneStep(t,r,n){const{iter:i,preventOverlapIters:a,krPrime:s,sg:o,preForces:l,bodies:u,sizes:c}=r;let{forces:f}=r;const{preventOverlap:h,barnesHut:d}=n,p=t.getAllNodes();for(let v=0;v<p.length;v+=1){const{id:g}=p[v];l[g]=[...f[g]],f[g]=[0,0]}return f=this.getAttrForces(t,i,a,c,f,n),d&&(h&&i>a||!h)?f=this.getOptRepGraForces(t,f,u,n):f=this.getRepGraForces(t,i,a,f,s,c,n),this.updatePos(t,f,l,o,n)}getAttrForces(t,r,n,i,a,s){const{preventOverlap:o,dissuadeHubs:l,mode:u,prune:c}=s,f=t.getAllEdges();for(let h=0;h<f.length;h+=1){const{source:d,target:p}=f[h],v=t.getNode(d),g=t.getNode(p),m=t.getDegree(d),y=t.getDegree(p);if(c&&(m<=1||y<=1))continue;const b=[g.data.x-v.data.x,g.data.y-v.data.y];let x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x,o&&r<n&&(x=x-i[d]-i[p]);let E=x,S=E;u==="linlog"&&(E=Math.log(1+x),S=E),l&&(E=x/m,S=x/y),o&&r<n&&x<=0?(E=0,S=0):o&&r<n&&x>0&&(E=x,S=x),a[d][0]+=E*b[0],a[p][0]-=S*b[0],a[d][1]+=E*b[1],a[p][1]-=S*b[1]}return a}getOptRepGraForces(t,r,n,i){const{kg:a,center:s,prune:o}=i,l=t.getAllNodes(),u=l.length;let c=9e10,f=-9e10,h=9e10,d=-9e10;for(let y=0;y<u;y+=1){const{id:b,data:x}=l[y];o&&t.getDegree(b)<=1||(n[b].setPos(x.x,x.y),x.x>=f&&(f=x.x),x.x<=c&&(c=x.x),x.y>=d&&(d=x.y),x.y<=h&&(h=x.y))}const p=Math.max(f-c,d-h),v={xmid:(f+c)/2,ymid:(d+h)/2,length:p,massCenter:s,mass:u},g=new cl(v),m=new fl(g);for(let y=0;y<u;y+=1){const{id:b}=l[y];o&&t.getDegree(b)<=1||n[b].in(g)&&m.insert(n[b])}for(let y=0;y<u;y+=1){const{id:b,data:x}=l[y],E=t.getDegree(b);if(o&&E<=1)continue;n[b].resetForce(),m.updateForce(n[b]),r[b][0]-=n[b].fx,r[b][1]-=n[b].fy;const S=[x.x-s[0],x.y-s[1]];let _=Math.hypot(S[0],S[1]);_=_<1e-4?1e-4:_,S[0]=S[0]/_,S[1]=S[1]/_;const k=a*(E+1);r[b][0]-=k*S[0],r[b][1]-=k*S[1]}return r}getRepGraForces(t,r,n,i,a,s,o){const{preventOverlap:l,kr:u,kg:c,center:f,prune:h}=o,d=t.getAllNodes(),p=d.length;for(let v=0;v<p;v+=1){const g=d[v],m=t.getDegree(g.id);for(let E=v+1;E<p;E+=1){const S=d[E],_=t.getDegree(S.id);if(h&&(m<=1||_<=1))continue;const k=[S.data.x-g.data.x,S.data.y-g.data.y];let O=Math.hypot(k[0],k[1]);O=O<1e-4?1e-4:O,k[0]=k[0]/O,k[1]=k[1]/O,l&&r<n&&(O=O-s[g.id]-s[S.id]);let P=u*(m+1)*(_+1)/O;l&&r<n&&O<0?P=a*(m+1)*(_+1):l&&r<n&&O===0?P=0:l&&r<n&&O>0&&(P=u*(m+1)*(_+1)/O),i[g.id][0]-=P*k[0],i[S.id][0]+=P*k[0],i[g.id][1]-=P*k[1],i[S.id][1]+=P*k[1]}const y=[g.data.x-f[0],g.data.y-f[1]],b=Math.hypot(y[0],y[1]);y[0]=y[0]/b,y[1]=y[1]/b;const x=c*(m+1);i[g.id][0]-=x*y[0],i[g.id][1]-=x*y[1]}return i}updatePos(t,r,n,i,a){const{ks:s,tao:o,prune:l,ksmax:u}=a,c=t.getAllNodes(),f=c.length,h=[],d=[];let p=0,v=0,g=i;for(let y=0;y<f;y+=1){const{id:b}=c[y],x=t.getDegree(b);if(l&&x<=1)continue;const E=[r[b][0]-n[b][0],r[b][1]-n[b][1]],S=Math.hypot(E[0],E[1]),_=[r[b][0]+n[b][0],r[b][1]+n[b][1]],k=Math.hypot(_[0],_[1]);h[y]=S,d[y]=k/2,p+=(x+1)*h[y],v+=(x+1)*d[y]}const m=g;g=o*v/p,m!==0&&(g=g>1.5*m?1.5*m:g);for(let y=0;y<f;y+=1){const{id:b,data:x}=c[y],E=t.getDegree(b);if(l&&E<=1||Ye(x.fx)&&Ye(x.fy))continue;let S=s*g/(1+g*Math.sqrt(h[y])),_=Math.hypot(r[b][0],r[b][1]);_=_<1e-4?1e-4:_;const k=u/_;S=S>k?k:S;const O=S*r[b][0],P=S*r[b][1];t.mergeNodeData(b,{x:x.x+O,y:x.y+P})}return g}}const Hue={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},Yue=800;class Xve{constructor(t={}){this.options=t,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},Hue),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,t,r)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let n=0;n<t;n++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const r={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&r.nodes.forEach(n=>this.lastGraph.mergeNodeData(n.id,{x:n.data.x,y:n.data.y,z:this.options.dimensions===3?n.data.z:void 0})),r}genericFruchtermanLayout(t,r,n){return ft(this,void 0,void 0,function*(){if(this.running)return;const i=this.formatOptions(n),{dimensions:a,width:s,height:o,center:l,clustering:u,nodeClusterBy:c,maxIteration:f,onTick:h}=i,d=r.getAllNodes(),p=r.getAllEdges();if(!(d!=null&&d.length)){const b={nodes:[],edges:p};return this.lastResult=b,b}if(d.length===1){t&&r.mergeNodeData(d[0].id,{x:l[0],y:l[1],z:a===3?l[2]:void 0});const b={nodes:[Object.assign(Object.assign({},d[0]),{data:Object.assign(Object.assign({},d[0].data),{x:l[0],y:l[1],z:a===3?l[2]:void 0})})],edges:p};return this.lastResult=b,b}const v=d.map(b=>ti(b,[s,o])),g=new Wr({nodes:v,edges:p}),m={};if(u&&v.forEach(b=>{const x=b.data[c];m[x]||(m[x]={name:x,cx:0,cy:0,count:0})}),this.lastLayoutNodes=v,this.lastLayoutEdges=p,this.lastAssign=t,this.lastGraph=g,this.lastOptions=i,this.lastClusterMap=m,typeof window>"u")return;let y=0;return new Promise(b=>{this.timeInterval=window.setInterval(()=>{if(!this.running){b({nodes:v,edges:p});return}this.runOneStep(g,m,i),t&&v.forEach(({id:x,data:E})=>r.mergeNodeData(x,{x:E.x,y:E.y,z:a===3?E.z:void 0})),h==null||h({nodes:v,edges:p}),y++,y>=f&&(window.clearInterval(this.timeInterval),b({nodes:v,edges:p}))},0),this.running=!0})})}formatOptions(t={}){const r=Object.assign(Object.assign({},this.options),t),{clustering:n,nodeClusterBy:i}=r,{center:a,width:s,height:o}=r;return r.width=!s&&typeof window<"u"?window.innerWidth:s,r.height=!o&&typeof window<"u"?window.innerHeight:o,r.center=a||[r.width/2,r.height/2],r.clustering=n&&!!i,r}runOneStep(t,r,n){const{dimensions:i,height:a,width:s,gravity:o,center:l,speed:u,clustering:c,nodeClusterBy:f,clusterGravity:h}=n,d=a*s,p=Math.sqrt(d)/10,v=t.getAllNodes(),g=d/(v.length+1),m=Math.sqrt(g),y={};if(this.applyCalculate(t,y,m,g),c){for(const x in r)r[x].cx=0,r[x].cy=0,r[x].count=0;v.forEach(x=>{const{data:E}=x,S=r[E[f]];Ye(E.x)&&(S.cx+=E.x),Ye(E.y)&&(S.cy+=E.y),S.count++});for(const x in r)r[x].cx/=r[x].count,r[x].cy/=r[x].count;const b=h||o;v.forEach((x,E)=>{const{id:S,data:_}=x;if(!Ye(_.x)||!Ye(_.y))return;const k=r[_[f]],O=Math.sqrt((_.x-k.cx)*(_.x-k.cx)+(_.y-k.cy)*(_.y-k.cy)),P=m*b;y[S].x-=P*(_.x-k.cx)/O,y[S].y-=P*(_.y-k.cy)/O})}v.forEach((b,x)=>{const{id:E,data:S}=b;if(!Ye(S.x)||!Ye(S.y))return;const _=.01*m*o;y[E].x-=_*(S.x-l[0]),y[E].y-=_*(S.y-l[1]),i===3&&(y[E].z-=_*(S.z-l[2]))}),v.forEach((b,x)=>{const{id:E,data:S}=b;if(Ye(S.fx)&&Ye(S.fy)){S.x=S.fx,S.y=S.fy,i===3&&(S.z=S.fz);return}if(!Ye(S.x)||!Ye(S.y))return;const _=Math.sqrt(y[E].x*y[E].x+y[E].y*y[E].y+(i===3?y[E].z*y[E].z:0));if(_>0){const k=Math.min(p*(u/Yue),_);t.mergeNodeData(E,{x:S.x+y[E].x/_*k,y:S.y+y[E].y/_*k,z:i===3?S.z+y[E].z/_*k:void 0})}})}applyCalculate(t,r,n,i){this.calRepulsive(t,r,i),this.calAttractive(t,r,n)}calRepulsive(t,r,n){const i=t.getAllNodes();i.forEach(({data:a,id:s},o)=>{r[s]={x:0,y:0,z:0},i.forEach(({data:l,id:u},c)=>{if(o<=c||!Ye(a.x)||!Ye(l.x)||!Ye(a.y)||!Ye(l.y))return;let f=a.x-l.x,h=a.y-l.y,d=this.options.dimensions===3?a.z-l.z:0,p=f*f+h*h+d*d;p===0&&(p=1,f=.01,h=.01,d=.01);const v=n/p,g=f*v,m=h*v,y=d*v;r[s].x+=g,r[s].y+=m,r[u].x-=g,r[u].y-=m,this.options.dimensions===3&&(r[s].z+=y,r[u].z-=y)})})}calAttractive(t,r,n){t.getAllEdges().forEach(a=>{const{source:s,target:o}=a;if(!s||!o||s===o)return;const{data:l}=t.getNode(s),{data:u}=t.getNode(o);if(!Ye(u.x)||!Ye(l.x)||!Ye(u.y)||!Ye(l.y))return;const c=u.x-l.x,f=u.y-l.y,h=this.options.dimensions===3?u.z-l.z:0,d=Math.sqrt(c*c+f*f+h*h)/n,p=c*d,v=f*d,g=h*d;r[s].x+=p,r[s].y+=v,r[o].x-=p,r[o].y-=v,this.options.dimensions===3&&(r[s].z+=g,r[o].z-=g)})}}const Xue={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class Kve{constructor(t={}){this.options=t,this.id="grid",this.options=Object.assign(Object.assign({},Xue),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericGridLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,t,r)})}genericGridLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{begin:a=[0,0],condense:s,preventOverlapPadding:o,preventOverlap:l,rows:u,cols:c,nodeSpacing:f,nodeSize:h,width:d,height:p,position:v}=i;let{sortBy:g}=i;const m=r.getAllNodes(),y=r.getAllEdges(),b=m==null?void 0:m.length;if(!b||b===1)return Go(r,t,a);const x=m.map($=>ti($));g!=="id"&&(!Ft(g)||x[0].data[g]===void 0)&&(g="degree"),g==="degree"?x.sort(($,X)=>r.getDegree(X.id,"both")-r.getDegree($.id,"both")):g==="id"?x.sort(($,X)=>Ye(X.id)&&Ye($.id)?X.id-$.id:`${$.id}`.localeCompare(`${X.id}`)):x.sort(($,X)=>X.data[g]-$.data[g]);const E=!d&&typeof window<"u"?window.innerWidth:d,S=!p&&typeof window<"u"?window.innerHeight:p,_=b,k={rows:u,cols:c};if(u!=null&&c!=null)k.rows=u,k.cols=c;else if(u!=null&&c==null)k.rows=u,k.cols=Math.ceil(_/k.rows);else if(u==null&&c!=null)k.cols=c,k.rows=Math.ceil(_/k.cols);else{const $=Math.sqrt(_*S/E);k.rows=Math.round($),k.cols=Math.round(E/S*$)}if(k.rows=Math.max(k.rows,1),k.cols=Math.max(k.cols,1),k.cols*k.rows>_){const $=rh(k),X=nh(k);($-1)*X>=_?rh(k,$-1):(X-1)*$>=_&&nh(k,X-1)}else for(;k.cols*k.rows<_;){const $=rh(k),X=nh(k);(X+1)*$>=_?nh(k,X+1):rh(k,$+1)}let O=s?0:E/k.cols,P=s?0:S/k.rows;if(l||f){const $=Mo(10,f),X=P2(30,h,!1);x.forEach(K=>{(!K.data.x||!K.data.y)&&(K.data.x=0,K.data.y=0);const V=r.getNode(K.id),[ne,we]=Vc(X(V)||30),Se=$!==void 0?$(K):o,pe=ne+Se,qe=we+Se;O=Math.max(O,pe),P=Math.max(P,qe)})}const N={},R={row:0,col:0},L={};for(let $=0;$<x.length;$++){const X=x[$];let K;if(v&&(K=v(r.getNode(X.id))),K&&(K.row!==void 0||K.col!==void 0)){const V={row:K.row,col:K.col};if(V.col===void 0)for(V.col=0;Mx(N,V);)V.col++;else if(V.row===void 0)for(V.row=0;Mx(N,V);)V.row++;L[X.id]=V,vB(N,V)}Kue(X,a,O,P,L,k,R,N)}const D={nodes:x,edges:y};return t&&x.forEach($=>{r.mergeNodeData($.id,{x:$.data.x,y:$.data.y})}),D})}}const rh=(e,t)=>{let r;const n=e.rows||5,i=e.cols||5;return t==null?r=Math.min(n,i):Math.min(n,i)===e.rows?e.rows=t:e.cols=t,r},nh=(e,t)=>{let r;const n=e.rows||5,i=e.cols||5;return t==null?r=Math.max(n,i):Math.max(n,i)===e.rows?e.rows=t:e.cols=t,r},Mx=(e,t)=>e[`c-${t.row}-${t.col}`]||!1,vB=(e,t)=>e[`c-${t.row}-${t.col}`]=!0,_R=(e,t)=>{const r=e.cols||5;t.col++,t.col>=r&&(t.col=0,t.row++)},Kue=(e,t,r,n,i,a,s,o)=>{let l,u;const c=i[e.id];if(c)l=c.col*r+r/2+t[0],u=c.row*n+n/2+t[1];else{for(;Mx(o,s);)_R(a,s);l=s.col*r+r/2+t[0],u=s.row*n+n/2+t[1],vB(o,s),_R(a,s)}e.data.x=l,e.data.y=u},Zue=(e,t,r)=>{try{const n=Ss.mul(Ss.pow(t,2),-.5),i=n.mean("row"),a=n.mean("column"),s=n.mean();n.add(s).subRowVector(i).subColumnVector(a);const o=new u4(n),l=Ss.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(u=>Ss.mul([u],[l]).toJSON()[0].splice(0,e))}catch{const i=[];for(let a=0;a<t.length;a++){const s=Math.random()*r,o=Math.random()*r;i.push([s,o])}return i}},Que=800,Jue={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},ece=(e,t)=>{const r=Object.assign(Object.assign({},Jue),t),{positions:n,iterations:i,width:a,k:s,speed:o=100,strictRadial:l,focusIdx:u,radii:c=[],nodeSizeFunc:f}=r,h=e.getAllNodes(),d=[],p=a/10;for(let v=0;v<i;v++)n.forEach((g,m)=>{d[m]={x:0,y:0}}),tce(h,n,d,s,c,f),rce(n,d,o,l,u,p,a,c);return n},tce=(e,t,r,n,i,a)=>{t.forEach((s,o)=>{r[o]={x:0,y:0},t.forEach((l,u)=>{if(o===u||i[o]!==i[u])return;let c=s.x-l.x,f=s.y-l.y,h=Math.sqrt(c*c+f*f);if(h===0){h=1;const d=o>u?1:-1;c=.01*d,f=.01*d}if(h<a(e[o])/2+a(e[u])/2){const d=n*n/h;r[o].x+=c/h*d,r[o].y+=f/h*d}})})},rce=(e,t,r,n,i,a,s,o)=>{const l=a||s/10;return n&&t.forEach((u,c)=>{const f=e[c].x-e[i].x,h=e[c].y-e[i].y,d=Math.sqrt(f*f+h*h);let p=h/d,v=-f/d;const g=Math.sqrt(u.x*u.x+u.y*u.y);let m=Math.acos((p*u.x+v*u.y)/g);m>Math.PI/2&&(m-=Math.PI/2,p*=-1,v*=-1);const y=Math.cos(m)*g;u.x=p*y,u.y=v*y}),e.forEach((u,c)=>{if(c===i)return;const f=Math.sqrt(t[c].x*t[c].x+t[c].y*t[c].y);if(f>0&&c!==i){const h=Math.min(l*(r/Que),f);if(u.x+=t[c].x/f*h,u.y+=t[c].y/f*h,n){let d=u.x-e[i].x,p=u.y-e[i].y;const v=Math.sqrt(d*d+p*p);d=d/v*o[c],p=p/v*o[c],u.x=e[i].x+d,u.y=e[i].y+p}}}),e},nce={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class Zve{constructor(t={}){this.options=t,this.id="radial",this.options=Object.assign(Object.assign({},nce),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,t,r)})}genericRadialLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{width:a,height:s,center:o,focusNode:l,unitRadius:u,nodeSize:c,nodeSpacing:f,strictRadial:h,preventOverlap:d,maxPreventOverlapIteration:p,sortBy:v,linkDistance:g=50,sortStrength:m=10,maxIteration:y=1e3}=i,b=r.getAllNodes(),x=r.getAllEdges(),E=!a&&typeof window<"u"?window.innerWidth:a,S=!s&&typeof window<"u"?window.innerHeight:s,_=o||[E/2,S/2];if(!(b!=null&&b.length)||b.length===1)return Go(r,t,_);let k=b[0];if(Ft(l)){for(let Z=0;Z<b.length;Z++)if(b[Z].id===l){k=b[Z];break}}else k=l||b[0];const O=sce(b,k.id),P=a4({nodes:b,edges:x}),N=i4(P),R=lce(N,O);oce(N,O,R+1);const L=N[O];let D=E-_[0]>_[0]?_[0]:E-_[0],$=S-_[1]>_[1]?_[1]:S-_[1];D===0&&(D=E/2),$===0&&($=S/2);const X=Math.min(D,$),K=Math.max(...L),V=[],ne=u||X/K;L.forEach((Z,se)=>{V[se]=Z*ne});const we=ice(b,N,g,V,ne,v,m),Se=ace(we),pe=Zue(g,we,g);let qe=pe.map(([Z,se])=>({x:(isNaN(Z)?Math.random()*g:Z)-pe[O][0],y:(isNaN(se)?Math.random()*g:se)-pe[O][1]}));this.run(y,qe,Se,we,V,O);let ee;if(d){ee=N2(c,f);const Z={nodes:b,nodeSizeFunc:ee,positions:qe,radii:V,height:S,width:E,strictRadial:!!h,focusIdx:O,iterations:p||200,k:qe.length/4.5};qe=ece(r,Z)}const U=[];return qe.forEach((Z,se)=>{const ve=ti(b[se]);ve.data.x=Z.x+_[0],ve.data.y=Z.y+_[1],U.push(ve)}),t&&U.forEach(Z=>r.mergeNodeData(Z.id,{x:Z.data.x,y:Z.data.y})),{nodes:U,edges:x}})}run(t,r,n,i,a,s){for(let o=0;o<=t;o++){const l=o/t;this.oneIteration(l,r,a,i,n,s)}}oneIteration(t,r,n,i,a,s){const o=1-t;r.forEach((l,u)=>{const c=zM(l,{x:0,y:0}),f=c===0?0:1/c;if(u===s)return;let h=0,d=0,p=0;r.forEach((g,m)=>{if(u===m)return;const y=zM(l,g),b=y===0?0:1/y,x=i[m][u];p+=a[u][m],h+=a[u][m]*(g.x+x*(l.x-g.x)*b),d+=a[u][m]*(g.y+x*(l.y-g.y)*b)});const v=n[u]===0?0:1/n[u];p*=o,p+=t*v*v,h*=o,h+=t*v*l.x*f,l.x=h/p,d*=o,d+=t*v*l.y*f,l.y=d/p})}}const ice=(e,t,r,n,i,a,s)=>{if(!e)return[];const o=[];if(t){const l={};t.forEach((u,c)=>{const f=[];u.forEach((h,d)=>{var p,v;if(c===d)f.push(0);else if(n[c]===n[d])if(a==="data")f.push(h*(Math.abs(c-d)*s)/(n[c]/i));else if(a){let g,m;if(l[e[c].id])g=l[e[c].id];else{const y=(a==="id"?e[c].id:(p=e[c].data)===null||p===void 0?void 0:p[a])||0;Ft(y)?g=y.charCodeAt(0):g=y,l[e[c].id]=g}if(l[e[d].id])m=l[e[d].id];else{const y=(a==="id"?e[d].id:(v=e[d].data)===null||v===void 0?void 0:v[a])||0;Ft(y)?m=y.charCodeAt(0):m=y,l[e[d].id]=m}f.push(h*(Math.abs(g-m)*s)/(n[c]/i))}else f.push(h*r/(n[c]/i));else{const g=(r+i)/2;f.push(h*g)}}),o.push(f)})}return o},ace=e=>{const t=e.length,r=e[0].length,n=[];for(let i=0;i<t;i++){const a=[];for(let s=0;s<r;s++)e[i][s]!==0?a.push(1/(e[i][s]*e[i][s])):a.push(0);n.push(a)}return n},sce=(e,t)=>{let r=-1;return e.forEach((n,i)=>{n.id===t&&(r=i)}),Math.max(r,0)},oce=(e,t,r)=>{const n=e.length;for(let i=0;i<n;i++)if(e[t][i]===1/0){e[t][i]=r,e[i][t]=r;for(let a=0;a<n;a++)e[i][a]!==1/0&&e[t][a]===1/0&&(e[t][a]=r+e[i][a],e[a][t]=r+e[i][a])}for(let i=0;i<n;i++)if(i!==t){for(let a=0;a<n;a++)if(e[i][a]===1/0){let s=Math.abs(e[t][i]-e[t][a]);s=s===0?1:s,e[i][a]=s}}},lce=(e,t)=>{let r=0;for(let n=0;n<e[t].length;n++)e[t][n]!==1/0&&(r=e[t][n]>r?e[t][n]:r);return r},uce={center:[0,0],width:300,height:300};class Qve{constructor(t={}){this.options=t,this.id="random",this.options=Object.assign(Object.assign({},uce),t)}execute(t,r){return ft(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,t,r)})}assign(t,r){return ft(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,t,r)})}genericRandomLayout(t,r,n){return ft(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{center:a,width:s,height:o}=i,l=r.getAllNodes(),u=.9,c=!s&&typeof window<"u"?window.innerWidth:s,f=!o&&typeof window<"u"?window.innerHeight:o,h=a||[c/2,f/2],d=[];return l&&l.forEach(v=>{d.push({id:v.id,data:{x:(Math.random()-.5)*u*c+h[0],y:(Math.random()-.5)*u*f+h[1]}})}),t&&d.forEach(v=>r.mergeNodeData(v.id,{x:v.data.x,y:v.data.y})),{nodes:d,edges:r.getAllEdges()}})}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gB=Symbol("Comlink.proxy"),cce=Symbol("Comlink.endpoint"),mB=Symbol("Comlink.releaseProxy"),zb=Symbol("Comlink.finalizer"),Ph=Symbol("Comlink.thrown"),yB=e=>typeof e=="object"&&e!==null||typeof e=="function",fce={canHandle:e=>yB(e)&&e[gB],serialize(e){const{port1:t,port2:r}=new MessageChannel;return wB(e,t),[r,[r]]},deserialize(e){return e.start(),_B(e)}},hce={canHandle:e=>yB(e)&&Ph in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},bB=new Map([["proxy",fce],["throw",hce]]);function dce(e,t){for(const r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function wB(e,t=globalThis,r=["*"]){t.addEventListener("message",function n(i){if(!i||!i.data)return;if(!dce(r,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:a,type:s,path:o}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(vo);let u;try{const c=o.slice(0,-1).reduce((h,d)=>h[d],e),f=o.reduce((h,d)=>h[d],e);switch(s){case"GET":u=f;break;case"SET":c[o.slice(-1)[0]]=vo(i.data.value),u=!0;break;case"APPLY":u=f.apply(c,l);break;case"CONSTRUCT":{const h=new f(...l);u=bce(h)}break;case"ENDPOINT":{const{port1:h,port2:d}=new MessageChannel;wB(e,d),u=yce(h,[h])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[Ph]:0}}Promise.resolve(u).catch(c=>({value:c,[Ph]:0})).then(c=>{const[f,h]=kd(c);t.postMessage(Object.assign(Object.assign({},f),{id:a}),h),s==="RELEASE"&&(t.removeEventListener("message",n),xB(t),zb in e&&typeof e[zb]=="function"&&e[zb]())}).catch(c=>{const[f,h]=kd({value:new TypeError("Unserializable return value"),[Ph]:0});t.postMessage(Object.assign(Object.assign({},f),{id:a}),h)})}),t.start&&t.start()}function pce(e){return e.constructor.name==="MessagePort"}function xB(e){pce(e)&&e.close()}function _B(e,t){const r=new Map;return e.addEventListener("message",function(i){const{data:a}=i;if(!a||!a.id)return;const s=r.get(a.id);if(s)try{s(a)}finally{r.delete(a.id)}}),Ax(e,r,[],t)}function ih(e){if(e)throw new Error("Proxy has been released and is not useable")}function EB(e){return ol(e,new Map,{type:"RELEASE"}).then(()=>{xB(e)})}const Ed=new WeakMap,Sd="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(Ed.get(e)||0)-1;Ed.set(e,t),t===0&&EB(e)});function vce(e,t){const r=(Ed.get(t)||0)+1;Ed.set(t,r),Sd&&Sd.register(e,t,e)}function gce(e){Sd&&Sd.unregister(e)}function Ax(e,t,r=[],n=function(){}){let i=!1;const a=new Proxy(n,{get(s,o){if(ih(i),o===mB)return()=>{gce(a),EB(e),t.clear(),i=!0};if(o==="then"){if(r.length===0)return{then:()=>a};const l=ol(e,t,{type:"GET",path:r.map(u=>u.toString())}).then(vo);return l.then.bind(l)}return Ax(e,t,[...r,o])},set(s,o,l){ih(i);const[u,c]=kd(l);return ol(e,t,{type:"SET",path:[...r,o].map(f=>f.toString()),value:u},c).then(vo)},apply(s,o,l){ih(i);const u=r[r.length-1];if(u===cce)return ol(e,t,{type:"ENDPOINT"}).then(vo);if(u==="bind")return Ax(e,t,r.slice(0,-1));const[c,f]=ER(l);return ol(e,t,{type:"APPLY",path:r.map(h=>h.toString()),argumentList:c},f).then(vo)},construct(s,o){ih(i);const[l,u]=ER(o);return ol(e,t,{type:"CONSTRUCT",path:r.map(c=>c.toString()),argumentList:l},u).then(vo)}});return vce(a,e),a}function mce(e){return Array.prototype.concat.apply([],e)}function ER(e){const t=e.map(kd);return[t.map(r=>r[0]),mce(t.map(r=>r[1]))]}const SB=new WeakMap;function yce(e,t){return SB.set(e,t),e}function bce(e){return Object.assign(e,{[gB]:!0})}function kd(e){for(const[t,r]of bB)if(r.canHandle(e)){const[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},SB.get(e)||[]]}function vo(e){switch(e.type){case"HANDLER":return bB.get(e.name).deserialize(e.value);case"RAW":return e.value}}function ol(e,t,r,n){return new Promise(i=>{const a=wce();t.set(a,i),e.start&&e.start(),e.postMessage(Object.assign({id:a},r),n)})}function wce(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class Jve extends qF{constructor(t,r,n){super(),this.graph=t,this.layout=r,this.options=n,this.spawnWorker()}spawnWorker(){this.proxy=_B(new Worker(new URL("/json-viewer/assets/worker-CY73Iqy_.js",import.meta.url),{type:"module"})),this.running&&(this.running=!1,this.execute())}execute(){var t;return ft(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const r=this.layout.options,{onTick:n}=r,i=gr(r,["onTick"]),a={};Object.keys(i).forEach(u=>{Ht(i[u])||(a[u]=i[u])});const s={layout:{id:this.layout.id,options:a,iterations:(t=this.options)===null||t===void 0?void 0:t.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},o=new Float32Array([0]),[l]=yield this.proxy.calculateLayout(s,[o]);return l})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[mB]()}isRunning(){return this.running}}function eE(e,t,r,n,i,a){const s=e,o=t,l=r-s,u=n-o;let c=i-s,f=a-o,h=c*l+f*u,d=0;h<=0?d=0:(c=l-c,f=u-f,h=c*l+f*u,h<=0?d=0:d=h*h/(l*l+u*u));const p=c*c+f*f-d;return p<0?0:p}function Ts(e,t,r,n){return(e-r)*(e-r)+(t-n)*(t-n)}function SR(e,t,r,n,i){return Ts(e,t,r,n)<i*i}function xce(e){if(!Number.isFinite(e))return r=>r;if(e===0)return Math.round;const t=Math.pow(10,e);return r=>Math.round(r*t)/t}function kB(e){const t=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),n=Math.min(e.y1,e.y2),i=Math.max(e.y1,e.y2);return{x:t,y:n,x2:r,y2:i,width:r-t,height:i-n}}class Jr{constructor(t,r,n,i){this.x1=t,this.y1=r,this.x2=n,this.y2=i}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}draw(t){t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(t){return new Jr(t.x1,t.y1,t.x2,t.y2)}cuts(t,r){if(this.y1===this.y2||r<this.y1&&r<=this.y2||r>this.y1&&r>=this.y2||t>this.x1&&t>=this.x2)return!1;if(t<this.x1&&t<=this.x2)return!0;const n=this.x1+(r-this.y1)*(this.x2-this.x1)/(this.y2-this.y1);return t<=n}distSquare(t,r){return eE(this.x1,this.y1,this.x2,this.y2,t,r)}ptClose(t,r,n){if(this.x1<this.x2){if(t<this.x1-n||t>this.x2+n)return!1}else if(t<this.x2-n||t>this.x1+n)return!1;if(this.y1<this.y2){if(r<this.y1-n||r>this.y2+n)return!1}else if(r<this.y2-n||r>this.y1+n)return!1;return!0}}var pr;(function(e){e[e.POINT=1]="POINT",e[e.PARALLEL=2]="PARALLEL",e[e.COINCIDENT=3]="COINCIDENT",e[e.NONE=4]="NONE"})(pr||(pr={}));class jb{constructor(t,r=0,n=0){this.state=t,this.x=r,this.y=n}}function ah(e,t){const r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const a=r/i,s=n/i;return 0<=a&&a<=1&&0<=s&&s<=1?new jb(pr.POINT,e.x1+a*(e.x2-e.x1),e.y1+a*(e.y2-e.y1)):new jb(pr.NONE)}return new jb(r===0||n===0?pr.COINCIDENT:pr.PARALLEL)}function TB(e,t){const r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const a=r/i,s=n/i;if(0<=a&&a<=1&&0<=s&&s<=1)return a}return Number.POSITIVE_INFINITY}function _ce(e,t){function r(i,a,s,o){let l=TB(t,new Jr(i,a,s,o));return l=Math.abs(l-.5),l>=0&&l<=1?1:0}let n=r(e.x,e.y,e.x2,e.y);return n+=r(e.x,e.y,e.x,e.y2),n>1||(n+=r(e.x,e.y2,e.x2,e.y2),n>1)?!0:(n+=r(e.x2,e.y,e.x2,e.y2),n>0)}var vr;(function(e){e[e.LEFT=0]="LEFT",e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"})(vr||(vr={}));function Nh(e,t,r){const n=new Set;return e.width<=0?(n.add(vr.LEFT),n.add(vr.RIGHT)):t<e.x?n.add(vr.LEFT):t>e.x+e.width&&n.add(vr.RIGHT),e.height<=0?(n.add(vr.TOP),n.add(vr.BOTTOM)):r<e.y?n.add(vr.TOP):r>e.y+e.height&&n.add(vr.BOTTOM),n}function MB(e,t){let r=t.x1,n=t.y1;const i=t.x2,a=t.y2,s=Array.from(Nh(e,i,a));if(s.length===0)return!0;let o=Nh(e,r,n);for(;o.size!==0;){for(const l of s)if(o.has(l))return!1;if(o.has(vr.RIGHT)||o.has(vr.LEFT)){let l=e.x;o.has(vr.RIGHT)&&(l+=e.width),n=n+(l-r)*(a-n)/(i-r),r=l}else{let l=e.y;o.has(vr.BOTTOM)&&(l+=e.height),r=r+(l-n)*(i-r)/(a-n),n=l}o=Nh(e,r,n)}return!0}function Ece(e,t){let r=Number.POSITIVE_INFINITY,n=0;function i(a,s,o,l){let u=TB(t,new Jr(a,s,o,l));u=Math.abs(u-.5),u>=0&&u<=1&&(n++,u<r&&(r=u))}return i(e.x,e.y,e.x2,e.y),i(e.x,e.y,e.x,e.y2),n>1||(i(e.x,e.y2,e.x2,e.y2),n>1)?r:(i(e.x2,e.y,e.x2,e.y2),n===0?-1:r)}function Sce(e,t){let r=0;const n=ah(e,new Jr(t.x,t.y,t.x2,t.y));r+=n.state===pr.POINT?1:0;const i=ah(e,new Jr(t.x,t.y,t.x,t.y2));r+=i.state===pr.POINT?1:0;const a=ah(e,new Jr(t.x,t.y2,t.x2,t.y2));r+=a.state===pr.POINT?1:0;const s=ah(e,new Jr(t.x2,t.y,t.x2,t.y2));return r+=s.state===pr.POINT?1:0,{top:n,left:i,bottom:a,right:s,count:r}}class Sn{constructor(t,r,n,i){this.x=t,this.y=r,this.width=n,this.height=i}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(t){return new Sn(t.x,t.y,t.width,t.height)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}clone(){return new Sn(this.x,this.y,this.width,this.height)}add(t){const r=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x2,t.x+t.width),a=Math.max(this.y2,t.y+t.height);this.x=r,this.y=n,this.width=i-r,this.height=a-n}addPoint(t){const r=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x2,t.x),a=Math.max(this.y2,t.y);this.x=r,this.y=n,this.width=i-r,this.height=a-n}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(t){t.rect(this.x,this.y,this.width,this.height)}containsPt(t,r){return t>=this.x&&t<=this.x2&&r>=this.y&&r<=this.y2}get area(){return this.width*this.height}intersects(t){return this.area<=0||t.width<=0||t.height<=0?!1:t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x2&&t.y<this.y2}distSquare(t,r){if(this.containsPt(t,r))return 0;const n=Nh(this,t,r);return n.has(vr.TOP)?n.has(vr.LEFT)?Ts(t,r,this.x,this.y):n.has(vr.RIGHT)?Ts(t,r,this.x2,this.y):(this.y-r)*(this.y-r):n.has(vr.BOTTOM)?n.has(vr.LEFT)?Ts(t,r,this.x,this.y2):n.has(vr.RIGHT)?Ts(t,r,this.x2,this.y2):(r-this.y2)*(r-this.y2):n.has(vr.LEFT)?(this.x-t)*(this.x-t):n.has(vr.RIGHT)?(t-this.x2)*(t-this.x2):0}}function kce(e){if(e.length===0)return null;const t=e[0],r=new Sn(t.x,t.y,0,0);for(const n of e)r.addPoint(n);return r}class Td{constructor(t,r,n){this.cx=t,this.cy=r,this.radius=n}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return this.radius*2}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return this.radius*2}static from(t){return new Td(t.cx,t.cy,t.radius)}containsPt(t,r){return Ts(this.cx,this.cy,t,r)<this.radius*this.radius}distSquare(t,r){const n=Ts(this.cx,this.cy,t,r);if(n<this.radius*this.radius)return 0;const i=Math.sqrt(n)-this.radius;return i*i}draw(t){t.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,Math.PI*2)}}class Ao{constructor(t,r=0,n=0,i=0,a=0,s=10,o=10,l=new Float32Array(Math.max(0,s*o)).fill(0)){this.pixelGroup=t,this.i=r,this.j=n,this.pixelX=i,this.pixelY=a,this.width=s,this.height=o,this.area=l}createSub(t,r){return new Ao(this.pixelGroup,t.x,t.y,r.x,r.y,t.width,t.height)}static fromPixelRegion(t,r){return new Ao(r,0,0,t.x,t.y,Math.ceil(t.width/r),Math.ceil(t.height/r))}copy(t,r){return new Ao(this.pixelGroup,this.scaleX(r.x),this.scaleY(r.y),r.x,r.y,t.width,t.height,t.area)}boundX(t){return t<this.i?this.i:t>=this.width?this.width-1:t}boundY(t){return t<this.j?this.j:t>=this.height?this.height-1:t}scaleX(t){return this.boundX(Math.floor((t-this.pixelX)/this.pixelGroup))}scaleY(t){return this.boundY(Math.floor((t-this.pixelY)/this.pixelGroup))}scale(t){const r=this.scaleX(t.x),n=this.scaleY(t.y),i=this.boundX(Math.ceil((t.x+t.width-this.pixelX)/this.pixelGroup)),a=this.boundY(Math.ceil((t.y+t.height-this.pixelY)/this.pixelGroup)),s=i-r,o=a-n;return new Sn(r,n,s,o)}invertScaleX(t){return Math.round(t*this.pixelGroup+this.pixelX)}invertScaleY(t){return Math.round(t*this.pixelGroup+this.pixelY)}addPadding(t,r){const n=Math.ceil(r/this.pixelGroup),i=this.boundX(t.x-n),a=this.boundY(t.y-n),s=this.boundX(t.x2+n),o=this.boundY(t.y2+n),l=s-i,u=o-a;return new Sn(i,a,l,u)}get(t,r){return t<0||r<0||t>=this.width||r>=this.height?Number.NaN:this.area[t+r*this.width]}inc(t,r,n){t<0||r<0||t>=this.width||r>=this.height||(this.area[t+r*this.width]+=n)}set(t,r,n){t<0||r<0||t>=this.width||r>=this.height||(this.area[t+r*this.width]=n)}incArea(t,r){if(t.width<=0||t.height<=0||r===0)return;const n=this.width,i=t.width,a=Math.max(0,t.i),s=Math.max(0,t.j),o=Math.min(t.i+t.width,n),l=Math.min(t.j+t.height,this.height);if(!(l<=0||o<=0||a>=n||l>=this.height))for(let u=s;u<l;u++){const c=(u-t.j)*i,f=u*n;for(let h=a;h<o;h++){const d=t.area[h-t.i+c];d!==0&&(this.area[h+f]+=r*d)}}}fill(t){this.area.fill(t)}fillArea(t,r){const n=t.x+t.y*this.width;for(let i=0;i<t.height;i++){const a=n+i*this.width;this.area.fill(r,a,a+t.width)}}fillHorizontalLine(t,r,n,i){const a=t+r*this.width;this.area.fill(i,a,a+n)}fillVerticalLine(t,r,n,i){const a=t+r*this.width;for(let s=0;s<n;s++)this.area[a+s*this.width]=i}clear(){this.area.fill(0)}toString(){let t="";for(let r=0;r<this.height;r++){const n=r*this.width;for(let i=0;i<this.width;i++){const a=this.area[n+i];t+=a.toFixed(1).padStart(6),t+=" "}t+=`
`}return t}draw(t,r=!0){if(this.width<=0||this.height<=0)return;t.save(),r&&t.translate(this.pixelX,this.pixelY);const n=this.area.reduce((s,o)=>Math.min(s,o),Number.POSITIVE_INFINITY),i=this.area.reduce((s,o)=>Math.max(s,o),Number.NEGATIVE_INFINITY),a=s=>(s-n)/(i-n);t.scale(this.pixelGroup,this.pixelGroup);for(let s=0;s<this.width;s++)for(let o=0;o<this.height;o++){const l=this.area[s+o*this.width];t.fillStyle=`rgba(0, 0, 0, ${a(l)})`,t.fillRect(s,o,1,1)}t.restore()}drawThreshold(t,r,n=!0){if(!(this.width<=0||this.height<=0)){t.save(),n&&t.translate(this.pixelX,this.pixelY),t.scale(this.pixelGroup,this.pixelGroup);for(let i=0;i<this.width;i++)for(let a=0;a<this.height;a++){const s=this.area[i+a*this.width];t.fillStyle=s>r?"black":"white",t.fillRect(i,a,1,1)}t.restore()}}}function AB(e,t){const r=n=>({x:n.x-t,y:n.y-t,width:n.width+2*t,height:n.height+2*t});return Array.isArray(e)?e.map(r):r(e)}function kR(e,t,r){return OB(Object.assign(kB(e),{distSquare:(n,i)=>eE(e.x1,e.y1,e.x2,e.y2,n,i)}),t,r)}function OB(e,t,r){const n=AB(e,r),i=t.scale(n),a=t.createSub(i,n);return Tce(a,t,r,(s,o)=>e.distSquare(s,o)),a}function Tce(e,t,r,n){const i=r*r;for(let a=0;a<e.height;a++)for(let s=0;s<e.width;s++){const o=t.invertScaleX(e.i+s),l=t.invertScaleY(e.j+a),u=n(o,l);if(u===0){e.set(s,a,i);continue}if(u<i){const c=r-Math.sqrt(u);e.set(s,a,c*c)}}return e}function Mce(e,t,r){const n=t.scale(e),i=t.addPadding(n,r),a=t.createSub(i,{x:e.x-r,y:e.y-r}),s=n.x-i.x,o=n.y-i.y,l=i.x2-n.x2,u=i.y2-n.y2,c=i.width-s-l,f=i.height-o-u,h=r*r;a.fillArea({x:s,y:o,width:c+1,height:f+1},h);const d=[0],p=Math.max(o,s,l,u);{const y=t.invertScaleX(n.x+n.width/2);for(let b=1;b<p;b++){const x=t.invertScaleY(n.y-b),E=e.distSquare(y,x);if(E<h){const S=r-Math.sqrt(E);d.push(S*S)}else break}}const v=[],g=Math.max(s,l),m=Math.max(o,l);for(let y=1;y<g;y++){const b=t.invertScaleX(n.x-y),x=[];for(let E=1;E<m;E++){const S=t.invertScaleY(n.y-E),_=e.distSquare(b,S);if(_<h){const k=r-Math.sqrt(_);x.push(k*k)}else x.push(0)}v.push(x)}for(let y=1;y<Math.min(o,d.length);y++){const b=d[y];a.fillHorizontalLine(s,o-y,c+1,b)}for(let y=1;y<Math.min(u,d.length);y++){const b=d[y];a.fillHorizontalLine(s,o+f+y,c+1,b)}for(let y=1;y<Math.min(s,d.length);y++){const b=d[y];a.fillVerticalLine(s-y,o,f+1,b)}for(let y=1;y<Math.min(u,d.length);y++){const b=d[y];a.fillVerticalLine(s+c+y,o,f+1,b)}for(let y=1;y<s;y++){const b=v[y-1],x=s-y;for(let E=1;E<o;E++)a.set(x,o-E,b[E-1]);for(let E=1;E<u;E++)a.set(x,o+f+E,b[E-1])}for(let y=1;y<l;y++){const b=v[y-1],x=s+c+y;for(let E=1;E<o;E++)a.set(x,o-E,b[E-1]);for(let E=1;E<u;E++)a.set(x,o+f+E,b[E-1])}return a}function Jt(e,t){return{x:e,y:t}}function Ace(e,t,r,n){if(e.length===0)return[];const i=Rce(e);return i.map((a,s)=>{const o=i.slice(0,s);return Oce(t,a,o,r,n)}).flat()}function Oce(e,t,r,n,i){const a=Jt(t.cx,t.cy),s=Cce(a,r,e);if(s==null)return[];const o=new Jr(a.x,a.y,s.cx,s.cy),l=Pce(o,e,n,i);return Nce(l,e)}function Pce(e,t,r,n){const i=[],a=[];a.push(e);let s=!0;for(let o=0;o<r&&s;o++)for(s=!1;!s&&a.length>0;){const l=a.pop(),u=PB(t,l),c=u?Sce(l,u):null;if(!u||!c||c.count!==2){s||i.push(l);continue}let f=n,h=oh(u,f,c,!0),d=ls(h,a)||ls(h,i),p=sh(h,t);for(;!d&&p&&f>=1;)f/=1.5,h=oh(u,f,c,!0),d=ls(h,a)||ls(h,i),p=sh(h,t);if(h&&!d&&!p&&(a.push(new Jr(l.x1,l.y1,h.x,h.y)),a.push(new Jr(h.x,h.y,l.x2,l.y2)),s=!0),s)continue;f=n,h=oh(u,f,c,!1);let v=ls(h,a)||ls(h,i);for(p=sh(h,t);!v&&p&&f>=1;)f/=1.5,h=oh(u,f,c,!1),v=ls(h,a)||ls(h,i),p=sh(h,t);h&&!v&&(a.push(new Jr(l.x1,l.y1,h.x,h.y)),a.push(new Jr(h.x,h.y,l.x2,l.y2)),s=!0),s||i.push(l)}for(;a.length>0;)i.push(a.pop());return i}function Nce(e,t){const r=[];for(;e.length>0;){const n=e.pop();if(e.length===0){r.push(n);break}const i=e.pop(),a=new Jr(n.x1,n.y1,i.x2,i.y2);PB(t,a)?(r.push(n),e.push(i)):e.push(a)}return r}function Cce(e,t,r){let n=Number.POSITIVE_INFINITY;return t.reduce((i,a)=>{const s=Ts(e.x,e.y,a.cx,a.cy);if(s>n)return i;const o=new Jr(e.x,e.y,a.cx,a.cy),l=Lce(r,o);return s*(l+1)*(l+1)<n&&(i=a,n=s*(l+1)*(l+1)),i},null)}function Rce(e){if(e.length<2)return e;let t=0,r=0;return e.forEach(n=>{t+=n.cx,r+=n.cy}),t/=e.length,r/=e.length,e.map(n=>{const i=t-n.cx,a=r-n.cy,s=i*i+a*a;return[n,s]}).sort((n,i)=>n[1]-i[1]).map(n=>n[0])}function sh(e,t){return t.some(r=>r.containsPt(e.x,e.y))}function ls(e,t){return t.some(r=>!!(SR(r.x1,r.y1,e.x,e.y,.001)||SR(r.x2,r.y2,e.x,e.y,.001)))}function PB(e,t){let r=Number.POSITIVE_INFINITY,n=null;for(const i of e){if(!MB(i,t))continue;const a=Ece(i,t);a>=0&&a<r&&(n=i,r=a)}return n}function Lce(e,t){return e.reduce((r,n)=>MB(n,t)&&_ce(n,t)?r+1:r,0)}function oh(e,t,r,n){const i=r.top,a=r.left,s=r.bottom,o=r.right;if(n){if(a.state===pr.POINT){if(i.state===pr.POINT)return Jt(e.x-t,e.y-t);if(s.state===pr.POINT)return Jt(e.x-t,e.y2+t);const h=e.width*e.height;return e.width*((a.y-e.y+(o.y-e.y))*.5)<h*.5?a.y>o.y?Jt(e.x-t,e.y-t):Jt(e.x2+t,e.y-t):a.y<o.y?Jt(e.x-t,e.y2+t):Jt(e.x2+t,e.y2+t)}if(o.state===pr.POINT){if(i.state===pr.POINT)return Jt(e.x2+t,e.y-t);if(s.state===pr.POINT)return Jt(e.x2+t,e.y2+t)}const c=e.height*e.width;return e.height*((i.x-e.x+(o.x-e.x))*.5)<c*.5?i.x>s.x?Jt(e.x-t,e.y-t):Jt(e.x-t,e.y2+t):i.x<s.x?Jt(e.x2+t,e.y-t):Jt(e.x2+t,e.y2+t)}if(a.state===pr.POINT){if(i.state===pr.POINT)return Jt(e.x2+t,e.y2+t);if(s.state===pr.POINT)return Jt(e.x2+t,e.y-t);const c=e.height*e.width;return e.width*((a.y-e.y+(o.y-e.y))*.5)<c*.5?a.y>o.y?Jt(e.x2+t,e.y2+t):Jt(e.x-t,e.y2+t):a.y<o.y?Jt(e.x2+t,e.y-t):Jt(e.x-t,e.y-t)}if(o.state===pr.POINT){if(i.state===pr.POINT)return Jt(e.x-t,e.y2+t);if(s.state===pr.POINT)return Jt(e.x-t,e.y-t)}const l=e.height*e.width;return e.height*((i.x-e.x+(o.x-e.x))*.5)<l*.5?i.x>s.x?Jt(e.x2+t,e.y2+t):Jt(e.x2+t,e.y-t):i.x<s.x?Jt(e.x-t,e.y2+t):Jt(e.x-t,e.y-t)}function Ice(e,t,r,n){if(!(e.closed?r<e.length:r<e.length-1))return!1;const a=e.get(t),s=e.get(r+1);for(let o=t+1;o<=r;o++){const l=e.get(o);if(eE(a.x,a.y,s.x,s.y,l.x,l.y)>n)return!1}return!0}function Dce(e=0){return t=>{if(e<0||t.length<3)return t;const r=[];let n=0;const i=e*e;for(;n<t.length;){let a=n+1;for(;Ice(t,n,a,i);)a++;r.push(t.get(n)),n=a}return new iu(r)}}function Fce(e,t){switch(e){case-2:return(((-t+3)*t-3)*t+1)/6;case-1:return((3*t-6)*t*t+4)/6;case 0:return(((-3*t+3)*t+3)*t+1)/6;case 1:return t*t*t/6;default:throw new Error("unknown error")}}function Bce(e=6){function a(s,o,l){let u=0,c=0;for(let f=-2;f<=1;f++){const h=s.get(o+f),d=Fce(f,l);u+=d*h.x,c+=d*h.y}return{x:u,y:c}}return s=>{if(s.length<3)return s;const o=[],l=s.closed,u=s.length+3-1+(l?0:2);o.push(a(s,2-(l?0:2),0));for(let c=2-(l?0:2);c<u;c++)for(let f=1;f<=e;f++)o.push(a(s,c,f/e));return new iu(o)}}function $ce(e=8){return t=>{let r=e,n=t.length;if(r>1)for(n=Math.floor(t.length/r);n<3&&r>1;)r-=1,n=Math.floor(t.length/r);const i=[];for(let a=0,s=0;s<n;s++,a+=r)i.push(t.get(a));return new iu(i)}}class iu{constructor(t=[],r=!0){this.points=t,this.closed=r}get(t){const r=t,n=this.points.length;return t<0?this.closed?this.get(t+n):this.points[0]:t>=n?this.closed?this.get(t-n):this.points[n-1]:this.points[r]}get length(){return this.points.length}toString(t=1/0){const r=this.points;if(r.length===0)return"";const n=typeof t=="function"?t:xce(t);let i="M";for(const a of r)i+=`${n(a.x)},${n(a.y)} L`;return i=i.slice(0,-1),this.closed&&(i+=" Z"),i}draw(t){const r=this.points;if(r.length!==0){t.beginPath(),t.moveTo(r[0].x,r[0].y);for(const n of r)t.lineTo(n.x,n.y);this.closed&&t.closePath()}}sample(t){return $ce(t)(this)}simplify(t){return Dce(t)(this)}bSplines(t){return Bce(t)(this)}apply(t){return t(this)}containsElements(t){const r=kce(this.points);return r?t.every(n=>r.containsPt(n.cx,n.cy)&&this.withinArea(n.cx,n.cy)):!1}withinArea(t,r){if(this.length===0)return!1;let n=0;const i=this.points[0],a=new Jr(i.x,i.y,i.x,i.y);for(let s=1;s<this.points.length;s++){const o=this.points[s];a.x1=a.x2,a.y1=a.y2,a.x2=o.x,a.y2=o.y,a.cuts(t,r)&&n++}return a.x1=a.x2,a.y1=a.y2,a.x2=i.x,a.y2=i.y,a.cuts(t,r)&&n++,n%2===1}}class qce{constructor(t=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=t}add(t){this.set.add(`${t.x}x${t.y}`),this.arr[this.count++]=t}contains(t){return this.set.has(`${t.x}x${t.y}`)}isFirst(t){if(this.count===0)return!1;const r=this.arr[0];return r!=null&&r.x===t.x&&r.y===t.y}path(){return new iu(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(t){return this.arr[t]}get length(){return this.count}}const bu=0,lh=1,uh=2,Gb=3;function zce(e,t){const r=(Math.floor(e.width)+Math.floor(e.height))*2,n=new qce(r);function i(l,u,c,f){const h=e.get(l,u);return Number.isNaN(h)?Number.NaN:h>t?c+f:c}function a(l,u){let c=bu;return c=i(l,u,c,1),c=i(l+1,u,c,2),c=i(l,u+1,c,4),c=i(l+1,u+1,c,8),Number.isNaN(c)?-1:c}let s=lh;function o(l,u){let c=l,f=u,h=e.invertScaleX(c),d=e.invertScaleY(f);for(let p=0;p<e.width*e.height;p++){const v={x:h,y:d};if(n.contains(v)){if(n.isFirst(v))return!0}else n.add(v);const g=a(c,f);switch(g){case-1:return!0;case 0:case 3:case 2:case 7:s=uh;break;case 12:case 14:case 4:s=Gb;break;case 6:s=s===bu?Gb:uh;break;case 1:case 13:case 5:s=bu;break;case 9:s=s===uh?bu:lh;break;case 10:case 8:case 11:s=lh;break;default:return console.warn("Marching squares invalid state: "+g),!0}switch(s){case bu:f--,d-=e.pixelGroup;break;case lh:f++,d+=e.pixelGroup;break;case Gb:c--,h-=e.pixelGroup;break;case uh:c++,h+=e.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+g),!0}}return!0}for(let l=0;l<e.width;l++)for(let u=0;u<e.height;u++){if(e.get(l,u)<=t)continue;const c=a(l,u);if(!(c<0||c===15)&&o(l,u))return n.path()}return null}const NB={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function Qu(e){return e!=null&&typeof e.radius=="number"}function TR(e,t){if(Qu(e)!==Qu(t))return!1;if(Qu(e)){const n=t;return e.cx===n.cx&&e.cy===n.cy&&e.radius===n.radius}const r=t;return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}var Ri;(function(e){e[e.MEMBERS=0]="MEMBERS",e[e.NON_MEMBERS=1]="NON_MEMBERS",e[e.EDGES=2]="EDGES"})(Ri||(Ri={}));let ege=class{constructor(t={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new Sn(0,0,0,0),this.potentialArea=new Ao(1,0,0,0,0,0,0),this.o=Object.assign({},NB,t)}pushMember(...t){if(t.length!==0){this.dirty.add(Ri.MEMBERS);for(const r of t)this.members.push({raw:r,obj:Qu(r)?Td.from(r):Sn.from(r),area:null})}}removeMember(t){const r=this.members.findIndex(n=>TR(n.raw,t));return r<0?!1:(this.members.splice(r,1),this.dirty.add(Ri.MEMBERS),!0)}removeNonMember(t){const r=this.nonMembers.findIndex(n=>TR(n.raw,t));return r<0?!1:(this.nonMembers.splice(r,1),this.dirty.add(Ri.NON_MEMBERS),!0)}removeEdge(t){const r=this.edges.findIndex(n=>n.obj.equals(t));return r<0?!1:(this.edges.splice(r,1),this.dirty.add(Ri.NON_MEMBERS),!0)}pushNonMember(...t){if(t.length!==0){this.dirty.add(Ri.NON_MEMBERS);for(const r of t)this.nonMembers.push({raw:r,obj:Qu(r)?Td.from(r):Sn.from(r),area:null})}}pushEdge(...t){if(t.length!==0){this.dirty.add(Ri.EDGES);for(const r of t)this.edges.push({raw:r,obj:Jr.from(r),area:null})}}update(){const t=this.dirty.has(Ri.MEMBERS),r=this.dirty.has(Ri.NON_MEMBERS);let n=this.dirty.has(Ri.EDGES);this.dirty.clear();const i=this.members.map(u=>u.obj);if(this.o.virtualEdges&&(t||r)){const u=this.nonMembers.map(h=>h.obj),c=Ace(i,u,this.o.maxRoutingIterations,this.o.morphBuffer),f=new Map(this.virtualEdges.map(h=>[h.obj.toString(),h.area]));this.virtualEdges=c.map(h=>{var d;return{raw:h,obj:h,area:(d=f.get(h.toString()))!==null&&d!==void 0?d:null}}),n=!0}let a=!1;if(t||n){const u=this.virtualEdges.concat(this.edges).map(d=>d.obj),c=Gce(i,u),f=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,h=Sn.from(AB(c,f));h.equals(this.activeRegion)||(a=!0,this.activeRegion=h)}if(a){const u=Math.ceil(this.activeRegion.width/this.o.pixelGroup),c=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=Ao.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(f=>f.area=null),this.nonMembers.forEach(f=>f.area=null),this.edges.forEach(f=>f.area=null),this.virtualEdges.forEach(f=>f.area=null)):(u!==this.potentialArea.width||c!==this.potentialArea.height)&&(this.potentialArea=Ao.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const s=new Map,o=u=>{if(u.area){const c=`${u.obj.width}x${u.obj.height}x${u.obj instanceof Sn?"R":"C"}`;s.set(c,u.area)}},l=u=>{if(u.area)return;const c=`${u.obj.width}x${u.obj.height}x${u.obj instanceof Sn?"R":"C"}`;if(s.has(c)){const h=s.get(c);u.area=this.potentialArea.copy(h,{x:u.obj.x-this.o.nodeR1,y:u.obj.y-this.o.nodeR1});return}const f=u.obj instanceof Sn?Mce(u.obj,this.potentialArea,this.o.nodeR1):OB(u.obj,this.potentialArea,this.o.nodeR1);u.area=f,s.set(c,f)};this.members.forEach(o),this.nonMembers.forEach(o),this.members.forEach(l),this.nonMembers.forEach(u=>{this.activeRegion.intersects(u.obj)?l(u):u.area=null}),this.edges.forEach(u=>{u.area||(u.area=kR(u.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(u=>{u.area||(u.area=kR(u.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(t){for(const r of this.members)r.obj.draw(t)}drawNonMembers(t){for(const r of this.nonMembers)r.obj.draw(t)}drawEdges(t){for(const r of this.edges)r.obj.draw(t)}drawPotentialArea(t,r=!0){this.potentialArea.draw(t,r)}compute(){if(this.members.length===0)return new iu([]);this.dirty.size>0&&this.update();const{o:t,potentialArea:r}=this,n=this.members.map(o=>o.area),i=this.virtualEdges.concat(this.edges).map(o=>o.area),a=this.nonMembers.filter(o=>o.area!=null).map(o=>o.area),s=this.members.map(o=>o.obj);return jce(r,n,i,a,o=>o.containsElements(s),t)}};function jce(e,t,r,n,i,a={}){const s=Object.assign({},NB,a);let o=s.threshold,l=s.memberInfluenceFactor,u=s.edgeInfluenceFactor,c=s.nonMemberInfluenceFactor;const f=(s.nodeR0-s.nodeR1)*(s.nodeR0-s.nodeR1),h=(s.edgeR0-s.edgeR1)*(s.edgeR0-s.edgeR1);for(let d=0;d<s.maxMarchingIterations;d++){if(e.clear(),l!==0){const v=l/f;for(const g of t)e.incArea(g,v)}if(u!==0){const v=u/h;for(const g of r)e.incArea(g,v)}if(c!==0){const v=c/f;for(const g of n)e.incArea(g,v)}const p=zce(e,o);if(p&&i(p))return p;if(o*=.95,d<=s.maxMarchingIterations*.5)l*=1.2,u*=1.2;else if(c!==0&&n.length>0)c*=.8;else break}return new iu([])}function Gce(e,t){if(e.length===0)return new Sn(0,0,0,0);const r=Sn.from(e[0]);for(const n of e)r.add(n);for(const n of t)r.add(kB(n));return r}function CB(e,t){t(e),e.children&&e.children.forEach(function(r){r&&CB(r,t)})}function Zc(e){$p(e,!0)}function Fi(e){$p(e,!1)}function $p(e,t){var r=t?"visible":"hidden";CB(e,function(n){n.attr("visibility",r)})}var Wce=function(e){dt(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,Ue([],Y(r),!1))||this;return i.isMutationObserved=!0,i.addEventListener(gt.INSERTED,function(){Fi(i)}),i}return t}(tn);function RB(e){var t=e.appendChild(new Wce({class:"offscreen"}));return Fi(t),t}function Vce(e){for(var t=e;t;){if(t.className==="offscreen")return!0;t=t.parent}return!1}var tE=function(e){dt(t,e);function t(r){r===void 0&&(r={});var n=r.style,i=gr(r,["style"]);return e.call(this,Ee({style:Ee({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},i))||this}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=RB(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},t}(gp);function jl(e){return e*Math.PI/180}function LB(e){return Number((e*180/Math.PI).toPrecision(5))}var An=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=r,this.width=n,this.height=i}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(t,r){return t>=this.left&&t<=this.right&&r>=this.top&&r<=this.bottom},e}();function Ei(e,t){return Ht(e)?e.apply(void 0,Ue([],Y(t),!1)):e}var Xi=function(e,t){var r=function(i){return"".concat(t,"-").concat(i)},n=Object.fromEntries(Object.entries(e).map(function(i){var a=Y(i,2),s=a[0],o=a[1],l=r(o);return[s,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(n,{prefix:r}),n},Uce=5,IB=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=Uce),Object.entries(t).forEach(function(i){var a=Y(i,2),s=a[0],o=a[1],l=e;Object.prototype.hasOwnProperty.call(t,s)&&(o?Bl(o)?(Bl(e[s])||(l[s]={}),r<n?IB(e[s],o,r+1,n):l[s]=t[s]):Si(o)?(l[s]=[],l[s]=l[s].concat(o)):l[s]=o:l[s]=o)})},Vr=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n+=1)IB(e,t[n]);return e},DB=function(e){return e!==void 0&&e!=null&&!Number.isNaN(e)},ch,Hce=MK(function(e,t){var r=t.fontSize,n=t.fontFamily,i=t.fontWeight,a=t.fontStyle,s=t.fontVariant;return ch||(ch=Ae.offscreenCanvasCreator.getOrCreateContext(void 0)),ch.font=[a,s,i,"".concat(r,"px"),n].join(" "),ch.measureText(e).width},function(e,t){return[e,Object.values(t||FB(e)).join()].join("")},4096),FB=function(e){var t=e.style.fontFamily||"sans-serif",r=e.style.fontWeight||"normal",n=e.style.fontStyle||"normal",i=e.style.fontVariant,a=e.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:t,fontWeight:r,fontStyle:n,fontVariant:i}};function BB(e){return e.nodeName==="text"?e:e.nodeName==="g"&&e.children.length===1&&e.children[0].nodeName==="text"?e.children[0]:null}function $B(e,t){var r=BB(e);r&&r.attr(t)}function Ox(e,t,r){r===void 0&&(r="..."),$B(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:r})}function Yce(e,t,r,n){r===void 0&&(r=2),n===void 0&&(n="top"),$B(e,{wordWrap:!0,wordWrapWidth:t,maxLines:r,textBaseline:n})}function MR(e){var t=e.canvas,r=e.touches,n=e.offsetX,i=e.offsetY;if(t){var a=t.x,s=t.y;return[a,s]}if(r){var o=r[0],l=o.clientX,u=o.clientY;return[l,u]}return n&&i?[n,i]:[0,0]}function Ka(e){return typeof e=="function"?e():Ft(e)||Ye(e)?new tE({style:{text:String(e)}}):e}function Xce(e,t){return e.reduce(function(r,n){return(r[n[t]]=r[n[t]]||[]).push(n),r},{})}function ri(e,t,r,n,i){return n===void 0&&(n=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),e?r(t):(n&&i(t),null)}function Yr(e,t,r,n,i){return n===void 0&&(n=!0),i===void 0&&(i=!1),n&&e===t||i&&e===r?!0:e>t&&e<r}var Kce=function(e,t){return function(r){return e*(1-r)+t*r}};function Zce(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0;return function(i){var a=new Array(n),s=new Array(r),o=0;for(o=0;o<n;++o)a[o]=rE(e[o],t[o]);for(;o<r;++o)s[o]=t[o];for(o=0;o<n;++o)s[o]=a[o](i);return s}}function Qce(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r={},n={};return Object.entries(t).forEach(function(i){var a=Y(i,2),s=a[0],o=a[1];s in e?r[s]=rE(e[s],o):n[s]=o}),function(i){return Object.entries(r).forEach(function(a){var s=Y(a,2),o=s[0],l=s[1];return n[o]=l(i)}),n}}function rE(e,t){return typeof e=="number"&&typeof t=="number"?Kce(e,t):Array.isArray(e)&&Array.isArray(t)?Zce(e,t):typeof e=="object"&&typeof t=="object"?Qce(e,t):function(r){return e}}function Jce(e,t,r,n){if(!n)return e.attr("__keyframe_data__",r),null;var i=n.duration,a=i===void 0?0:i,s=rE(t,r),o=Math.ceil(+a/16),l=new Array(o).fill(0).map(function(u,c,f){return{__keyframe_data__:s(c/(f.length-1))}});return e.animate(l,Ee({fill:"both"},n))}function $a(e,t){return[e[0]*t,e[1]*t]}function Ru(e,t){return[e[0]+t[0],e[1]+t[1]]}function Wb(e,t){return[e[0]-t[0],e[1]-t[1]]}function io(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function ao(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function kc(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function qB(e){if(e[0]===0&&e[1]===0)return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function efe(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}function AR(e,t){return+e.toPrecision(t)}function OR(e,t){var r={},n=Array.isArray(t)?t:[t];for(var i in e)n.includes(i)||(r[i]=e[i]);return r}function tfe(e,t,r,n){var i,a=[],s=!!n,o,l,u=[1/0,1/0],c=[-1/0,-1/0],f,h,d;if(s){i=Y(n,2),u=i[0],c=i[1];for(var p=0,v=e.length;p<v;p+=1){var g=e[p];u=io(u,g),c=ao(c,g)}}for(var p=0,m=e.length;p<m;p+=1){var g=e[p];if(p===0)d=g;else if(p===m-1)h=g,a.push(d),a.push(h);else{var y=[p?p-1:m-1,p-1][1];o=e[y],l=e[p+1];var b=[0,0];b=Wb(l,o),b=$a(b,t);var x=kc(g,o),E=kc(g,l),S=x+E;S!==0&&(x/=S,E/=S);var _=$a(b,-x),k=$a(b,E);h=Ru(g,_),f=Ru(g,k),f=io(f,ao(l,g)),f=ao(f,io(l,g)),_=Wb(f,g),_=$a(_,-x/E),h=Ru(g,_),h=io(h,ao(o,g)),h=ao(h,io(o,g)),k=Wb(g,h),k=$a(k,E/x),f=Ru(g,k),s&&(h=ao(h,u),h=io(h,c),f=ao(f,u),f=io(f,c)),a.push(d),a.push(h),d=f}}return a}function rfe(e,t,r){r===void 0&&(r=[[0,0],[1,1]]);for(var n=!1,i=[],a=0,s=e.length;a<s;a+=2)i.push([e[a],e[a+1]]);for(var o=tfe(i,.4,n,r),l=i.length,u=[],c,f,h,a=0;a<l-1;a+=1)c=o[a*2],f=o[a*2+1],h=i[a+1],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return u}var nfe=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function ife(e){return nfe.includes(e)}function PR(e){var t={};for(var r in e)ife(r)&&(t[r]=e[r]);return t}function afe(e,t){if(e.length<=t)return e;for(var r=Math.floor(e.length/t),n=[],i=0;i<e.length;i+=r)n.push(e[i]);return n}function nE(e,t,r){var n=e.getBBox(),i=n.width,a=n.height,s=t/Math.max(i,a);return e.style.transform="scale(".concat(s,")"),s}function sfe(e,t){var r=new Map;return e.forEach(function(n){var i=t(n);r.has(i)||r.set(i,[]),r.get(i).push(n)}),r}function ofe(e){throw new Error(e)}var lfe=function(){function e(i,a,s,o,l,u,c){i===void 0&&(i=null),a===void 0&&(a=null),s===void 0&&(s=null),o===void 0&&(o=null),l===void 0&&(l=[null,null,null,null,null]),u===void 0&&(u=[]),c===void 0&&(c=[]),t.add(this),this._elements=Array.from(i),this._data=a,this._parent=s,this._document=o,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=u,this._facetElements=c}e.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new r(a,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new r(this._elements,null,this._parent,this._document,void 0,void 0,a)},e.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new r([a],null,a,this._document)},e.prototype.append=function(i){var a=this,s=typeof i=="function"?i:function(){return a.createElement(i)},o=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var u=this._data[l],c=Y(Array.isArray(u)?u:[u,null],2),f=c[0],h=c[1],d=s(f,l);d.__data__=f,h!==null&&(d.__fromElements__=h),this._parent.appendChild(d),o.push(d)}return new r(o,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var p=this._elements[l],f=p.__data__,d=s(f,l);p.appendChild(d),o.push(d)}return new r(o,null,o[0],this._document)},e.prototype.maybeAppend=function(i,a){var s=Iv(this,t,"m",n).call(this,i[0]==="#"?i:"#".concat(i),a);return s.attr("id",i),s},e.prototype.maybeAppendByClassName=function(i,a){var s=i.toString(),o=Iv(this,t,"m",n).call(this,s[0]==="."?s:".".concat(s),a);return o.attr("className",s),o},e.prototype.maybeAppendByName=function(i,a){var s=Iv(this,t,"m",n).call(this,'[name="'.concat(i,'"]'),a);return s.attr("name",i),s},e.prototype.data=function(i,a,s){var o,l;a===void 0&&(a=function(P){return P}),s===void 0&&(s=function(){return null});for(var u=[],c=[],f=new Set(this._elements),h=[],d=new Set,p=new Map(this._elements.map(function(P,N){return[a(P.__data__,N),P]})),v=new Map(this._facetElements.map(function(P,N){return[a(P.__data__,N),P]})),g=sfe(this._elements,function(P){return s(P.__data__)}),m=0;m<i.length;m++){var y=i[m],b=a(y,m),x=s(y,m);if(p.has(b)){var E=p.get(b);E.__data__=y,E.__facet__=!1,c.push(E),f.delete(E),p.delete(b)}else if(v.has(b)){var E=v.get(b);E.__data__=y,E.__facet__=!0,c.push(E),v.delete(b)}else if(g.has(b)){var S=g.get(b);h.push([y,S]);try{for(var _=(o=void 0,$c(S)),k=_.next();!k.done;k=_.next()){var E=k.value;f.delete(E)}}catch(P){o={error:P}}finally{try{k&&!k.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}g.delete(b)}else if(p.has(x)){var E=p.get(x);E.__toData__?E.__toData__.push(y):E.__toData__=[y],d.add(E),f.delete(E)}else u.push(y)}var O=[new r([],u,this._parent,this._document),new r(c,null,this._parent,this._document),new r(f,null,this._parent,this._document),new r([],h,this._parent,this._document),new r(d,null,this._parent,this._document)];return new r(this._elements,null,this._parent,this._document,O)},e.prototype.merge=function(i){var a=Ue(Ue([],Y(this._elements),!1),Y(i._elements),!1),s=Ue(Ue([],Y(this._transitions),!1),Y(i._transitions),!1);return new r(a,null,this._parent,this._document,void 0,s)},e.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=r.registry[i];return a?new a:ofe("Unknown node type: ".concat(i))},e.prototype.join=function(i,a,s,o,l){i===void 0&&(i=function(p){return p}),a===void 0&&(a=function(p){return p}),s===void 0&&(s=function(p){return p.remove()}),o===void 0&&(o=function(p){return p}),l===void 0&&(l=function(p){return p.remove()});var u=i(this._enter),c=a(this._update),f=s(this._exit),h=o(this._merge),d=l(this._split);return c.merge(u).merge(f).merge(h).merge(d)},e.prototype.remove=function(){for(var i=function(o){var l=a._elements[o],u=a._transitions[o];u?u.then(function(){return l.remove()}):l.remove()},a=this,s=0;s<this._elements.length;s++)i(s);return new r([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var s=this._elements[a],o=s.__data__;i.call(s,o,a)}return this},e.prototype.attr=function(i,a){var s=typeof a!="function"?function(){return a}:a;return this.each(function(o,l){a!==void 0&&(this[i]=s.call(this,o,l))})},e.prototype.style=function(i,a,s){s===void 0&&(s=!0);var o=typeof a!="function"||!s?function(){return a}:a;return this.each(function(l,u){a!==void 0&&(this.style[i]=o.call(this,l,u))})},e.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(s,o){var l=this;Object.entries(i).forEach(function(u){var c=Y(u,2),f=c[0],h=c[1],d=typeof h!="function"||!a?function(){return h}:h;h!==void 0&&l.attr(f,d.call(l,s,o))})})},e.prototype.update=function(i,a){a===void 0&&(a=!0);var s=typeof i!="function"||!a?function(){return i}:i;return this.each(function(o,l){i&&this.update&&this.update(s.call(this,o,l))})},e.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var s=typeof i!="function"||!a?function(){return i}:i;return this.each(function(o,l){i&&this.update&&this.update(s.call(this,o,l))})},e.prototype.transition=function(i){var a=this._transitions;return this.each(function(s,o){a[o]=i.call(this,s,o)})},e.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},e.prototype.call=function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return i.call.apply(i,Ue([this._parent,this],Y(a),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},e.prototype.parent=function(){return this._parent};var t,r,n;return r=e,t=new WeakSet,n=function(a,s){var o=this._elements[0],l=o.querySelector(a);if(l)return new r([l],null,this._parent,this._document);var u=typeof s=="string"?this.createElement(s):s();return o.appendChild(u),new r([u],null,this._parent,this._document)},e.registry={g:tn,rect:Ds,circle:jc,path:Gc,text:tE,ellipse:y2,image:w2,line:vp,polygon:Wc,polyline:x2,html:b2},e}();function Ge(e){return new lfe([e],null,e,e.ownerDocument)}function ufe(e,t,r){return e.querySelector(t)?Ge(e).select(t):Ge(e).append(r)}function rn(e){if(Ye(e))return[e,e,e,e];if(Si(e)){var t=e.length;if(t===1)return[e[0],e[0],e[0],e[0]];if(t===2)return[e[0],e[1],e[0],e[1]];if(t===3)return[e[0],e[1],e[2],e[1]];if(t===4)return e}return[0,0,0,0]}function NR(e){var t=e.getLocalBounds(),r=t.min,n=t.max,i=Y([r,n],2),a=Y(i[0],2),s=a[0],o=a[1],l=Y(i[1],2),u=l[0],c=l[1];return{x:s,y:o,width:u-s,height:c-o,left:s,bottom:c,top:o,right:u}}function cfe(e,t){var r=Y(e,2),n=r[0],i=r[1],a=Y(t,2),s=a[0],o=a[1];return n!==s&&i===o}function ffe(e,t){var r,n,i=t.attributes;try{for(var a=$c(Object.entries(i)),s=a.next();!s.done;s=a.next()){var o=Y(s.value,2),l=o[0],u=o[1];l!=="id"&&l!=="className"&&e.attr(l,u)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}function iE(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function hfe(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}function dfe(e,t){return"".concat(t).concat(iE(e))}function CR(e,t,r){var n;r===void 0&&(r=!0);var i=t||((n=e.match(/^([a-z][a-z0-9]+)/))===null||n===void 0?void 0:n[0])||"",a=e.replace(new RegExp("^(".concat(i,")")),"");return r?hfe(a):a}function pfe(e,t){Object.entries(t).forEach(function(r){var n=Y(r,2),i=n[0],a=n[1];Ue([e],Y(e.querySelectorAll(i)),!1).filter(function(s){return s.matches(i)}).forEach(function(s){if(s){var o=s;o.style.cssText+=Object.entries(a).reduce(function(l,u){return"".concat(l).concat(u.join(":"),";")},"")}})})}var fh=function(e,t){if(!(e!=null&&e.startsWith(t)))return!1;var r=e[t.length];return r>="A"&&r<="Z"};function it(e,t,r){r===void 0&&(r=!1);var n={};return Object.entries(e).forEach(function(i){var a=Y(i,2),s=a[0],o=a[1];if(!(s==="className"||s==="class")){if(fh(s,"show")&&fh(CR(s,"show"),t)!==r)s===dfe(t,"show")?n[s]=o:n[s.replace(new RegExp(iE(t)),"")]=o;else if(!fh(s,"show")&&fh(s,t)!==r){var l=CR(s,t);l==="filter"&&typeof o=="function"||(n[l]=o)}}}),n}function ll(e,t){return Object.entries(e).reduce(function(r,n){var i=Y(n,2),a=i[0],s=i[1];return a.startsWith("show")?r["show".concat(t).concat(a.slice(4))]=s:r["".concat(t).concat(iE(a))]=s,r},{})}function Za(e,t){t===void 0&&(t=["x","y","class","className"]);var r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],n={},i={};return Object.entries(e).forEach(function(a){var s=Y(a,2),o=s[0],l=s[1];t.includes(o)||(r.indexOf(o)!==-1?i[o]=l:n[o]=l)}),[n,i]}function Cn(e,t){var r={YYYY:e.getFullYear(),MM:e.getMonth()+1,DD:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds()},n=t;return Object.keys(r).forEach(function(i){var a=r[i];n=n.replace(i,i==="YYYY"?"".concat(a):"".concat(a).padStart(2,"0"))}),n}function vfe(e,t,r){var n=e.getBBox(),i=n.width,a=n.height,s=Y([t,r].map(function(u,c){var f;return u.includes("%")?parseFloat(((f=u.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||f===void 0?void 0:f[0])||"0")/100*(c===0?i:a):u}),2),o=s[0],l=s[1];return[o,l]}function zB(e,t){if(t)try{var r=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,n=t.replace(r,function(i,a,s){return"translate(".concat(vfe(e,a,s),")")});e.attr("transform",n)}catch{}}function gfe(e){var t;return((t=e[0])===null||t===void 0?void 0:t.map(function(r,n){return e.map(function(i){return i[n]})}))||[]}var RR=function(e,t){if(t==null){e.innerHTML="";return}e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,Ue([],Y(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(r){return e.appendChild(r)}):e.appendChild(t))};function mfe(){$p(this,this.attributes.visibility!=="hidden")}var mr=function(e){dt(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this,Vr({},{style:n},r))||this;return i.initialized=!1,i._defaultOptions=n,i}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=RB(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},t.prototype.attributeChangedCallback=function(r){r==="visibility"&&mfe.call(this)},t.prototype.update=function(r,n){var i;return this.attr(Vr({},this.attributes,r||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,n)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(r,n){},t.prototype.getSubShapeStyle=function(r){r.x,r.y,r.transform,r.transformOrigin,r.class,r.className,r.zIndex;var n=gr(r,["x","y","transform","transformOrigin","class","className","zIndex"]);return n},t}(mF),jB=function(e,t,r){return[["M",e-r,t],["A",r,r,0,1,0,e+r,t],["A",r,r,0,1,0,e-r,t],["Z"]]},yfe=jB,bfe=function(e,t,r){return[["M",e-r,t-r],["L",e+r,t-r],["L",e+r,t+r],["L",e-r,t+r],["Z"]]},wfe=function(e,t,r){return[["M",e-r,t],["L",e,t-r],["L",e+r,t],["L",e,t+r],["Z"]]},xfe=function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t+n],["L",e,t-n],["L",e+r,t+n],["Z"]]},_fe=function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t-n],["L",e+r,t-n],["L",e,t+n],["Z"]]},Efe=function(e,t,r){var n=r/2*Math.sqrt(3);return[["M",e,t-r],["L",e+n,t-r/2],["L",e+n,t+r/2],["L",e,t+r],["L",e-n,t+r/2],["L",e-n,t-r/2],["Z"]]},Sfe=function(e,t,r){var n=r-1.5;return[["M",e-r,t-n],["L",e+r,t+n],["L",e+r,t-n],["L",e-r,t+n],["Z"]]},GB=function(e,t,r){return[["M",e,t+r],["L",e,t-r]]},kfe=function(e,t,r){return[["M",e-r,t-r],["L",e+r,t+r],["M",e+r,t-r],["L",e-r,t+r]]},Tfe=function(e,t,r){return[["M",e-r/2,t-r],["L",e+r/2,t-r],["M",e,t-r],["L",e,t+r],["M",e-r/2,t+r],["L",e+r/2,t+r]]},Mfe=function(e,t,r){return[["M",e-r,t],["L",e+r,t],["M",e,t-r],["L",e,t+r]]},Afe=function(e,t,r){return[["M",e-r,t],["L",e+r,t]]},WB=function(e,t,r){return[["M",e-r,t],["L",e+r,t]]},Ofe=WB,Pfe=function(e,t,r){return[["M",e-r,t],["A",r/2,r/2,0,1,1,e,t],["A",r/2,r/2,0,1,0,e+r,t]]},Nfe=function(e,t,r){return[["M",e-r-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+r+1,t+2.5]]},Cfe=function(e,t,r){return[["M",e-r-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+r+1,t-2.5]]},Rfe=function(e,t,r){return[["M",e-(r+1),t+2.5],["L",e-r/2,t+2.5],["L",e-r/2,t-2.5],["L",e+r/2,t-2.5],["L",e+r/2,t+2.5],["L",e+r+1,t+2.5]]};function Lfe(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}var Ife=function(e,t,r){return[["M",e-r,t-r],["L",e+r,t],["L",e-r,t+r],["Z"]]};function Dfe(e){var t="default";if(Xa(e)&&e instanceof Image)t="image";else if(Ht(e))t="symbol";else if(Ft(e)){var r=new RegExp("data:(image|text)");e.match(r)?t="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?t="url":t="symbol"}return t}function Ffe(e){var t=Dfe(e);return["base64","url","image"].includes(t)?"image":e&&t==="symbol"?"path":null}var $t=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=this.getSubShapeStyle(r),u=l.symbol,c=l.size,f=c===void 0?16:c,h=gr(l,["symbol","size"]),d=Ffe(u);ri(!!d,Ge(n),function(p){p.maybeAppendByClassName("marker",d).attr("className","marker ".concat(d,"-marker")).call(function(v){if(d==="image"){var g=f*2;v.styles({img:u,width:g,height:g,x:a-f,y:o-f})}else{var g=f/2,m=Ht(u)?u:t.getSymbol(u);v.styles(Ee({d:m==null?void 0:m(a,o,g)},h))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(r,n){t.MARKER_SYMBOL_MAP.set(r,n)},t.getSymbol=function(r){return t.MARKER_SYMBOL_MAP.get(r)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(mr);$t.registerSymbol("cross",kfe);$t.registerSymbol("hyphen",Afe);$t.registerSymbol("line",GB);$t.registerSymbol("plus",Mfe);$t.registerSymbol("tick",Tfe);$t.registerSymbol("circle",jB);$t.registerSymbol("point",yfe);$t.registerSymbol("bowtie",Sfe);$t.registerSymbol("hexagon",Efe);$t.registerSymbol("square",bfe);$t.registerSymbol("diamond",wfe);$t.registerSymbol("triangle",xfe);$t.registerSymbol("triangle-down",_fe);$t.registerSymbol("line",GB);$t.registerSymbol("dot",WB);$t.registerSymbol("dash",Ofe);$t.registerSymbol("smooth",Pfe);$t.registerSymbol("hv",Nfe);$t.registerSymbol("vh",Cfe);$t.registerSymbol("hvh",Rfe);$t.registerSymbol("vhv",Lfe);function Md(e,...t){return t.reduce((r,n)=>i=>r(n(i)),e)}function Px(e,t){return t-e?r=>(r-e)/(t-e):r=>.5}function Bfe(e,t){const r=t<e?t:e,n=e>t?e:t;return i=>Math.min(Math.max(r,i),n)}function $fe(e,t,r,n,i){let a=r,s=n||e.length;const o=l=>l;for(;a<s;){const l=Math.floor((a+s)/2);o(e[l])>t?s=l:a=l+1}return a}const LR=Math.sqrt(50),IR=Math.sqrt(10),DR=Math.sqrt(2);function Ch(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/10**i;return i>=0?(a>=LR?10:a>=IR?5:a>=DR?2:1)*10**i:-(10**-i)/(a>=LR?10:a>=IR?5:a>=DR?2:1)}const qfe=(e,t,r=5)=>{const n=[e,t];let i=0,a=n.length-1,s=n[i],o=n[a],l;return o<s&&([s,o]=[o,s],[i,a]=[a,i]),l=Ch(s,o,r),l>0?(s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l,l=Ch(s,o,r)):l<0&&(s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l,l=Ch(s,o,r)),l>0?(n[i]=Math.floor(s/l)*l,n[a]=Math.ceil(o/l)*l):l<0&&(n[i]=Math.ceil(s*l)/l,n[a]=Math.floor(o*l)/l),n};function FR(e){return!er(e)&&!_K(e)&&!Number.isNaN(e)}var Vb={exports:{}},Ub,BR;function zfe(){return BR||(BR=1,Ub={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Ub}var Hb={exports:{}},Yb,$R;function jfe(){return $R||($R=1,Yb=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),Yb}var qR;function Gfe(){if(qR)return Hb.exports;qR=1;var e=jfe(),t=Array.prototype.concat,r=Array.prototype.slice,n=Hb.exports=function(a){for(var s=[],o=0,l=a.length;o<l;o++){var u=a[o];e(u)?s=t.call(s,r.call(u)):s.push(u)}return s};return n.wrap=function(i){return function(){return i(n(arguments))}},Hb.exports}var zR;function Wfe(){if(zR)return Vb.exports;zR=1;var e=zfe(),t=Gfe(),r=Object.hasOwnProperty,n=Object.create(null);for(var i in e)r.call(e,i)&&(n[e[i]]=i);var a=Vb.exports={to:{},get:{}};a.get=function(l){var u=l.substring(0,3).toLowerCase(),c,f;switch(u){case"hsl":c=a.get.hsl(l),f="hsl";break;case"hwb":c=a.get.hwb(l),f="hwb";break;default:c=a.get.rgb(l),f="rgb";break}return c?{model:f,value:c}:null},a.get.rgb=function(l){if(!l)return null;var u=/^#([a-f0-9]{3,4})$/i,c=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,f=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^(\w+)$/,p=[0,0,0,1],v,g,m;if(v=l.match(c)){for(m=v[2],v=v[1],g=0;g<3;g++){var y=g*2;p[g]=parseInt(v.slice(y,y+2),16)}m&&(p[3]=parseInt(m,16)/255)}else if(v=l.match(u)){for(v=v[1],m=v[3],g=0;g<3;g++)p[g]=parseInt(v[g]+v[g],16);m&&(p[3]=parseInt(m+m,16)/255)}else if(v=l.match(f)){for(g=0;g<3;g++)p[g]=parseInt(v[g+1],0);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else if(v=l.match(h)){for(g=0;g<3;g++)p[g]=Math.round(parseFloat(v[g+1])*2.55);v[4]&&(v[5]?p[3]=parseFloat(v[4])*.01:p[3]=parseFloat(v[4]))}else return(v=l.match(d))?v[1]==="transparent"?[0,0,0,0]:r.call(e,v[1])?(p=e[v[1]],p[3]=1,p):null:null;for(g=0;g<3;g++)p[g]=s(p[g],0,255);return p[3]=s(p[3],0,1),p},a.get.hsl=function(l){if(!l)return null;var u=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=l.match(u);if(c){var f=parseFloat(c[4]),h=(parseFloat(c[1])%360+360)%360,d=s(parseFloat(c[2]),0,100),p=s(parseFloat(c[3]),0,100),v=s(isNaN(f)?1:f,0,1);return[h,d,p,v]}return null},a.get.hwb=function(l){if(!l)return null;var u=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=l.match(u);if(c){var f=parseFloat(c[4]),h=(parseFloat(c[1])%360+360)%360,d=s(parseFloat(c[2]),0,100),p=s(parseFloat(c[3]),0,100),v=s(isNaN(f)?1:f,0,1);return[h,d,p,v]}return null},a.to.hex=function(){var l=t(arguments);return"#"+o(l[0])+o(l[1])+o(l[2])+(l[3]<1?o(Math.round(l[3]*255)):"")},a.to.rgb=function(){var l=t(arguments);return l.length<4||l[3]===1?"rgb("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+")":"rgba("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+", "+l[3]+")"},a.to.rgb.percent=function(){var l=t(arguments),u=Math.round(l[0]/255*100),c=Math.round(l[1]/255*100),f=Math.round(l[2]/255*100);return l.length<4||l[3]===1?"rgb("+u+"%, "+c+"%, "+f+"%)":"rgba("+u+"%, "+c+"%, "+f+"%, "+l[3]+")"},a.to.hsl=function(){var l=t(arguments);return l.length<4||l[3]===1?"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)":"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+l[3]+")"},a.to.hwb=function(){var l=t(arguments),u="";return l.length>=4&&l[3]!==1&&(u=", "+l[3]),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+u+")"},a.to.keyword=function(l){return n[l.slice(0,3)]};function s(l,u,c){return Math.min(Math.max(u,l),c)}function o(l){var u=Math.round(l).toString(16).toUpperCase();return u.length<2?"0"+u:u}return Vb.exports}var Vfe=Wfe();const Ufe=ap(Vfe);function Xb(e,t,r){let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Hfe(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100,i=e[3];if(r===0)return[n*255,n*255,n*255,i];const a=n<.5?n*(1+r):n+r-n*r,s=2*n-a,o=Xb(s,a,t+1/3),l=Xb(s,a,t),u=Xb(s,a,t-1/3);return[o*255,l*255,u*255,i]}function jR(e){const t=Ufe.get(e);if(!t)return null;const{model:r,value:n}=t;return r==="rgb"?n:r==="hsl"?Hfe(n):null}const Ad=(e,t)=>r=>e*(1-r)+t*r,Yfe=(e,t)=>{const r=jR(e),n=jR(t);return r===null||n===null?r?()=>e:()=>t:i=>{const a=new Array(4);for(let c=0;c<4;c+=1){const f=r[c],h=n[c];a[c]=f*(1-i)+h*i}const[s,o,l,u]=a;return`rgba(${Math.round(s)}, ${Math.round(o)}, ${Math.round(l)}, ${u})`}},Xfe=(e,t)=>typeof e=="number"&&typeof t=="number"?Ad(e,t):typeof e=="string"&&typeof t=="string"?Yfe(e,t):()=>e,Kfe=(e,t)=>{const r=Ad(e,t);return n=>Math.round(r(n))};function GR({map:e,initKey:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Zfe({map:e,initKey:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Qfe({map:e,initKey:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jfe(e){return typeof e=="object"?e.valueOf():e}class WR extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=Jfe,t!==null)for(const[r,n]of t)this.set(r,n)}get(t){return super.get(GR({map:this.map,initKey:this.initKey},t))}has(t){return super.has(GR({map:this.map,initKey:this.initKey},t))}set(t,r){return super.set(Zfe({map:this.map,initKey:this.initKey},t),r)}delete(t){return super.delete(Qfe({map:this.map,initKey:this.initKey},t))}}class VB{constructor(t){this.options=Ls({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=Ls({},this.options,t),this.rescale(t)}rescale(t){}}const aE=Symbol("defaultUnknown");function VR(e,t,r){for(let n=0;n<t.length;n+=1)e.has(t[n])||e.set(r(t[n]),n)}function UR(e){const{value:t,from:r,to:n,mapper:i,notFoundReturn:a}=e;let s=i.get(t);if(s===void 0){if(a!==aE)return a;s=r.push(t)-1,i.set(t,s)}return n[s%n.length]}function HR(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}class sE extends VB{getDefaultOptions(){return{domain:[],range:[],unknown:aE}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&VR(this.domainIndexMap,this.getDomain(),this.domainKey),UR({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&VR(this.rangeIndexMap,this.getRange(),this.rangeKey),UR({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[r]=this.options.domain,[n]=this.options.range;if(this.domainKey=HR(r),this.rangeKey=HR(n),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new sE(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:r}=this.options;return this.sortedDomain=r?[...t].sort(r):t,this.sortedDomain}}function ehe(e){const t=Math.min(...e);return e.map(r=>r/t)}function the(e,t){const r=e.length,n=t-r;return n>0?[...e,...new Array(n).fill(1)]:n<0?e.slice(0,t):e}function rhe(e){return Math.round(e*1e12)/1e12}function nhe(e){const{domain:t,range:r,paddingOuter:n,paddingInner:i,flex:a,round:s,align:o}=e,l=t.length,u=the(a,l),[c,f]=r,h=f-c,d=2/l*n+1-1/l*i,p=h/d,v=p*i/l,g=p-l*v,m=ehe(u),y=m.reduce((R,L)=>R+L),b=g/y,x=new WR(t.map((R,L)=>{const D=m[L]*b;return[R,s?Math.floor(D):D]})),E=new WR(t.map((R,L)=>{const $=m[L]*b+v;return[R,s?Math.floor($):$]})),S=Array.from(E.values()).reduce((R,L)=>R+L),k=(h-(S-S/l*i))*o,O=c+k;let P=s?Math.round(O):O;const N=new Array(l);for(let R=0;R<l;R+=1){N[R]=rhe(P);const L=t[R];P+=E.get(L)}return{valueBandWidth:x,valueStep:E,adjustedRange:N}}function ihe(e){var t;const{domain:r}=e,n=r.length;if(n===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return nhe(e);const{range:a,paddingOuter:s,paddingInner:o,round:l,align:u}=e;let c,f,h=a[0];const p=a[1]-h,v=s*2,g=n-o;c=p/Math.max(1,v+g),l&&(c=Math.floor(c)),h+=(p-c*(n-o))*u,f=c*(1-o),l&&(h=Math.round(h),f=Math.round(f));const m=new Array(n).fill(0).map((y,b)=>h+b*c);return{valueStep:c,valueBandWidth:f,adjustedRange:m}}class oE extends sE{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:aE,flex:[]}}constructor(t){super(t)}clone(){return new oE(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:r}=this.options;return t>0?t:r}getPaddingOuter(){const{padding:t,paddingOuter:r}=this.options;return t>0?t:r}rescale(){super.rescale();const{align:t,domain:r,range:n,round:i,flex:a}=this.options,{adjustedRange:s,valueBandWidth:o,valueStep:l}=ihe({align:t,range:n,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r});this.valueStep=l,this.valueBandWidth=o,this.adjustedRange=s}}const ahe=(e,t,r)=>{let n,i,a=e,s=t;if(a===s&&r>0)return[a];let o=Ch(a,s,r);if(o===0||!Number.isFinite(o))return[];if(o>0){a=Math.ceil(a/o),s=Math.floor(s/o),i=new Array(n=Math.ceil(s-a+1));for(let l=0;l<n;l+=1)i[l]=(a+l)*o}else{o=-o,a=Math.ceil(a*o),s=Math.floor(s*o),i=new Array(n=Math.ceil(s-a+1));for(let l=0;l<n;l+=1)i[l]=(a+l)/o}return i},she=(e,t,r)=>{const[n,i]=e,[a,s]=t;let o,l;return n<i?(o=Px(n,i),l=r(a,s)):(o=Px(i,n),l=r(s,a)),Md(l,o)},ohe=(e,t,r)=>{const n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=e[0]>e[n],o=s?[...e].reverse():e,l=s?[...t].reverse():t;for(let u=0;u<n;u+=1)i[u]=Px(o[u],o[u+1]),a[u]=r(l[u],l[u+1]);return u=>{const c=$fe(e,u,1,n)-1,f=i[c],h=a[c];return Md(h,f)(u)}},YR=(e,t,r,n)=>(Math.min(e.length,t.length)>2?ohe:she)(e,t,n?Kfe:r);class lhe extends VB{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Ad,tickCount:5}}map(t){return FR(t)?this.output(t):this.options.unknown}invert(t){return FR(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,r,n,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,r,n,...i)}getTicks(){const{tickMethod:t}=this.options,[r,n,i,...a]=this.getTickMethodOptions();return t(r,n,i,...a)}getTickMethodOptions(){const{domain:t,tickCount:r}=this.options,n=t[0],i=t[t.length-1];return[n,i,r]}chooseNice(){return qfe}rescale(){this.nice();const[t,r]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,r,this.chooseClamp(r))}chooseClamp(t){const{clamp:r,range:n}=this.options,i=this.options.domain.map(t),a=Math.min(i.length,n.length);return r?Bfe(i[0],i[a-1]):Qw}composeOutput(t,r){const{domain:n,range:i,round:a,interpolate:s}=this.options,o=YR(n.map(t),i,s,a);this.output=Md(o,r,t)}composeInput(t,r,n){const{domain:i,range:a}=this.options,s=YR(a,i.map(t),Ad);this.input=Md(r,n,s)}}class Ju extends lhe{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Xfe,tickMethod:ahe,tickCount:5}}chooseTransforms(){return[Qw,Qw]}clone(){return new Ju(this.options)}}var uhe=function(e){dt(t,e);function t(r){var n=this,i=r.style,a=gr(r,["style"]);return n=e.call(this,Ls({},{type:"column"},Ee({style:i},a)))||this,n.columnsGroup=new tn({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return t.prototype.render=function(){var r=this.attributes,n=r.columns,i=r.x,a=r.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),Ge(this.columnsGroup).selectAll(".column").data(n.flat()).join(function(s){return s.append("rect").attr("className","column").each(function(o){this.attr(o)})},function(s){return s.each(function(o){this.attr(o)})},function(s){return s.remove()})},t.prototype.update=function(r){this.attr(Vr({},this.attributes,r)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(Xt),che=function(e){dt(t,e);function t(r){var n=this,i=r.style,a=gr(r,["style"]);return n=e.call(this,Ls({},{type:"lines"},Ee({style:i},a)))||this,n.linesGroup=n.appendChild(new tn),n.areasGroup=n.appendChild(new tn),n.render(),n}return t.prototype.render=function(){var r=this.attributes,n=r.lines,i=r.areas,a=r.x,s=r.y;this.style.transform="translate(".concat(a,", ").concat(s,")"),n&&this.renderLines(n),i&&this.renderAreas(i)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(r){this.attr(Vr({},this.attributes,r)),this.render()},t.prototype.renderLines=function(r){Ge(this.linesGroup).selectAll(".line").data(r).join(function(n){return n.append("path").attr("className","line").each(function(i){this.attr(i)})},function(n){return n.each(function(i){this.attr(i)})},function(n){return n.remove()})},t.prototype.renderAreas=function(r){Ge(this.linesGroup).selectAll(".area").data(r).join(function(n){return n.append("path").attr("className","area").each(function(i){this.attr(i)})},function(n){return n.each(function(i){this.style(i)})},function(n){return n.remove()})},t}(Xt);function fhe(e,t){var r,n=t.x,i=t.y,a=Y(i.getOptions().range||[0,0],2),s=a[0],o=a[1];return o>s&&(r=Y([s,o],2),o=r[0],s=r[1]),e.map(function(l){var u=l.map(function(c,f){return[n.map(f),wr(i.map(c),o,s)]});return u})}function Tc(e,t){t===void 0&&(t=!1);var r=t?e.length-1:0,n=e.map(function(i,a){return Ue([a===r?"M":"L"],Y(i),!1)});return t?n.reverse():n}function Od(e,t){if(t===void 0&&(t=!1),e.length<=2)return Tc(e);for(var r=[],n=e.length,i=0;i<n;i+=1){var a=t?e[n-i-1]:e[i];Zw(a,r.slice(-2))||r.push.apply(r,Ue([],Y(a),!1))}var s=rfe(r);return t?s.unshift(Ue(["M"],Y(e[n-1]),!1)):s.unshift(Ue(["M"],Y(e[0]),!1)),s}function lE(e,t,r){var n=Lo(e);return n.push(["L",t,r],["L",0,r],["Z"]),n}function hhe(e,t,r,n){return e.map(function(i){return lE(t?Od(i):Tc(i),r,n)})}function dhe(e,t,r){for(var n=[],i=e.length-1;i>=0;i-=1){var a=e[i],s=Tc(a),o=void 0;if(i===0)o=lE(s,t,r);else{var l=e[i-1],u=Tc(l,!0);u[0][0]="L",o=Ue(Ue(Ue([],Y(s),!1),Y(u),!1),[["Z"]],!1)}n.push(o)}return n}function phe(e,t,r){for(var n=[],i=e.length-1;i>=0;i-=1){var a=e[i],s=Od(a),o=void 0;if(i===0)o=lE(s,t,r);else{var l=e[i-1],u=Od(l,!0),c=a[0];u[0][0]="L",o=Ue(Ue(Ue([],Y(s),!1),Y(u),!1),[Ue(["M"],Y(c),!1),["Z"]],!1)}n.push(o)}return n}function XR(e){return e.length===0?[0,0]:[sd(yK(e,function(t){return sd(t)||0})),ad(mK(e,function(t){return ad(t)||0}))]}function KR(e){for(var t=Lo(e),r=t[0].length,n=Y([Array(r).fill(0),Array(r).fill(0)],2),i=n[0],a=n[1],s=0;s<t.length;s+=1)for(var o=t[s],l=0;l<r;l+=1)o[l]>=0?(o[l]+=i[l],i[l]=o[l]):(o[l]+=a[l],a[l]=o[l]);return t}var vhe=function(e){dt(t,e);function t(r){return e.call(this,r,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(t.prototype,"rawData",{get:function(){var r=this.attributes.data;if(!r||(r==null?void 0:r.length)===0)return[[]];var n=Lo(r);return Ye(n[0])?[n]:n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?KR(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var r=this.scales.y,n=Y(r.getOptions().domain||[0,0],2),i=n[0],a=n[1];return a<0?r.map(a):r.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var r=this.attributes,n=r.width,i=r.height;return{width:n,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var r=this,n=this.attributes,i=n.type,a=n.isStack,s=n.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var o=it(this.attributes,"area"),l=it(this.attributes,"line"),u=this.containerShape.width,c=this.data;if(c[0].length===0)return{lines:[],areas:[]};var f=this.scales,h=f.x,d=f.y,p=fhe(c,{x:h,y:d}),v=[];if(o){var g=this.baseline;a?v=s?phe(p,u,g):dhe(p,u,g):v=hhe(p,s,u,g)}return{lines:p.map(function(m,y){return Ee({stroke:r.getColor(y),d:s?Od(m):Tc(m)},l)}),areas:v.map(function(m,y){return Ee({d:m,fill:r.getColor(y)},o)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var r=this,n=it(this.attributes,"column"),i=this.attributes,a=i.isStack,s=i.type,o=i.scale;if(s!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,u=this.rawData;if(!u)return{columns:[]};a&&(u=KR(u));var c=this.createScales(u),f=c.x,h=c.y,d=Y(XR(u),2),p=d[0],v=d[1],g=new Ju({domain:[0,v-(p>0?0:p)],range:[0,l*o]}),m=f.getBandWidth(),y=this.rawData;return{columns:u.map(function(b,x){return b.map(function(E,S){var _=m/u.length,k=function(){return{x:f.map(S)+_*x,y:E>=0?h.map(E):h.map(0),width:_,height:g.map(Math.abs(E))}},O=function(){return{x:f.map(S),y:h.map(E),width:m,height:g.map(y[x][S])}};return Ee(Ee({fill:r.getColor(x)},n),a?O():k())})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(r,n){ufe(n,".container","rect").attr("className","container").node();var i=r.type,a=r.x,s=r.y,o="spark".concat(i),l=Ee({x:a,y:s},i==="line"?this.linesStyle:this.columnsStyle);Ge(n).selectAll(".spark").data([i]).join(function(u){return u.append(function(c){return c==="line"?new che({className:o,style:l}):new uhe({className:o,style:l})}).attr("className","spark ".concat(o))},function(u){return u.update(l)},function(u){return u.remove()})},t.prototype.getColor=function(r){var n=this.attributes.color;return Si(n)?n[r%n.length]:Ht(n)?n.call(null,r):n},t.prototype.createScales=function(r){var n,i,a=this.attributes,s=a.type,o=a.scale,l=a.range,u=l===void 0?[]:l,c=a.spacing,f=this.containerShape,h=f.width,d=f.height,p=Y(XR(r),2),v=p[0],g=p[1],m=new Ju({domain:[(n=u[0])!==null&&n!==void 0?n:v,(i=u[1])!==null&&i!==void 0?i:g],range:[d,d*(1-o)]});return s==="line"?{type:s,x:new Ju({domain:[0,r[0].length-1],range:[0,h]}),y:m}:{type:s,x:new oE({domain:r[0].map(function(y,b){return b}),range:[0,h],paddingInner:c,paddingOuter:c/2,align:.5}),y:m}},t.tag="sparkline",t}(mr);function ghe(e){return typeof e=="boolean"?!1:"enter"in e&&"update"in e&&"exit"in e}function ZR(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],r=Object.fromEntries(Object.entries(e).filter(function(n){var i=Y(n,1),a=i[0];return!t.includes(a)}));return Object.fromEntries(t.map(function(n){return ghe(e)?e[n]===!1?[n,!1]:[n,Ee(Ee({},e[n]),r)]:[n,r]}))}function au(e,t){e?e.finished.then(t):t()}function mhe(e,t){e.length===0?t():Promise.all(e.map(function(r){return r==null?void 0:r.finished})).then(t)}function UB(e,t){"update"in e?e.update(t):e.attr(t)}function HB(e,t,r){if(t.length===0)return null;if(!r){var n=t.slice(-1)[0];return UB(e,{style:n}),null}return e.animate(t,r)}function yhe(e,t){return!(e.nodeName!=="text"||t.nodeName!=="text"||e.attributes.text!==t.attributes.text)}function bhe(e,t,r,n){if(n===void 0&&(n="destroy"),yhe(e,t))return e.remove(),[null];var i=function(){n==="destroy"?e.destroy():n==="hide"&&Fi(e),t.isVisible()&&Zc(t)};if(!r)return i(),[null];var a=r.duration,s=a===void 0?0:a,o=r.delay,l=o===void 0?0:o,u=Math.ceil(+s/2),c=+s/4,f=Y(e.getGeometryBounds().center,2),h=f[0],d=f[1],p=Y(t.getGeometryBounds().center,2),v=p[0],g=p[1],m=Y([(h+v)/2-h,(d+g)/2-d],2),y=m[0],b=m[1],x=e.style.opacity,E=x===void 0?1:x,S=t.style.opacity,_=S===void 0?1:S,k=e.style.transform||"",O=t.style.transform||"",P=e.animate([{opacity:E,transform:"translate(0, 0) ".concat(k)},{opacity:0,transform:"translate(".concat(y,", ").concat(b,") ").concat(k)}],Ee(Ee({fill:"both"},r),{duration:l+u+c})),N=t.animate([{opacity:0,transform:"translate(".concat(-y,", ").concat(-b,") ").concat(O),offset:.01},{opacity:_,transform:"translate(0, 0) ".concat(O)}],Ee(Ee({fill:"both"},r),{duration:u+c,delay:l+u-c}));return au(N,i),[P,N]}function zi(e,t,r){var n={},i={};return Object.entries(t).forEach(function(a){var s=Y(a,2),o=s[0],l=s[1];if(!Qe(l)){var u=e.style[o]||e.parsedStyle[o]||0;u!==l&&(n[o]=u,i[o]=l)}}),r?HB(e,[n,i],Ee({fill:"both"},r)):(UB(e,i),null)}function qp(e,t){return e.style.opacity||(e.style.opacity=1),zi(e,{opacity:0},t)}var YB={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},XB={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},KB={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},ra=Xi({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),bs=Xi({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),whe=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n){var i=r.x,a=r.y,s=r.size,o=s===void 0?10:s,l=r.radius,u=l===void 0?o/4:l,c=r.orientation,f=gr(r,["x","y","size","radius","orientation"]),h=o,d=h*2.4,p=Ge(n).maybeAppendByClassName(bs.iconRect,"rect").styles(Ee(Ee({},f),{width:h,height:d,radius:u,x:i-h/2,y:a-d/2,transformOrigin:"center"})),v=i+1/3*h-h/2,g=i+2/3*h-h/2,m=a+1/4*d-d/2,y=a+3/4*d-d/2;p.maybeAppendByClassName("".concat(bs.iconLine,"-1"),"line").styles(Ee({x1:v,x2:v,y1:m,y2:y},f)),p.maybeAppendByClassName("".concat(bs.iconLine,"-2"),"line").styles(Ee({x1:g,x2:g,y1:m,y2:y},f)),c==="vertical"&&(p.node().style.transform="rotate(90)")},t}(mr),xhe=function(e){dt(t,e);function t(r){return e.call(this,r,KB)||this}return t.prototype.renderLabel=function(r){var n=this,i=this.attributes,a=i.x,s=i.y,o=i.showLabel,l=it(this.attributes,"label"),u=l.x,c=u===void 0?0:u,f=l.y,h=f===void 0?0:f,d=l.transform,p=l.transformOrigin,v=gr(l,["x","y","transform","transformOrigin"]),g=Y(Za(v,[]),2),m=g[0],y=g[1],b=Ge(r).maybeAppendByClassName(bs.labelGroup,"g").styles(y),x=Ee(Ee({},XB),m),E=x.text,S=gr(x,["text"]);ri(!!o,b,function(_){n.label=_.maybeAppendByClassName(bs.label,"text").styles(Ee(Ee({},S),{x:a+c,y:s+h,transform:d,transformOrigin:p,text:"".concat(E)})),n.label.on("mousedown",function(k){k.stopPropagation()}),n.label.on("touchstart",function(k){k.stopPropagation()})})},t.prototype.renderIcon=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.orientation,o=n.type,l=Ee(Ee({x:i,y:a,orientation:s},YB),it(this.attributes,"icon")),u=this.attributes.iconShape,c=u===void 0?function(){return new whe({style:l})}:u,f=Ge(r).maybeAppendByClassName(bs.iconGroup,"g");f.selectAll(bs.icon.class).data([c]).join(function(h){return h.append(typeof c=="string"?c:function(){return c(o)}).attr("className",bs.icon.name)},function(h){return h.update(l)},function(h){return h.remove()})},t.prototype.render=function(r,n){this.renderIcon(n),this.renderLabel(n)},t}(mr),_he=function(e){dt(t,e);function t(r){var n=e.call(this,r,Ee(Ee(Ee({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},ll(KB,"handle")),ll(YB,"handleIcon")),ll(XB,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(i){return function(a){a.stopPropagation(),n.target=i,n.prevPos=n.getOrientVal(MR(a));var s=n.availableSpace,o=s.x,l=s.y,u=n.getBBox(),c=u.x,f=u.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([o,l])-n.getOrientVal([+c,+f])),n.selectionWidth=0,document.addEventListener("pointermove",n.onDragging),document.addEventListener("pointerup",n.onDragEnd)}},n.onDragging=function(i){var a=n.attributes,s=a.slidable,o=a.brushable,l=a.type;i.stopPropagation();var u=n.getOrientVal(MR(i)),c=u-n.prevPos;if(c){var f=n.getRatio(c);switch(n.target){case"start":s&&n.setValuesOffset(f);break;case"end":s&&n.setValuesOffset(0,f);break;case"selection":s&&n.setValuesOffset(f,f);break;case"track":if(!o)return;n.selectionWidth+=f,l==="range"?n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0):n.innerSetValues([0,n.selectionStartPos+n.selectionWidth],!0);break}n.prevPos=u}},n.onDragEnd=function(){document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointerup",n.onDragEnd),n.target="",n.updateHandlesPosition(!1)},n.onValueChange=function(i){var a=n.attributes,s=a.onChange,o=a.type,l=o==="range"?i:i[1],u=o==="range"?n.getValues():n.getValues()[1],c=new Tr("valuechange",{detail:{oldValue:l,value:u}});n.dispatchEvent(c),s==null||s(u)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(r){this.attributes.values=this.clampValues(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){var r=this.attributes.orientation;if(r!=="horizontal")return null;var n=it(this.attributes,"sparkline");return Ee(Ee({zIndex:0},this.availableSpace),n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var r=this.attributes,n=r.trackLength,i=r.trackSize,a=Y(this.getOrientVal([[n,i],[i,n]]),2),s=a[0],o=a[1];return{width:s,height:o}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var r=this.attributes;r.x,r.y;var n=r.padding,i=Y(rn(n),4),a=i[0],s=i[1],o=i[2],l=i[3],u=this.shape,c=u.width,f=u.height;return{x:l,y:a,width:c-(l+s),height:f-(a+o)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(r,n){r===void 0&&(r=[0,0]),n===void 0&&(n=!1),this.attributes.values=r;var i=n===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},t.prototype.updateSelectionArea=function(r){var n=this.calcSelectionArea();this.foregroundGroup.selectAll(ra.selection.class).each(function(i,a){zi(this,n[a],r)})},t.prototype.updateHandlesPosition=function(r){this.attributes.showHandle&&(this.startHandle&&zi(this.startHandle,this.getHandleStyle("start"),r),this.endHandle&&zi(this.endHandle,this.getHandleStyle("end"),r))},t.prototype.innerSetValues=function(r,n){r===void 0&&(r=[0,0]),n===void 0&&(n=!1);var i=this.values,a=this.clampValues(r);this.attributes.values=a,this.setValues(a),n&&this.onValueChange(i)},t.prototype.renderTrack=function(r){var n=this.attributes,i=n.x,a=n.y,s=it(this.attributes,"track");this.trackShape=Ge(r).maybeAppendByClassName(ra.track,"rect").styles(Ee(Ee({x:i,y:a},this.shape),s))},t.prototype.renderBrushArea=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.brushable;this.brushArea=Ge(r).maybeAppendByClassName(ra.brushArea,"rect").styles(Ee({x:i,y:a,fill:"transparent",cursor:s?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(r){var n=this,i=this.attributes,a=i.x,s=i.y,o=i.orientation,l=Ge(r).maybeAppendByClassName(ra.sparklineGroup,"g");ri(o==="horizontal",l,function(u){var c=Ee(Ee({},n.sparklineStyle),{x:a,y:s});u.maybeAppendByClassName(ra.sparkline,function(){return new vhe({style:c})}).update(c)})},t.prototype.renderHandles=function(){var r=this,n,i=this.attributes,a=i.showHandle,s=i.type,o=s==="range"?["start","end"]:["end"],l=a?o:[],u=this;(n=this.foregroundGroup)===null||n===void 0||n.selectAll(ra.handle.class).data(l.map(function(c){return{type:c}}),function(c){return c.type}).join(function(c){return c.append(function(f){var h=f.type;return new xhe({style:r.getHandleStyle(h)})}).each(function(f){var h=f.type;this.attr("class","".concat(ra.handle.name," ").concat(h,"-handle"));var d="".concat(h,"Handle");u[d]=this,this.addEventListener("pointerdown",u.onDragStart(h))})},function(c){return c.each(function(f){var h=f.type;this.update(u.getHandleStyle(h))})},function(c){return c.each(function(f){var h=f.type,d="".concat(h,"Handle");u[d]=void 0}).remove()})},t.prototype.renderSelection=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.type,o=n.selectionType;this.foregroundGroup=Ge(r).maybeAppendByClassName(ra.foreground,"g");var l=it(this.attributes,"selection"),u=function(f){return f.style("visibility",function(h){return h.show?"visible":"hidden"}).style("cursor",function(h){return o==="select"?"grab":o==="invert"?"crosshair":"default"}).styles(Ee(Ee({},l),{transform:"translate(".concat(i,", ").concat(a,")")}))},c=this;this.foregroundGroup.selectAll(ra.selection.class).data(s==="value"?[]:this.calcSelectionArea().map(function(f,h){return{style:Ee({},f),index:h,show:o==="select"?h===1:h!==1}}),function(f){return f.index}).join(function(f){return f.append("rect").attr("className",ra.selection.name).call(u).each(function(h,d){var p=this;d===1?(c.selectionShape=Ge(this),this.on("pointerdown",function(v){p.attr("cursor","grabbing"),c.onDragStart("selection")(v)}),c.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),c.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),c.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){p.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){p.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){p.attr("cursor","pointer")})):this.on("pointerdown",c.onDragStart("track"))})},function(f){return f.call(u)},function(f){return f.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(r,n){this.renderTrack(n),this.renderSparkline(n),this.renderBrushArea(n),this.renderSelection(n)},t.prototype.clampValues=function(r,n){var i;n===void 0&&(n=4);var a=Y(this.range,2),s=a[0],o=a[1],l=Y(this.getValues().map(function(g){return AR(g,n)}),2),u=l[0],c=l[1],f=Array.isArray(r)?r:[u,r??c],h=Y((f||[u,c]).map(function(g){return AR(g,n)}),2),d=h[0],p=h[1];if(this.attributes.type==="value")return[0,wr(p,s,o)];d>p&&(i=Y([p,d],2),d=i[0],p=i[1]);var v=p-d;return v>o-s?[s,o]:d<s?u===s&&c===p?[s,p]:[s,v+s]:p>o?c===o&&u===d?[d,o]:[o-v,o]:[d,p]},t.prototype.calcSelectionArea=function(r){var n=Y(this.clampValues(r),2),i=n[0],a=n[1],s=this.availableSpace,o=s.x,l=s.y,u=s.width,c=s.height;return this.getOrientVal([[{y:l,height:c,x:o,width:i*u},{y:l,height:c,x:i*u+o,width:(a-i)*u},{y:l,height:c,x:a*u,width:(1-a)*u}],[{x:o,width:u,y:l,height:i*c},{x:o,width:u,y:i*c+l,height:(a-i)*c},{x:o,width:u,y:a*c,height:(1-a)*c}]])},t.prototype.calcHandlePosition=function(r){var n=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,s=i.y,o=i.width,l=i.height,u=Y(this.clampValues(),2),c=u[0],f=u[1],h=r==="start"?-n:n,d=(r==="start"?c:f)*this.getOrientVal([o,l])+h;return{x:a+this.getOrientVal([d,o/2]),y:s+this.getOrientVal([l/2,d])}},t.prototype.inferTextStyle=function(r){var n=this.attributes.orientation;return n==="horizontal"?{}:r==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:r==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(r){var n,i=this.attributes,a=i.type,s=i.orientation,o=i.formatter,l=i.autoFitLabel,u=it(this.attributes,"handle"),c=it(u,"label"),f=u.spacing,h=this.getHandleSize(),d=this.clampValues(),p=r==="start"?d[0]:d[1],v=o(p),g=new tE({style:Ee(Ee(Ee({},c),this.inferTextStyle(r)),{text:v})}),m=g.getBBox(),y=m.width,b=m.height;if(g.destroy(),!l){if(a==="value")return{text:v,x:0,y:-b-f};var x=f+h+(s==="horizontal"?y/2:0);return n={text:v},n[s==="horizontal"?"x":"y"]=r==="start"?-x:x,n}var E=0,S=0,_=this.availableSpace,k=_.width,O=_.height,P=this.calcSelectionArea()[1],N=P.x,R=P.y,L=P.width,D=P.height,$=f+h;if(s==="horizontal"){var X=$+y/2;if(r==="start"){var K=N-$-y;E=K>0?-X:X}else{var V=k-N-L-$>y;E=V?X:-X}}else{var ne=$,we=b+$;r==="start"?S=R-h>b?-we:ne:S=O-(R+D)-h>b?we:-ne}return{x:E,y:S,text:v}},t.prototype.getHandleLabelStyle=function(r){var n=it(this.attributes,"handleLabel");return Ee(Ee(Ee({},n),this.calcHandleText(r)),this.inferTextStyle(r))},t.prototype.getHandleIconStyle=function(){var r=this.attributes.handleIconShape,n=it(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return Ee({cursor:i,shape:r,size:a},n)},t.prototype.getHandleStyle=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.showLabel,o=n.showLabelOnInteraction,l=n.orientation,u=this.calcHandlePosition(r),c=u.x,f=u.y,h=this.calcHandleText(r),d=s;return!s&&o&&(this.target?d=!0:d=!1),Ee(Ee(Ee({},ll(this.getHandleIconStyle(),"icon")),ll(Ee(Ee({},this.getHandleLabelStyle(r)),h),"label")),{transform:"translate(".concat(c+i,", ").concat(f+a,")"),orientation:l,showLabel:d,type:r,zIndex:3})},t.prototype.getHandleSize=function(){var r=this.attributes,n=r.handleIconSize,i=r.width,a=r.height;return n||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},t.prototype.getOrientVal=function(r){var n=Y(r,2),i=n[0],a=n[1],s=this.attributes.orientation;return s==="horizontal"?i:a},t.prototype.setValuesOffset=function(r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var a=this.attributes.type,s=Y(this.getValues(),2),o=s[0],l=s[1],u=a==="range"?r:0,c=[o+u,l+n].sort();i?this.setValues(c):this.innerSetValues(c,!0)},t.prototype.getRatio=function(r){var n=this.availableSpace,i=n.width,a=n.height;return r/this.getOrientVal([i,a])},t.prototype.dispatchCustomEvent=function(r,n,i){var a=this;r.on(n,function(s){s.stopPropagation(),a.dispatchEvent(new Tr(i,{detail:s}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var r=this.brushArea;this.dispatchCustomEvent(r,"click","trackClick"),this.dispatchCustomEvent(r,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(r,"pointerleave","trackMouseleave"),r.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(r){var n=this.attributes.scrollable;if(n){var i=r.deltaX,a=r.deltaY,s=a||i,o=this.getRatio(s);this.setValuesOffset(o,o,!0)}},t.tag="slider",t}(mr),uE={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Gc({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};Ls({},uE,{style:{type:"arc"}});Ls({},uE,{style:{}});var It=Xi({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),Gl=Xi({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function ZB(e){return e.reduce(function(t,r,n){return t.push(Ue([n===0?"M":"L"],Y(r),!1)),t},[])}function Ehe(e,t,r){var n=t.connect,i=n===void 0?"line":n,a=t.center;if(i==="line")return ZB(e);if(!a)return[];var s=kc(e[0],a),o=r?0:1;return e.reduce(function(l,u,c){return c===0?l.push(Ue(["M"],Y(u),!1)):l.push(Ue(["A",s,s,0,0,o],Y(u),!1)),l},[])}function Nx(e,t,r){return t.type==="surround"?Ehe(e,t,r):ZB(e)}function She(e,t,r){var n=r.type,i=r.connect,a=r.center,s=r.closed,o=s?[["Z"]]:[],l=Y([Nx(e,r),Nx(t.slice().reverse(),r,!0)],2),u=l[0],c=l[1],f=Y([e[0],t.slice(-1)[0]],2),h=f[0],d=f[1],p=function(y,b){return[u,y,c,b,o].flat()};if(i==="line"||n==="surround")return p([Ue(["L"],Y(d),!1)],[Ue(["L"],Y(h),!1)]);if(!a)throw new Error("Arc grid need to specified center");var v=Y([kc(d,a),kc(h,a)],2),g=v[0],m=v[1];return p([Ue(["A",g,g,0,0,1],Y(d),!1),Ue(["L"],Y(d),!1)],[Ue(["A",m,m,0,0,0],Y(h),!1),Ue(["L"],Y(h),!1)])}function khe(e,t,r,n){var i=r.animate,a=r.isBillboard,s=t.map(function(o,l){return{id:o.id||"grid-line-".concat(l),d:Nx(o.points,r)}});return e.selectAll(Gl.line.class).data(s,function(o){return o.id}).join(function(o){return o.append("path").each(function(l,u){var c=Ei(PR(Ee({d:l.d},n)),[l,u,s]);this.attr(Ee({class:Gl.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},c))})},function(o){return o.transition(function(l,u){var c=Ei(PR(Ee({d:l.d},n)),[l,u,s]);return zi(this,c,i.update)})},function(o){return o.transition(function(){var l=this,u=qp(this,i.exit);return au(u,function(){return l.remove()}),u})}).transitions()}function The(e,t,r){var n=r.animate,i=r.connect,a=r.areaFill;if(t.length<2||!a||!i)return[];for(var s=Array.isArray(a)?a:[a,"transparent"],o=function(p){return s[p%s.length]},l=[],u=0;u<t.length-1;u++){var c=Y([t[u].points,t[u+1].points],2),f=c[0],h=c[1],d=She(f,h,r);l.push({d,fill:o(u)})}return e.selectAll(Gl.region.class).data(l,function(p,v){return v}).join(function(p){return p.append("path").each(function(v,g){var m=Ei(v,[v,g,l]);this.attr(m)}).attr("className",Gl.region.name)},function(p){return p.transition(function(v,g){var m=Ei(v,[v,g,l]);return zi(this,m,n.update)})},function(p){return p.transition(function(){var v=this,g=qp(this,n.exit);return au(g,function(){return v.remove()}),g})}).transitions()}function Mhe(e){var t=e.data,r=t===void 0?[]:t,n=e.closed;return n?r.map(function(i){var a=i.points,s=Y(a,1),o=s[0];return Ee(Ee({},i),{points:Ue(Ue([],Y(a),!1),[o],!1)})}):r}var Ahe=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n){r.type,r.center,r.areaFill,r.closed;var i=gr(r,["type","center","areaFill","closed"]),a=Mhe(r),s=Ge(n).maybeAppendByClassName(Gl.lineGroup,"g"),o=Ge(n).maybeAppendByClassName(Gl.regionGroup,"g"),l=khe(s,a,r,i),u=The(o,a,r);return Ue(Ue([],Y(l),!1),Y(u),!1)},t}(mr);function QB(e,t){return Object.fromEntries(Object.entries(e).map(function(r){var n=Y(r,2),i=n[0],a=n[1];return[i,Ei(a,t)]}))}function cE(e,t){return t&&Ht(t)?e.filter(t):e}function JB(e,t){var r=t.startAngle,n=t.endAngle;return(n-r)*e+r}function zp(e,t){if(t.type==="linear"){var r=Y(t.startPos,2),n=r[0],i=r[1],a=Y(t.endPos,2),s=a[0],o=a[1],l=Y([s-n,o-i],2),u=l[0],c=l[1];return qB([u,c])}var f=jl(JB(e,t));return[-Math.sin(f),Math.cos(f)]}function fE(e,t,r){var n=zp(e,r);return efe(n,t!=="positive")}function Qc(e,t){return fE(e,t.labelDirection,t)}function Ohe(e,t){var r=Y(t.startPos,2),n=r[0],i=r[1],a=Y(t.endPos,2),s=a[0],o=a[1],l=Y([s-n,o-i],2),u=l[0],c=l[1];return[n+u*e,i+c*e]}function Phe(e,t){var r=t.radius,n=Y(t.center,2),i=n[0],a=n[1],s=jl(JB(e,t));return[i+r*Math.cos(s),a+r*Math.sin(s)]}function jp(e,t){return t.type==="linear"?Ohe(e,t):Phe(e,t)}function e$(e){return zp(0,e)[1]===0}function t$(e){return zp(0,e)[0]===0}function r$(e,t){return t-e===360}function QR(e,t,r,n,i){var a=t-e,s=Y([i,i],2),o=s[0],l=s[1],u=Y([jl(e),jl(t)],2),c=u[0],f=u[1],h=function(O){return[r+i*Math.cos(O),n+i*Math.sin(O)]},d=Y(h(c),2),p=d[0],v=d[1],g=Y(h(f),2),m=g[0],y=g[1];if(r$(e,t)){var b=(f+c)/2,x=Y(h(b),2),E=x[0],S=x[1];return[["M",p,v],["A",o,l,0,1,0,E,S],["A",o,l,0,1,0,m,y]]}var _=a>180?1:0,k=e>t?0:1;return"M".concat(p,",").concat(v,",A").concat(o,",").concat(l,",0,").concat(_,",").concat(k,",").concat(m,",").concat(y)}function Nhe(e){var t=e.attributes,r=t.startAngle,n=t.endAngle,i=t.center,a=t.radius;return Ue(Ue([r,n],Y(i),!1),[a],!1)}function Che(e,t,r,n){var i=t.startAngle,a=t.endAngle,s=t.center,o=t.radius;return e.selectAll(It.line.class).data([{d:QR.apply(void 0,Ue(Ue([i,a],Y(s),!1),[o],!1))}],function(l,u){return u}).join(function(l){return l.append("path").attr("className",It.line.name).styles(t).styles({d:function(u){return u.d}})},function(l){return l.transition(function(){var u=this,c=Jce(this,Nhe(this),Ue(Ue([i,a],Y(s),!1),[o],!1),n.update);if(c){var f=function(){var h=A5(u.attributes,"__keyframe_data__");u.style.d=QR.apply(void 0,Ue([],Y(h),!1))};c.onframe=f,c.onfinish=f}return c}).styles(t)},function(l){return l.remove()}).styles(r).transitions()}function Rhe(e,t){t.truncRange,t.truncShape,t.lineExtension}function Lhe(e,t,r){r===void 0&&(r=[0,0]);var n=Y([e,t,r],3),i=Y(n[0],2),a=i[0],s=i[1],o=Y(n[1],2),l=o[0],u=o[1],c=Y(n[2],2),f=c[0],h=c[1],d=Y([l-a,u-s],2),p=d[0],v=d[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),m=Y([-f/g,h/g],2),y=m[0],b=m[1];return[y*p,y*v,b*p,b*v]}function JR(e){var t=Y(e,2),r=Y(t[0],2),n=r[0],i=r[1],a=Y(t[1],2),s=a[0],o=a[1];return{x1:n,y1:i,x2:s,y2:o}}function Ihe(e,t,r,n){var i=t.showTrunc,a=t.startPos,s=t.endPos,o=t.truncRange,l=t.lineExtension,u=Y([a,s],2),c=Y(u[0],2),f=c[0],h=c[1],d=Y(u[1],2),p=d[0],v=d[1],g=Y(l?Lhe(a,s,l):new Array(4).fill(0),4),m=g[0],y=g[1],b=g[2],x=g[3],E=function(V){return e.selectAll(It.line.class).data(V,function(ne,we){return we}).join(function(ne){return ne.append("line").attr("className",function(we){return"".concat(It.line.name," ").concat(we.className)}).styles(r).transition(function(we){return zi(this,JR(we.line),!1)})},function(ne){return ne.styles(r).transition(function(we){var Se=we.line;return zi(this,JR(Se),n.update)})},function(ne){return ne.remove()}).transitions()};if(!i||!o)return E([{line:[[f+m,h+y],[p+b,v+x]],className:It.line.name}]);var S=Y(o,2),_=S[0],k=S[1],O=p-f,P=v-h,N=Y([f+O*_,h+P*_],2),R=N[0],L=N[1],D=Y([f+O*k,h+P*k],2),$=D[0],X=D[1],K=E([{line:[[f+m,h+y],[R,L]],className:It.lineFirst.name},{line:[[$,X],[p+b,v+x]],className:It.lineSecond.name}]);return Rhe(e,t),K}function Dhe(e,t,r,n){var i=r.showArrow,a=r.showTrunc,s=r.lineArrow,o=r.lineArrowOffset,l=r.lineArrowSize,u;if(t==="arc"?u=e.select(It.line.class):a?u=e.select(It.lineSecond.class):u=e.select(It.line.class),!i||!s||r.type==="arc"&&r$(r.startAngle,r.endAngle)){var c=u.node();c&&(c.style.markerEnd=void 0);return}var f=Ka(s);f.attr(n),nE(f,l),u.style("markerEnd",f).style("markerEndOffset",-o)}function Fhe(e,t,r){var n=t.type,i,a=it(t,"line");return n==="linear"?i=Ihe(e,t,OR(a,"arrow"),r):i=Che(e,t,OR(a,"arrow"),r),Dhe(e,n,t,a),i}function Bhe(e,t){return fE(e,t.gridDirection,t)}function n$(e){var t=e.type,r=e.gridCenter;return t==="linear"?r:r||e.center}function $he(e,t){var r=t.gridLength;return e.map(function(n,i){var a=n.value,s=Y(jp(a,t),2),o=s[0],l=s[1],u=Y($a(Bhe(a,t),r),2),c=u[0],f=u[1];return{id:i,points:[[o,l],[o+c,l+f]]}})}function qhe(e,t){var r=t.gridControlAngles,n=n$(t);if(!n)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!r||r.length===0)throw new Error("Invalid gridControlAngles");var i=Y(n,2),a=i[0],s=i[1];return e.map(function(o,l){var u=o.value,c=Y(jp(u,t),2),f=c[0],h=c[1],d=Y([f-a,h-s],2),p=d[0],v=d[1],g=[];return r.forEach(function(m){var y=jl(m),b=Y([Math.cos(y),Math.sin(y)],2),x=b[0],E=b[1],S=p*x-v*E+a,_=p*E+v*x+s;g.push([S,_])}),{points:g,id:l}})}function zhe(e,t,r,n){var i=it(r,"grid"),a=i.type,s=i.areaFill,o=n$(r),l=cE(t,r.gridFilter),u=a==="segment"?$he(l,r):qhe(l,r),c=Ee(Ee({},i),{center:o,areaFill:Ht(s)?l.map(function(f,h){return Ei(s,[f,h,l])}):s,animate:n,data:u});return e.selectAll(It.grid.class).data([1]).join(function(f){return f.append(function(){return new Ahe({style:c})}).attr("className",It.grid.name)},function(f){return f.transition(function(){return this.update(c)})},function(f){return f.remove()}).transitions()}var Cx=function(){function e(t,r,n,i){this.set(t,r,n,i)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(t,r,n){var i=this,a=i.x1,s=i.y1,o=i.x2,l=i.y2,u=Math.cos(t),c=Math.sin(t),f=r-r*u+n*c,h=n-r*c-n*u,d=[[u*a-c*l+f,c*a+u*l+h],[u*o-c*l+f,c*o+u*l+h],[u*a-c*s+f,c*a+u*s+h],[u*o-c*s+f,c*o+u*s+h]];return d},e.prototype.set=function(t,r,n,i){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),i<r?(this.y2=r,this.y1=i):(this.y1=r,this.y2=i),this},e.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},e}();function Rx(e,t){var r=e.getEulerAngles()||0;e.setEulerAngles(0);var n=e.getBounds(),i=Y(n.min,2),a=i[0],s=i[1],o=Y(n.max,2),l=o[0],u=o[1],c=e.getBBox(),f=c.width,h=c.height,d=h,p=0,v=0,g=a,m=s,y=BB(e);if(y){d-=1.5;var b=y.style.textAlign,x=y.style.textBaseline;b==="center"?g=(a+l)/2:(b==="right"||b==="end")&&(g=l),x==="middle"?m=(s+u)/2:x==="bottom"&&(m=u)}var E=Y(rn(t),4),S=E[0],_=S===void 0?0:S,k=E[1],O=k===void 0?0:k,P=E[2],N=P===void 0?_:P,R=E[3],L=R===void 0?O:R,D=new Cx((p+=a)-L,(v+=s)-_,p+f+O,v+d+N);return e.setEulerAngles(r),D.rotatedPoints(jl(r),g,m)}function Lu(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function Iu(e,t,r){var n=(t[1]-e[1])*(r[0]-t[0])-(t[0]-e[0])*(r[1]-t[1]);return n===0?0:n<0?2:1}function jhe(e,t){var r=Iu(e[0],e[1],t[0]),n=Iu(e[0],e[1],t[1]),i=Iu(t[0],t[1],e[0]),a=Iu(t[0],t[1],e[1]);return!!(r!==n&&i!==a||r===0&&Lu(e,t[0])||n===0&&Lu(e,t[1])||i===0&&Lu(t,e[0])||a===0&&Lu(t,e[1]))}function Ghe(e,t){var r=e.length;if(r<3)return!1;var n=[t,[9999,t[1]]],i=0,a=0;do{var s=[e[a],e[(a+1)%r]];if(jhe(s,n)){if(Iu(s[0],t,s[1])===0)return Lu(s,t);i++}a=(a+1)%r}while(a!==0);return!!(i&1)}function Whe(e,t){return t.every(function(r){return Ghe(e,r)})}function Vhe(e,t,r){var n=e.x1,i=e.x2,a=e.y1,s=e.y2,o=[[n,a],[i,a],[i,s],[n,s]],l=Rx(t,r);return Whe(o,l)}function Uhe(e,t){var r=Y(e,4),n=r[0],i=r[1],a=r[2],s=r[3],o=Y(t,4),l=o[0],u=o[1],c=o[2],f=o[3],h=a-n,d=s-i,p=c-l,v=f-u,g=h*v-p*d;if(g===0)return!1;var m=g>0,y=n-l,b=i-u,x=h*b-d*y;if(x<0===m)return!1;var E=p*b-v*y;return!(E<0===m||x>g===m||E>g===m)}function Hhe(e,t){var r=[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]];return r.some(function(n){return Uhe(t,n)})}function Yhe(e,t,r){var n,i,a=Rx(e,r).flat(1),s=Rx(t,r).flat(1),o=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var l=$c(o),u=l.next();!u.done;u=l.next()){var c=u.value;if(Hhe(s,c))return!0}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return!1}function Xhe(e,t){var r=e.type,n=e.labelDirection,i=e.crossSize;if(!i)return!1;if(r==="arc"){var a=e.center,s=e.radius,o=Y(a,2),l=o[0],u=o[1],c=n==="negative"?0:i,f=-s-c,h=s+c,d=Y(rn(t),4),p=d[0],v=d[1],g=d[2],m=d[3];return new Cx(l+f-m,u+f-p,l+h+v,u+h+g)}var y=Y(e.startPos,2),b=y[0],x=y[1],E=Y(e.endPos,2),S=E[0],_=E[1],k=Y(t$(e)?[-t,0,t,0]:[0,t,0,-t],4),O=k[0],P=k[1],N=k[2],R=k[3],L=Qc(0,e),D=$a(L,i),$=new Cx(b,x,S,_);return $.x1+=R,$.y1+=O,$.x2+=P+D[0],$.y2+=N+D[1],$}function Gp(e,t,r){var n,i,a=t.crossPadding,s=new Set,o=null,l=Xhe(t,a),u=function(p){return l?Vhe(l,p):!0},c=function(p,v){return!p||!p.firstChild?!0:!Yhe(p.firstChild,v.firstChild,rn(r))};try{for(var f=$c(e),h=f.next();!h.done;h=f.next()){var d=h.value;u(d)?!o||c(o,d)?o=d:(s.add(o),s.add(d)):s.add(d)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return Array.from(s)}function Kb(e,t){return t===void 0&&(t={}),Qe(e)?0:typeof e=="number"?e:Math.floor(Hce(e,t))}function Khe(e,t,r,n){if(!(e.length<=1)){var i=t.suffix,a=i===void 0?"...":i,s=t.minLength,o=t.maxLength,l=o===void 0?1/0:o,u=t.step,c=u===void 0?" ":u,f=t.margin,h=f===void 0?[0,0,0,0]:f,d=FB(n.getTextShape(e[0])),p=Kb(c,d),v=s?Kb(s,d):p,g=Kb(l,d);(Qe(g)||g===1/0)&&(g=Math.max.apply(null,e.map(function(S){return S.getBBox().width})));var m=e.slice(),y=Y(h,4);y[0],y[1],y[2],y[3];for(var b=function(S){if(m.forEach(function(_){n.ellipsis(n.getTextShape(_),S,a)}),m=Gp(e,r,h),m.length<1)return{value:void 0}},x=g;x>v+p;x-=p){var E=b(x);if(typeof E=="object")return E.value}}}var Zhe={parity:function(e,t){var r=t.seq,n=r===void 0?2:r;return e.filter(function(i,a){return a%n?(Fi(i),!1):!0})}},Qhe=function(e){return e.filter(DB)};function Jhe(e,t,r,n){var i=e.length,a=t.keepHeader,s=t.keepTail;if(!(i<=1||i===2&&a&&s)){var o=Zhe.parity,l=function(b){return b.forEach(n.show),b},u=2,c=e.slice(),f=e.slice(),h=Math.min.apply(Math,Ue([1],Y(e.map(function(b){return b.getBBox().width})),!1));if(r.type==="linear"&&(e$(r)||t$(r))){var d=NR(e[0]).left,p=NR(e[i-1]).right,v=Math.abs(p-d)||1;u=Math.max(Math.floor(i*h/v),u)}var g,m;for(a&&(g=c.splice(0,1)[0]),s&&(m=c.splice(-1,1)[0],c.reverse()),l(c);u<e.length&&Gp(Qhe(m?Ue(Ue([m],Y(f),!1),[g],!1):Ue([g],Y(f),!1)),r,t==null?void 0:t.margin).length;){if(m&&!g&&u%2===0){var y=c.splice(0,1);y.forEach(n.hide)}else if(m&&g){var y=c.splice(0,1);y.forEach(n.hide)}f=o(l(c),{seq:u}),u++}}}function ede(e,t,r,n){var i,a,s=t.optionalAngles,o=s===void 0?[0,45,90]:s,l=t.margin,u=t.recoverWhenFailed,c=u===void 0?!0:u,f=e.map(function(m){return m.getLocalEulerAngles()}),h=function(){return Gp(e,r,l).length<1},d=function(m){return e.forEach(function(y,b){var x=Array.isArray(m)?m[b]:m;n.rotate(y,+x)})};try{for(var p=$c(o),v=p.next();!v.done;v=p.next()){var g=v.value;if(d(g),h())return}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}c&&d(f)}function tde(e){var t=e.type,r=e.labelDirection;return t==="linear"&&e$(e)?r==="negative"?"bottom":"top":"middle"}function rde(e,t,r,n){var i=t.wordWrapWidth,a=i===void 0?50:i,s=t.maxLines,o=s===void 0?3:s,l=t.recoverWhenFailed,u=l===void 0?!0:l,c=t.margin,f=c===void 0?[0,0,0,0]:c,h=e.map(function(y){return y.attr("maxLines")||1}),d=Math.min.apply(Math,Ue([],Y(h),!1)),p=function(){return Gp(e,r,f).length<1},v=tde(r),g=function(y){return e.forEach(function(b,x){var E=Array.isArray(y)?y[x]:y;n.wrap(b,a,E,v)})};if(!(d>o)){for(var m=d;m<=o;m++)if(g(m),p())return;u&&g(h)}}var nde=new Map([["hide",Jhe],["rotate",ede],["ellipsis",Khe],["wrap",rde]]);function ide(e,t,r){return t.labelOverlap.length<1?!1:r==="hide"?!Vce(e[0]):r==="rotate"?!e.some(function(n){var i;return!!(!((i=n.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):r==="ellipsis"||r==="wrap"?e.filter(function(n){return n.querySelector("text")}).length>1:!0}function ade(e,t,r){var n=t.labelOverlap,i=n===void 0?[]:n;i.length&&i.forEach(function(a){var s=a.type,o=nde.get(s);ide(e,t,s)&&(o==null||o(e,a,t,r))})}function sde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n){return n==="positive"?-1:1};return e.reduce(function(n,i){return n*r(i)},1)}function eL(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function Lx(e,t){var r=Y(e,2),n=r[0],i=r[1],a=Y(t,2),s=a[0],o=a[1],l=Y([n*s+i*o,n*o-i*s],2),u=l[0],c=l[1];return Math.atan2(c,u)}function ode(e){var t=(e+360)%180;return Yr(t,-90,90)||(t+=180),t}function lde(e,t,r){var n,i=r.labelAlign,a=(n=t.style.transform)===null||n===void 0?void 0:n.includes("rotate");if(a)return t.getLocalEulerAngles();var s=0,o=Qc(e.value,r),l=zp(e.value,r);return i==="horizontal"?0:(i==="perpendicular"?s=Lx([1,0],o):s=Lx([l[0]<0?-1:1,0],l),ode(LB(s)))}function i$(e,t,r){var n=r.type,i=r.labelAlign,a=Qc(e,r),s=eL(t),o=eL(LB(Lx([1,0],a))),l="center",u="middle";return n==="linear"?[90,270].includes(o)&&s===0?(l="center",u=a[1]===1?"top":"bottom"):!(o%180)&&[90,270].includes(s)?l="center":o===0?(Yr(s,0,90,!1,!0)||Yr(s,0,90)||Yr(s,270,360))&&(l="start"):o===90?Yr(s,0,90,!1,!0)?l="start":(Yr(s,90,180)||Yr(s,270,360))&&(l="end"):o===270?Yr(s,0,90,!1,!0)?l="end":(Yr(s,90,180)||Yr(s,270,360))&&(l="start"):o===180&&(s===90?l="start":(Yr(s,0,90)||Yr(s,270,360))&&(l="end")):i==="parallel"?Yr(o,0,180,!0)?u="top":u="bottom":i==="horizontal"?Yr(o,90,270,!1)?l="end":(Yr(o,270,360,!1)||Yr(o,0,90))&&(l="start"):i==="perpendicular"&&(Yr(o,90,270)?l="end":l="start"),{textAlign:l,textBaseline:u}}function ude(e,t,r){t.setLocalEulerAngles(e);var n=t.__data__.value,i=i$(n,e,r),a=t.querySelector(It.labelItem.class);a&&a$(a,i)}function tL(e,t,r){var n=r.showTick,i=r.tickLength,a=r.tickDirection,s=r.labelDirection,o=r.labelSpacing,l=t.indexOf(e),u=Ei(o,[e,l,t]),c=Y([Qc(e.value,r),sde(s,a)],2),f=c[0],h=c[1],d=h===1?Ei(n?i:0,[e,l,t]):0,p=Y(Ru($a(f,u+d),jp(e.value,r)),2),v=p[0],g=p[1];return{x:v,y:g}}function cde(e,t,r,n){var i=n.labelFormatter,a=Ht(i)?function(){return Ka(Ei(i,[e,t,r,Qc(e.value,n)]))}:function(){return Ka(e.label||"")};return a}function a$(e,t){e.nodeName==="text"&&e.attr(t)}function rL(e){ade(this.node().childNodes,e,{hide:Fi,show:Zc,rotate:function(t,r){ude(+r,t,e)},ellipsis:function(t,r,n){t&&Ox(t,r||1/0,n)},wrap:function(t,r,n){t&&Yce(t,r,n)},getTextShape:function(t){return t.querySelector("text")}})}function nL(e,t,r,n,i){var a=r.indexOf(t),s=Ge(e).append(cde(t,a,r,i)).attr("className",It.labelItem.name).node(),o=Y(Za(QB(n,[t,a,r])),2),l=o[0],u=o[1],c=u.transform,f=gr(u,["transform"]);zB(s,c);var h=lde(t,s,i);return s.getLocalEulerAngles()||s.setLocalEulerAngles(h),a$(s,Ee(Ee({},i$(t.value,h,i)),l)),e.attr(f),s}function fde(e,t,r,n){var i=cE(t,r.labelFilter),a=it(r,"label");return e.selectAll(It.label.class).data(i,function(s,o){return o}).join(function(s){return s.append("g").attr("className",It.label.name).transition(function(o){nL(this,o,t,a,r);var l=tL(o,t,r),u=l.x,c=l.y;return this.style.transform="translate(".concat(u,", ").concat(c,")"),null}).call(function(){rL.call(e,r)})},function(s){return s.transition(function(o){var l=this.querySelector(It.labelItem.class),u=nL(this,o,t,a,r),c=bhe(l,u,n.update),f=tL(o,t,r),h=f.x,d=f.y,p=zi(this,{transform:"translate(".concat(h,", ").concat(d,")")},n.update);return Ue(Ue([],Y(c),!1),[p],!1)}).call(function(o){var l=A5(o,"_transitions").flat().filter(DB);mhe(l,function(){rL.call(e,r)})})},function(s){return s.transition(function(){var o=this,l=qp(this.childNodes[0],n.exit);return au(l,function(){return Ge(o).remove()}),l})}).transitions()}function s$(e,t){return fE(e,t.tickDirection,t)}function hde(e,t){var r=Y(e,2),n=r[0],i=r[1];return[[0,0],[n*t,i*t]]}function dde(e,t,r,n,i){var a=i.tickLength,s=Y(hde(n,Ei(a,[e,t,r])),2),o=Y(s[0],2),l=o[0],u=o[1],c=Y(s[1],2),f=c[0],h=c[1];return{x1:l,x2:f,y1:u,y2:h}}function pde(e,t,r,n,i){var a=i.tickFormatter,s=s$(t.value,i),o="line";return Ht(a)&&(o=function(){return Ei(a,[t,r,n,s])}),e.append(o).attr("className",It.tickItem.name)}function vde(e,t,r,n,i,a,s){var o=s$(e.value,a),l=dde(e,t,r,o,a),u=l.x1,c=l.x2,f=l.y1,h=l.y2,d=Y(Za(QB(s,[e,t,r,o])),2),p=d[0],v=d[1];n.node().nodeName==="line"&&n.styles(Ee({x1:u,x2:c,y1:f,y2:h},p)),i.attr(v),n.styles(p)}function iL(e,t,r,n,i,a){var s=pde(Ge(this),e,t,r,n);vde(e,t,r,s,this,n,i);var o=Y(jp(e.value,n),2),l=o[0],u=o[1];return zi(this,{transform:"translate(".concat(l,", ").concat(u,")")},a)}function gde(e,t,r,n){var i=cE(t,r.tickFilter),a=it(r,"tick");return e.selectAll(It.tick.class).data(i,function(s){return s.id||s.label}).join(function(s){return s.append("g").attr("className",It.tick.name).transition(function(o,l){return iL.call(this,o,l,i,r,a,!1)})},function(s){return s.transition(function(o,l){return this.removeChildren(),iL.call(this,o,l,i,r,a,n.update)})},function(s){return s.transition(function(){var o=this,l=qp(this.childNodes[0],n.exit);return au(l,function(){return o.remove()}),l})}).transitions()}var aL=Xi({text:"text"},"title");function Wp(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(t){return t[0]}):e.length>2?[e[0]]:e.split("")}function mde(e,t){var r=e.attributes,n=r.position,i=r.spacing,a=r.inset,s=r.text,o=e.getBBox(),l=t.getBBox(),u=Wp(n),c=Y(rn(s?i:0),4),f=c[0],h=c[1],d=c[2],p=c[3],v=Y(rn(a),4),g=v[0],m=v[1],y=v[2],b=v[3],x=Y([p+h,f+d],2),E=x[0],S=x[1],_=Y([b+m,g+y],2),k=_[0],O=_[1];if(u[0]==="l")return new An(o.x,o.y,l.width+o.width+E+k,Math.max(l.height+O,o.height));if(u[0]==="t")return new An(o.x,o.y,Math.max(l.width+k,o.width),l.height+o.height+S+O);var P=Y([t.attributes.width||l.width,t.attributes.height||l.height],2),N=P[0],R=P[1];return new An(l.x,l.y,N+o.width+E+k,R+o.height+S+O)}function yde(e,t){var r=Object.entries(t).reduce(function(n,i){var a=Y(i,2),s=a[0],o=a[1],l=e.node().attr(s);return l||(n[s]=o),n},{});e.styles(r)}function bde(e){var t,r,n,i,a=e,s=a.width,o=a.height,l=a.position,u=Y([+s/2,+o/2],2),c=u[0],f=u[1],h=Y([+c,+f,"center","middle"],4),d=h[0],p=h[1],v=h[2],g=h[3],m=Wp(l);return m.includes("l")&&(t=Y([0,"start"],2),d=t[0],v=t[1]),m.includes("r")&&(r=Y([+s,"end"],2),d=r[0],v=r[1]),m.includes("t")&&(n=Y([0,"top"],2),p=n[0],g=n[1]),m.includes("b")&&(i=Y([+o,"bottom"],2),p=i[0],g=i[1]),{x:d,y:p,textAlign:v,textBaseline:g}}var wde=function(e){dt(t,e);function t(r){return e.call(this,r,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return t.prototype.getAvailableSpace=function(){var r=this,n=this.attributes,i=n.width,a=n.height,s=n.position,o=n.spacing,l=n.inset,u=r.querySelector(aL.text.class);if(!u)return new An(0,0,+i,+a);var c=u.getBBox(),f=c.width,h=c.height,d=Y(rn(o),4),p=d[0],v=d[1],g=d[2],m=d[3],y=Y([0,0,+i,+a],4),b=y[0],x=y[1],E=y[2],S=y[3],_=Wp(s);if(_.includes("i"))return new An(b,x,E,S);_.forEach(function(X,K){var V,ne,we,Se;X==="t"&&(V=Y(K===0?[h+g,+a-h-g]:[0,+a],2),x=V[0],S=V[1]),X==="r"&&(ne=Y([+i-f-m],1),E=ne[0]),X==="b"&&(we=Y([+a-h-p],1),S=we[0]),X==="l"&&(Se=Y(K===0?[f+v,+i-f-v]:[0,+i],2),b=Se[0],E=Se[1])});var k=Y(rn(l),4),O=k[0],P=k[1],N=k[2],R=k[3],L=Y([R+P,O+N],2),D=L[0],$=L[1];return new An(b+R,x+O,E-D,S-$)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new An(0,0,0,0)},t.prototype.render=function(r,n){var i=this;r.width,r.height,r.position,r.spacing;var a=gr(r,["width","height","position","spacing"]),s=Y(Za(a),1),o=s[0],l=bde(r),u=l.x,c=l.y,f=l.textAlign,h=l.textBaseline;ri(!!a.text,Ge(n),function(d){i.title=d.maybeAppendByClassName(aL.text,"text").styles(o).call(yde,{x:u,y:c,textAlign:f,textBaseline:h}).node()})},t}(mr);function xde(e,t,r){var n=r.titlePosition,i=n===void 0?"lb":n,a=r.titleSpacing,s=Wp(i),o=e.node().getLocalBounds(),l=Y(o.min,2),u=l[0],c=l[1],f=Y(o.halfExtents,2),h=f[0],d=f[1],p=Y(t.node().getLocalBounds().halfExtents,2),v=p[0],g=p[1],m=Y([u+h,c+d],2),y=m[0],b=m[1],x=Y(rn(a),4),E=x[0],S=x[1],_=x[2],k=x[3];if(["start","end"].includes(i)&&r.type==="linear"){var O=r.startPos,P=r.endPos,N=Y(i==="start"?[O,P]:[P,O],2),R=N[0],L=N[1],D=qB([-L[0]+R[0],-L[1]+R[1]]),$=Y($a(D,E),2),X=$[0],K=$[1];return{x:R[0]+X,y:R[1]+K}}return s.includes("t")&&(b-=d+g+E),s.includes("r")&&(y+=h+v+S),s.includes("l")&&(y-=h+v+k),s.includes("b")&&(b+=d+g+_),{x:y,y:b}}function _de(e,t,r){var n=e.getGeometryBounds().halfExtents,i=n[1]*2;if(t==="vertical"){if(r==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(r==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function sL(e,t,r,n,i){var a=it(n,"title"),s=Y(Za(a),2),o=s[0],l=s[1],u=l.transform,c=l.transformOrigin,f=gr(l,["transform","transformOrigin"]);t.styles(f);var h=u||_de(e.node(),o.direction,o.position);e.styles(Ee(Ee({},o),{transformOrigin:c})),zB(e.node(),h);var d=xde(Ge(r._offscreen||r.querySelector(It.mainGroup.class)),t,n),p=d.x,v=d.y,g=zi(t.node(),{transform:"translate(".concat(p,", ").concat(v,")")},i);return g}function Ede(e,t,r,n){var i=r.titleText;return e.selectAll(It.title.class).data([{title:i}].filter(function(a){return!!a.title}),function(a,s){return a.title}).join(function(a){return a.append(function(){return Ka(i)}).attr("className",It.title.name).transition(function(){return sL(Ge(this),e,t,r,n.enter)})},function(a){return a.transition(function(){return sL(Ge(this),e,t,r,n.update)})},function(a){return a.remove()}).transitions()}function oL(e,t,r,n){var i=e.showLine,a=e.showTick,s=e.showLabel,o=t.maybeAppendByClassName(It.lineGroup,"g"),l=ri(i,o,function(d){return Fhe(d,e,n)})||[],u=t.maybeAppendByClassName(It.tickGroup,"g"),c=ri(a,u,function(d){return gde(d,r,e,n)})||[],f=t.maybeAppendByClassName(It.labelGroup,"g"),h=ri(s,f,function(d){return fde(d,r,e,n)})||[];return Ue(Ue(Ue([],Y(l),!1),Y(c),!1),Y(h),!1).filter(function(d){return!!d})}var Sde=function(e){dt(t,e);function t(r){return e.call(this,r,uE)||this}return t.prototype.render=function(r,n,i){var a=this,s=r.titleText,o=r.data,l=r.animate,u=r.showTitle,c=r.showGrid,f=r.dataThreshold,h=r.truncRange,d=afe(o,f).filter(function(E){var S=E.value;return!(h&&S>h[0]&&S<h[1])}),p=ZR(i===void 0?l:i),v=Ge(n).maybeAppendByClassName(It.gridGroup,"g"),g=ri(c,v,function(E){return zhe(E,d,r,p)})||[],m=Ge(n).maybeAppendByClassName(It.mainGroup,"g");s&&(!this.initialized&&p.enter||this.initialized&&p.update)&&oL(r,Ge(this.offscreenGroup),d,ZR(!1));var y=oL(r,Ge(m.node()),d,p),b=Ge(n).maybeAppendByClassName(It.titleGroup,"g"),x=ri(u,b,function(E){return Ede(E,a,r,p)})||[];return Ue(Ue(Ue([],Y(g),!1),Y(y),!1),Y(x),!1).flat().filter(function(E){return!!E})},t}(mr),ci=Xi({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),kde=function(e){dt(t,e);function t(r){var n=e.call(this,r,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Ife(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new tn({class:ci.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new tn({class:ci.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return Object.defineProperty(t.prototype,"defaultPage",{get:function(){var r=this.attributes.defaultPage;return wr(r,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var r=this.pageViews,n=Y(gfe(r.map(function(f){var h=f.getBBox(),d=h.width,p=h.height;return[d,p]})).map(function(f){return Math.max.apply(Math,Ue([],Y(f),!1))}),2),i=n[0],a=n[1],s=this.attributes,o=s.pageWidth,l=o===void 0?i:o,u=s.pageHeight,c=u===void 0?a:u;return{pageWidth:l,pageHeight:c}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var r=e.prototype.getBBox.call(this),n=r.x,i=r.y,a=this.controllerShape,s=this.pageShape,o=s.pageWidth,l=s.pageHeight;return new An(n,i,o+a.width,l)},t.prototype.goTo=function(r){var n=this,i=this.attributes.animate,a=this,s=a.currPage,o=a.playState,l=a.playWindow,u=a.pageViews;if(o!=="idle"||r<0||u.length<=0||r>=u.length)return null;u[s].setLocalPosition(0,0),this.prepareFollowingPage(r);var c=Y(this.getFollowingPageDiff(r),2),f=c[0],h=c[1];this.playState="running";var d=HB(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-f,", ").concat(-h,")")}],i);return au(d,function(){n.innerCurrPage=r,n.playState="idle",n.setVisiblePages([r]),n.updatePageInfo()}),d},t.prototype.prev=function(){var r=this.attributes.loop,n=this.pageViews.length,i=this.currPage;if(!r&&i<=0)return null;var a=r?(i-1+n)%n:wr(i-1,0,n);return this.goTo(a)},t.prototype.next=function(){var r=this.attributes.loop,n=this.pageViews.length,i=this.currPage;if(!r&&i>=n-1)return null;var a=r?(i+1)%n:wr(i+1,0,n);return this.goTo(a)},t.prototype.renderClipPath=function(r){var n=this.pageShape,i=n.pageWidth,a=n.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=r.maybeAppendByClassName(ci.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},t.prototype.setVisiblePages=function(r){this.playWindow.children.forEach(function(n,i){r.includes(i)?Zc(n):Fi(n)})},t.prototype.adjustControllerLayout=function(){var r=this,n=r.prevBtnGroup,i=r.nextBtnGroup,a=r.pageInfoGroup,s=this.attributes,o=s.orientation,l=s.controllerPadding,u=a.getBBox(),c=u.width;u.height;var f=Y(o==="horizontal"?[-180,0]:[-90,90],2),h=f[0],d=f[1];n.setLocalEulerAngles(h),i.setLocalEulerAngles(d);var p=n.getBBox(),v=p.width,g=p.height,m=i.getBBox(),y=m.width,b=m.height,x=Math.max(v,c,y),E=o==="horizontal"?{offset:[[0,0],[v/2+l,0],[v+c+l*2,0]],textAlign:"start"}:{offset:[[x/2,-g-l],[x/2,0],[x/2,b+l]],textAlign:"center"},S=Y(E.offset,3),_=Y(S[0],2),k=_[0],O=_[1],P=Y(S[1],2),N=P[0],R=P[1],L=Y(S[2],2),D=L[0],$=L[1],X=E.textAlign,K=a.querySelector("text");K&&(K.style.textAlign=X),n.setLocalPosition(k,O),a.setLocalPosition(N,R),i.setLocalPosition(D,$)},t.prototype.updatePageInfo=function(){var r,n=this,i=n.currPage,a=n.pageViews,s=n.attributes.formatter;a.length<2||((r=this.pageInfoGroup.querySelector(ci.pageInfo.class))===null||r===void 0||r.attr("text",s(i+1,a.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(r){var n=this.currPage;if(n===r)return[0,0];var i=this.attributes.orientation,a=this.pageShape,s=a.pageWidth,o=a.pageHeight,l=r<n?-1:1;return i==="horizontal"?[l*s,0]:[0,l*o]},t.prototype.prepareFollowingPage=function(r){var n=this,i=n.currPage,a=n.pageViews;if(this.setVisiblePages([r,i]),r!==i){var s=Y(this.getFollowingPageDiff(r),2),o=s[0],l=s[1];a[r].setLocalPosition(o,l)}},t.prototype.renderController=function(r){var n=this,i=this.attributes.controllerSpacing,a=this.pageShape,s=a.pageWidth,o=a.pageHeight,l=this.pageViews.length>=2,u=r.maybeAppendByClassName(ci.controller,"g");if($p(u.node(),l),!!l){var c=it(this.attributes,"button"),f=it(this.attributes,"pageNum"),h=Y(Za(c),2),d=h[0],p=h[1],v=d.size,g=gr(d,["size"]),m=!u.select(ci.prevBtnGroup.class).node(),y=u.maybeAppendByClassName(ci.prevBtnGroup,"g").styles(p);this.prevBtnGroup=y.node();var b=y.maybeAppendByClassName(ci.prevBtn,"path"),x=u.maybeAppendByClassName(ci.nextBtnGroup,"g").styles(p);this.nextBtnGroup=x.node();var E=x.maybeAppendByClassName(ci.nextBtn,"path");[b,E].forEach(function(_){_.styles(Ee(Ee({},g),{transformOrigin:"center"})),nE(_.node(),v)});var S=u.maybeAppendByClassName(ci.pageInfoGroup,"g");this.pageInfoGroup=S.node(),S.maybeAppendByClassName(ci.pageInfo,"text").styles(f),this.updatePageInfo(),u.node().setLocalPosition(s+i,o/2),m&&(this.prevBtnGroup.addEventListener("click",function(){n.prev()}),this.nextBtnGroup.addEventListener("click",function(){n.next()}))}},t.prototype.render=function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s;this.attr("transform","translate(".concat(a,", ").concat(o,")"));var l=Ge(n);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var r=this,n=kK(function(){return r.render(r.attributes,r)},50);this.playWindow.addEventListener(gt.INSERTED,n),this.playWindow.addEventListener(gt.REMOVED,n)},t}(mr);function Tde(e,t,r){var n=1.4,i=n*r;return[["M",e-r,t-i],["L",e+r,t-i],["L",e+r,t+i],["L",e-r,t+i],["Z"]]}var o$=1.4,l$=.4;function Mde(e,t,r){var n=r,i=n*o$,a=n/2,s=n/6,o=e+i*l$;return[["M",e,t],["L",o,t+a],["L",e+i,t+a],["L",e+i,t-a],["L",o,t-a],["Z"],["M",o,t+s],["L",e+i-2,t+s],["M",o,t-s],["L",e+i-2,t-s]]}function Ade(e,t,r){var n=r,i=n*o$,a=n/2,s=n/6,o=t+i*l$;return[["M",e,t],["L",e-a,o],["L",e-a,t+i],["L",e+a,t+i],["L",e+a,o],["Z"],["M",e-s,o],["L",e-s,t+i-2],["M",e+s,o],["L",e+s,t+i-2]]}$t.registerSymbol("hiddenHandle",Tde);$t.registerSymbol("verticalHandle",Mde);$t.registerSymbol("horizontalHandle",Ade);function Ix(e,t,r){return e===void 0&&(e="horizontal"),e==="horizontal"?t:r}var Kn=Xi({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function Ode(e){var t=e.querySelector(Kn.marker.class);return t?t.style:{}}var Pde=function(e){dt(t,e);function t(r){return e.call(this,r,{span:[1,1],marker:function(){return new jc({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(t.prototype,"showValue",{get:function(){var r=this.attributes.valueText;return r?typeof r=="string"||typeof r=="number"?r!=="":typeof r=="function"?!0:r.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var r=this.labelGroup,n=this.valueGroup,i=this.attributes.markerSize,a=r.node().getBBox(),s=a.width,o=a.height,l=n.node().getBBox(),u=l.width,c=l.height;return{markerWidth:i,labelWidth:s,valueWidth:u,height:Math.max(i,o,c)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var r=this.attributes.span;if(!r)return[1,1];var n=Y(rn(r),2),i=n[0],a=n[1],s=this.showValue?a:0,o=i+s;return[i/o,s/o]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var r,n=this.attributes,i=n.markerSize,a=n.width,s=this.actualSpace,o=s.markerWidth,l=s.height,u=this.actualSpace,c=u.labelWidth,f=u.valueWidth,h=Y(this.spacing,2),d=h[0],p=h[1];if(a){var v=a-i-d-p,g=Y(this.span,2),m=g[0],y=g[1];r=Y([m*v,y*v],2),c=r[0],f=r[1]}var b=o+c+f+d+p;return{width:b,height:l,markerWidth:o,labelWidth:c,valueWidth:f}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var r=this.attributes.spacing;if(!r)return[0,0];var n=Y(rn(r),2),i=n[0],a=n[1];return this.showValue?[i,a]:[i,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var r=this.shape,n=r.markerWidth,i=r.labelWidth,a=r.valueWidth,s=r.width,o=r.height,l=Y(this.spacing,2),u=l[0],c=l[1];return{height:o,width:s,markerWidth:n,labelWidth:i,valueWidth:a,position:[n/2,n+u,n+i+u+c]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var r=Ode(this.markerGroup.node()),n=this.attributes,i=n.markerSize,a=n.markerStrokeWidth,s=a===void 0?r.strokeWidth:a,o=n.markerLineWidth,l=o===void 0?r.lineWidth:o,u=n.markerStroke,c=u===void 0?r.stroke:u,f=+(s||l||(c?1:0))*Math.sqrt(2),h=this.markerGroup.node().getBBox(),d=h.width,p=h.height;return(1-f/Math.max(d,p))*i},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(r){var n=this,i=this.attributes.marker,a=it(this.attributes,"marker");this.markerGroup=r.maybeAppendByClassName(Kn.markerGroup,"g").style("zIndex",0),ri(!!i,this.markerGroup,function(){var s,o=n.markerGroup.node(),l=(s=o.childNodes)===null||s===void 0?void 0:s[0],u=typeof i=="string"?new $t({style:{symbol:i},className:Kn.marker.name}):i();l?u.nodeName===l.nodeName?l instanceof $t?l.update(Ee(Ee({},a),{symbol:i})):(ffe(l,u),Ge(l).styles(a)):(l.remove(),Ge(u).attr("className",Kn.marker.name).styles(a),o.appendChild(u)):(u instanceof $t||Ge(u).attr("className",Kn.marker.name).styles(a),o.appendChild(u)),n.markerGroup.node().scale(1/n.markerGroup.node().getScale()[0]);var c=nE(n.markerGroup.node(),n.scaleSize);n.markerGroup.node().style._transform="scale(".concat(c,")")})},t.prototype.renderLabel=function(r){var n=it(this.attributes,"label"),i=n.text,a=gr(n,["text"]);this.labelGroup=r.maybeAppendByClassName(Kn.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(Kn.label,function(){return Ka(i)}).styles(a)},t.prototype.renderValue=function(r){var n=this,i=it(this.attributes,"value"),a=i.text,s=gr(i,["text"]);this.valueGroup=r.maybeAppendByClassName(Kn.valueGroup,"g").style("zIndex",0),ri(this.showValue,this.valueGroup,function(){n.valueGroup.maybeAppendByClassName(Kn.value,function(){return Ka(a)}).styles(s)})},t.prototype.renderBackground=function(r){var n=this.shape,i=n.width,a=n.height,s=it(this.attributes,"background");this.background=r.maybeAppendByClassName(Kn.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(Kn.background,"rect").styles(Ee({width:i,height:a},s))},t.prototype.adjustLayout=function(){var r=this.layout,n=r.labelWidth,i=r.valueWidth,a=r.height,s=Y(r.position,3),o=s[0],l=s[1],u=s[2],c=a/2;this.markerGroup.styles({transform:"translate(".concat(o,", ").concat(c,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(c,")")}),Ox(this.labelGroup.select(Kn.label.class).node(),Math.ceil(n)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(u,", ").concat(c,")")}),Ox(this.valueGroup.select(Kn.value.class).node(),Math.ceil(i)))},t.prototype.render=function(r,n){var i=Ge(n),a=r.x,s=a===void 0?0:a,o=r.y,l=o===void 0?0:o;i.styles({transform:"translate(".concat(s,", ").concat(l,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.adjustLayout()},t}(mr),so=Xi({page:"item-page",navigator:"navigator",item:"item"},"items"),lL=function(e,t,r){return r===void 0&&(r=!0),e?t(e):r},Nde=function(e){dt(t,e);function t(r){var n=e.call(this,r,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:Lv,mouseenter:Lv,mouseleave:Lv})||this;return n.navigatorShape=[0,0],n}return Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var r=this.attributes,n=r.gridRow,i=r.gridCol,a=r.data;if(!n&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return n&&i?[n,i]:n?[n,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var r=this.attributes,n=r.data,i=r.layout,a=it(this.attributes,"item"),s=n.map(function(o,l){var u=o.id,c=u===void 0?l:u,f=o.label,h=o.value;return{id:"".concat(c),index:l,style:Ee({layout:i,labelText:f,valueText:h},Object.fromEntries(Object.entries(a).map(function(d){var p=Y(d,2),v=p[0],g=p[1];return[v,Ei(g,[o,l,n])]})))}});return s},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var r=this,n=this.attributes,i=n.orientation,a=n.width,s=n.rowPadding,o=n.colPadding,l=Y(this.navigatorShape,1),u=l[0],c=Y(this.grid,2),f=c[0],h=c[1],d=h*f,p=0;return this.pageViews.children.map(function(v,g){var m,y,b=Math.floor(g/d),x=g%d,E=r.ifHorizontal(h,f),S=[Math.floor(x/E),x%E];i==="vertical"&&S.reverse();var _=Y(S,2),k=_[0],O=_[1],P=(a-u-(h-1)*o)/h,N=v.getBBox().height,R=Y([0,0],2),L=R[0],D=R[1];return i==="horizontal"?(m=Y([p,k*(N+s)],2),L=m[0],D=m[1],p=O===h-1?0:p+P+o):(y=Y([O*(P+o),p],2),L=y[0],D=y[1],p=k===f-1?0:p+N+s),{page:b,index:g,row:k,col:O,pageIndex:x,width:P,height:N,x:L,y:D}})},t.prototype.getFlexLayout=function(){var r=this.attributes,n=r.width,i=r.height,a=r.rowPadding,s=r.colPadding,o=Y(this.navigatorShape,1),l=o[0],u=Y(this.grid,2),c=u[0],f=u[1],h=Y([n-l,i],2),d=h[0],p=h[1],v=Y([0,0,0,0,0,0,0,0],8),g=v[0],m=v[1],y=v[2],b=v[3],x=v[4],E=v[5],S=v[6],_=v[7];return this.pageViews.children.map(function(k,O){var P,N,R,L,D=k.getBBox(),$=D.width,X=D.height,K=S===0?0:s,V=S+K+$;if(V<=d&&lL(x,function(we){return we<f}))return P=Y([S+K,_,V],3),g=P[0],m=P[1],S=P[2],{width:$,height:X,x:g,y:m,page:y,index:O,pageIndex:b++,row:E,col:x++};N=Y([E+1,0,0,_+X+a],4),E=N[0],x=N[1],S=N[2],_=N[3];var ne=_+X;return ne<=p&&lL(E,function(we){return we<c})?(R=Y([S,_,$],3),g=R[0],m=R[1],S=R[2],{width:$,height:X,x:g,y:m,page:y,index:O,pageIndex:b++,row:E,col:x++}):(L=Y([0,0,$,0,y+1,0,0,0],8),g=L[0],m=L[1],S=L[2],_=L[3],y=L[4],b=L[5],E=L[6],x=L[7],{width:$,height:X,x:g,y:m,page:y,index:O,pageIndex:b++,row:E,col:x++})})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var r=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,n=r.call(this);return n.slice(-1)[0].page>0?(this.navigatorShape=[55,0],r.call(this)):n},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(r,n){var i=this.attributes.orientation;return Ix(i,r,n)},t.prototype.flattenPage=function(r){r.querySelectorAll(so.item.class).forEach(function(n){r.appendChild(n)}),r.querySelectorAll(so.page.class).forEach(function(n){var i=r.removeChild(n);i.destroy()})},t.prototype.renderItems=function(r){var n=this.attributes,i=n.click,a=n.mouseenter,s=n.mouseleave;this.flattenPage(r);var o=this.dispatchCustomEvent.bind(this);Ge(r).selectAll(so.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){var c=u.style;return new Pde({style:c})}).attr("className",so.item.name).on("click",function(){i==null||i(this),o("itemClick",{item:this})}).on("pointerenter",function(){a==null||a(this),o("itemMouseenter",{item:this})}).on("pointerleave",function(){s==null||s(this),o("itemMouseleave",{item:this})})},function(l){return l.each(function(u){var c=u.style;this.update(c)})},function(l){return l.remove()})},t.prototype.relayoutNavigator=function(){var r,n=this.attributes,i=n.layout,a=n.width,s=((r=this.pageViews.children[0])===null||r===void 0?void 0:r.getBBox().height)||0,o=Y(this.navigatorShape,2),l=o[0],u=o[1];this.navigator.update(i==="grid"?{pageWidth:a-l,pageHeight:s-u}:{})},t.prototype.adjustLayout=function(){var r=this,n=Object.entries(Xce(this.itemsLayout,"page")).map(function(a){var s=Y(a,2),o=s[0],l=s[1];return{page:o,layouts:l}}),i=Ue([],Y(this.navigator.getContainer().children),!1);n.forEach(function(a){var s=a.layouts,o=r.pageViews.appendChild(new tn({className:so.page.name}));s.forEach(function(l){var u=l.x,c=l.y,f=l.index,h=l.width,d=l.height,p=i[f];o.appendChild(p),NK(p,"__layout__",l),p.update({x:u,y:c,width:h,height:d})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(r){var n=this.attributes.orientation,i=it(this.attributes,"nav"),a=Vr({orientation:n},i),s=this;return r.selectAll(so.navigator.class).data(["nav"]).join(function(o){return o.append(function(){return new kde({style:a})}).attr("className",so.navigator.name).each(function(){s.navigator=this})},function(o){return o.each(function(){this.update(a)})},function(o){return o.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(r,n){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(Ge(n));this.renderItems(a.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(r,n){var i=new Tr(r,{detail:n});this.dispatchEvent(i)},t}(mr),wu=Xi({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),u$={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0};(function(e){dt(t,e);function t(r){return e.call(this,r,u$)||this}return t.prototype.render=function(r,n){var i=Ge(n).maybeAppendByClassName(wu.markerGroup,"g");this.renderMarker(i);var a=Ge(n).maybeAppendByClassName(wu.labelGroup,"g");this.renderLabel(a)},t.prototype.renderMarker=function(r){var n=this,i=this.attributes,a=i.orientation,s=i.markerSymbol,o=s===void 0?Ix(a,"horizontalHandle","verticalHandle"):s;ri(!!o,r,function(l){var u=it(n.attributes,"marker"),c=Ee({symbol:o},u);n.marker=l.maybeAppendByClassName(wu.marker,function(){return new $t({style:c})}).update(c)})},t.prototype.renderLabel=function(r){var n=this,i=this.attributes,a=i.showLabel,s=i.orientation,o=i.spacing,l=o===void 0?0:o,u=i.formatter;ri(a,r,function(c){var f,h=it(n.attributes,"label"),d=h.text,p=gr(h,["text"]),v=((f=c.select(wu.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},g=v.width,m=g===void 0?0:g,y=v.height,b=y===void 0?0:y,x=Y(Ix(s,[0,b+l,"center","top"],[m+l,0,"start","middle"]),4),E=x[0],S=x[1],_=x[2],k=x[3];c.maybeAppendByClassName(wu.label,"text").styles(Ee(Ee({},p),{x:E,y:S,text:u(d).toString(),textAlign:_,textBaseline:k}))})},t})(mr);var c$={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},Cde=Vr({},c$,{});Vr({},c$,ll(u$,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"});var xu=Xi({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),rge=function(e){dt(t,e);function t(r){return e.call(this,r,Cde)||this}return t.prototype.renderTitle=function(r,n,i){var a=this.attributes,s=a.showTitle,o=a.titleText,l=it(this.attributes,"title"),u=Y(Za(l),2),c=u[0],f=u[1];this.titleGroup=r.maybeAppendByClassName(xu.titleGroup,"g").styles(f);var h=Ee(Ee({width:n,height:i},c),{text:s?o:""});this.title=this.titleGroup.maybeAppendByClassName(xu.title,function(){return new wde({style:h})}).update(h)},t.prototype.renderItems=function(r,n){var i=n.x,a=n.y,s=n.width,o=n.height,l=it(this.attributes,"title",!0),u=Y(Za(l),2),c=u[0],f=u[1],h=Ee(Ee({},c),{width:s,height:o,x:0,y:0});this.itemsGroup=r.maybeAppendByClassName(xu.itemsGroup,"g").styles(Ee(Ee({},f),{transform:"translate(".concat(i,", ").concat(a,")")}));var d=this;this.itemsGroup.selectAll(xu.items.class).data(["items"]).join(function(p){return p.append(function(){return new Nde({style:h})}).attr("className",xu.items.name).each(function(){d.items=Ge(this)})},function(p){return p.update(h)},function(p){return p.remove()})},t.prototype.adjustLayout=function(){var r=this.attributes.showTitle;if(r){var n=this.title.node().getAvailableSpace(),i=n.x,a=n.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var r=this.attributes,n=r.showTitle,i=r.width,a=r.height;return n?this.title.node().getAvailableSpace():new An(0,0,i,a)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var r,n,i=(r=this.title)===null||r===void 0?void 0:r.node(),a=(n=this.items)===null||n===void 0?void 0:n.node();return!i||!a?e.prototype.getBBox.call(this):mde(i,a)},t.prototype.render=function(r,n){var i=this.attributes,a=i.width,s=i.height,o=i.x,l=o===void 0?0:o,u=i.y,c=u===void 0?0:u,f=Ge(n);n.style.transform="translate(".concat(l,", ").concat(c,")"),this.renderTitle(f,a,s),this.renderItems(f,this.availableSpace),this.adjustLayout()},t}(mr),Rde={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},Zb=Xi({background:"background",labelGroup:"label-group",label:"label"},"indicator"),Lde=function(e){dt(t,e);function t(r){var n=e.call(this,r,Rde)||this;return n.point=[0,0],n.group=n.appendChild(new tn({})),n.isMutationObserved=!0,n}return t.prototype.renderBackground=function(){if(this.label){var r=this.attributes,n=r.position,i=r.padding,a=Y(rn(i),4),s=a[0],o=a[1],l=a[2],u=a[3],c=this.label.node().getLocalBounds(),f=c.min,h=c.max,d=new An(f[0]-u,f[1]-s,h[0]+o-f[0]+u,h[1]+l-f[1]+s),p=this.getPath(n,d),v=it(this.attributes,"background");this.background=Ge(this.group).maybeAppendByClassName(Zb.background,"path").styles(Ee(Ee({},v),{d:p})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var r=this.attributes,n=r.formatter,i=r.labelText,a=it(this.attributes,"label"),s=Y(Za(a),2),o=s[0],l=s[1];o.text;var u=gr(o,["text"]);if(this.label=Ge(this.group).maybeAppendByClassName(Zb.labelGroup,"g").styles(l),!!i){var c=this.label.maybeAppendByClassName(Zb.label,function(){return Ka(n(i))}).style("text",n(i).toString());c.selectAll("text").styles(u)}},t.prototype.adjustLayout=function(){var r=Y(this.point,2),n=r[0],i=r[1],a=this.attributes,s=a.x,o=a.y;this.group.attr("transform","translate(".concat(s-n,", ").concat(o-i,")"))},t.prototype.getPath=function(r,n){var i=this.attributes.radius,a=n.x,s=n.y,o=n.width,l=n.height,u=[["M",a+i,s],["L",a+o-i,s],["A",i,i,0,0,1,a+o,s+i],["L",a+o,s+l-i],["A",i,i,0,0,1,a+o-i,s+l],["L",a+i,s+l],["A",i,i,0,0,1,a,s+l-i],["L",a,s+i],["A",i,i,0,0,1,a+i,s],["Z"]],c={top:4,right:6,bottom:0,left:2},f=c[r],h=this.createCorner([u[f].slice(-2),u[f+1].slice(-2)]);return u.splice.apply(u,Ue([f+1,1],Y(h),!1)),u[0][0]="M",u},t.prototype.createCorner=function(r,n){n===void 0&&(n=10);var i=.8,a=cfe.apply(void 0,Ue([],Y(r),!1)),s=Y(r,2),o=Y(s[0],2),l=o[0],u=o[1],c=Y(s[1],2),f=c[0],h=c[1],d=Y(a?[f-l,[l,f]]:[h-u,[u,h]],2),p=d[0],v=Y(d[1],2),g=v[0],m=v[1],y=p/2,b=p/Math.abs(p),x=n*b,E=x/2,S=x*Math.sqrt(3)/2*i,_=Y([g,g+y-E,g+y,g+y+E,m],5),k=_[0],O=_[1],P=_[2],N=_[3],R=_[4];return a?(this.point=[P,u-S],[["L",k,u],["L",O,u],["L",P,u-S],["L",N,u],["L",R,u]]):(this.point=[l+S,P],[["L",l,k],["L",l,O],["L",l+S,P],["L",l,N],["L",l,R]])},t.prototype.applyVisibility=function(){var r=this.attributes.visibility;r==="hidden"?Fi(this):Zc(this)},t.prototype.bindEvents=function(){this.label.on(gt.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(mr);function Dx(e){return e===void 0&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var uL={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function Ide(e){var t;e===void 0&&(e="");var r=Dx(e);return t={},t[".".concat(r.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(r.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(r.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(r.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(r.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(r.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(r.NAME_LABEL)]=Ee({flex:1},uL),t[".".concat(r.VALUE)]=Ee({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},uL),t[".".concat(r.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(r.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var nge=function(e){dt(t,e);function t(r){var n=this,i,a,s=(a=(i=r.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,o=Dx(s);return n=e.call(this,r,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(o.CONTAINER,'"></div>'),title:'<div class="'.concat(o.TITLE,'"></div>'),item:'<li class="'.concat(o.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(o.NAME,`">
          <span class="`).concat(o.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(o.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(o.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:Ide(s)})||this,n.timestamp=-1,n.prevCustomContentKey=n.attributes.contentKey,n.initShape(),n.render(n.attributes,n),n}return Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){var r=this.element.offsetWidth,n=this.element.offsetHeight;return{width:r,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var r=this.attributes,n=r.data,i=r.template;return n.map(function(a,s){var o=a.name,l=o===void 0?"":o,u=a.color,c=u===void 0?"black":u,f=a.index,h=gr(a,["name","color","index"]),d=Ee({name:l,color:c,index:f??s},h);return vT(bK(i.item,d))})},enumerable:!1,configurable:!0}),t.prototype.render=function(r,n){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var r;(r=this.element)===null||r===void 0||r.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(r,n){var i=this;if(r!==void 0&&n!==void 0){var a=this.element.style.visibility==="hidden",s=function(){i.attributes.x=r??i.attributes.x,i.attributes.y=n??i.attributes.y,i.updatePosition()};a?this.closeTransition(s):s()}this.element.style.visibility="visible"},t.prototype.hide=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.attributes.enterable;i&&this.isCursorEntered(r,n)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var r=this.attributes.template;this.element=vT(r.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var r=this.attributes.content;r&&(typeof r=="string"?this.element.innerHTML=r:RR(this.element,r))}},t.prototype.renderHTMLTooltipElement=function(){var r,n,i=this.attributes,a=i.template,s=i.title,o=i.enterable,l=i.style,u=i.content,c=Dx(a.prefixCls),f=this.element;if(this.element.style.pointerEvents=o?"auto":"none",u)this.renderCustomContent();else{s?(f.innerHTML=a.title,f.getElementsByClassName(c.TITLE)[0].innerHTML=s):(n=(r=f.getElementsByClassName(c.TITLE))===null||r===void 0?void 0:r[0])===null||n===void 0||n.remove();var h=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=c.LIST,RR(d,h);var p=this.element.querySelector(".".concat(c.LIST));p?p.replaceWith(d):f.appendChild(d)}pfe(f,l)},t.prototype.getRelativeOffsetFromCursor=function(r){var n=this.attributes,i=n.position,a=n.offset,s=r||i,o=s.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},u=this.elementSize,c=u.width,f=u.height,h=[-c/2,-f/2];return o.forEach(function(d){var p=Y(h,2),v=p[0],g=p[1],m=Y(l[d],2),y=m[0],b=m[1];h=[v+(c/2+a[0])*y,g+(f/2+a[1])*b]}),h},t.prototype.setOffsetPosition=function(r){var n=Y(r,2),i=n[0],a=n[1],s=this.attributes,o=s.x,l=o===void 0?0:o,u=s.y,c=u===void 0?0:u,f=s.container,h=f.x,d=f.y;this.element.style.left="".concat(+l+h+i,"px"),this.element.style.top="".concat(+c+d+a,"px")},t.prototype.updatePosition=function(){var r=this.attributes.showDelay,n=r===void 0?60:r,i=Date.now();this.timestamp>0&&i-this.timestamp<n||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(r){var n=Y(r,2),i=n[0],a=n[1],s=this.attributes,o=s.x,l=s.y,u=s.bounding,c=s.position;if(!u)return[i,a];var f=this.element,h=f.offsetWidth,d=f.offsetHeight,p=Y([+o+i,+l+a],2),v=p[0],g=p[1],m={left:"right",right:"left",top:"bottom",bottom:"top"},y=u.x,b=u.y,x=u.width,E=u.height,S={left:v<y,right:v+h>y+x,top:g<b,bottom:g+d>b+E},_=[];c.split("-").forEach(function(O){S[O]?_.push(m[O]):_.push(O)});var k=_.join("-");return this.getRelativeOffsetFromCursor(k)},t.prototype.isCursorEntered=function(r,n){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,s=i.y,o=i.width,l=i.height;return new An(a,s,o,l).isPointIn(r,n)}return!1},t.prototype.closeTransition=function(r){var n=this,i=this.element.style.transition;this.element.style.transition="none",r(),setTimeout(function(){n.element.style.transition=i},10)},t.tag="tooltip",t}(mr),Dde=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},t.defaultOptions,r))||this;return n.hoverColor="#f5f5f5",n.selectedColor="#e6f7ff",n.background=n.appendChild(new Ds({})),n.label=n.background.appendChild(new tn({})),n}return Object.defineProperty(t.prototype,"padding",{get:function(){return rn(this.style.padding)},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(){var r=this.style,n=r.label,i=r.value,a=it(this.attributes,"label");Ge(this.label).maybeAppend(".label",function(){return Ka(n)}).attr("className","label").styles(a),this.label.attr("__data__",i)},t.prototype.renderBackground=function(){var r=this.label.getBBox(),n=Y(this.padding,4),i=n[0],a=n[1],s=n[2],o=n[3],l=r.width,u=r.height,c=l+o+a,f=u+i+s,h=it(this.attributes,"background"),d=this.style,p=d.width,v=p===void 0?0:p,g=d.height,m=g===void 0?0:g,y=d.selected;this.background.attr(Ee(Ee({},h),{width:Math.max(c,v),height:Math.max(f,m),fill:y?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(o,", ").concat((f-u)/2,")")})},t.prototype.render=function(){this.renderLabel(),this.renderBackground()},t.prototype.bindEvents=function(){var r=this;this.addEventListener("pointerenter",function(){r.style.selected||r.background.attr("fill",r.hoverColor)}),this.addEventListener("pointerleave",function(){r.style.selected||r.background.attr("fill",r.style.backgroundFill)});var n=this;this.addEventListener("click",function(){var i=r.style,a=i.label,s=i.value,o=i.onClick;o==null||o(s,{label:a,value:s},n)})},t.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},t}(mr),Fde=function(e){dt(t,e);function t(r){var n,i,a=e.call(this,Vr({},t.defaultOptions,r))||this;a.currentValue=(n=t.defaultOptions.style)===null||n===void 0?void 0:n.defaultValue,a.isPointerInSelect=!1,a.select=a.appendChild(new Ds({className:"select",style:{cursor:"pointer",width:0,height:0}})),a.dropdown=a.appendChild(new Ds({className:"dropdown"}));var s=a.style.defaultValue;return s&&(!((i=a.style.options)===null||i===void 0)&&i.some(function(o){return o.value===s}))&&(a.currentValue=s),a}return t.prototype.setValue=function(r){this.currentValue=r,this.render()},t.prototype.getValue=function(){return this.currentValue},Object.defineProperty(t.prototype,"dropdownPadding",{get:function(){return rn(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),t.prototype.renderSelect=function(){var r=this,n,i=this.style,a=i.x,s=i.y,o=i.width,l=i.height,u=i.bordered,c=i.showDropdownIcon,f=it(this.attributes,"select"),h=it(this.attributes,"placeholder");this.select.attr(Ee(Ee({x:a,y:s,width:o,height:l},f),{fill:"#fff",strokeWidth:u?1:0}));var d=this.dropdownPadding,p=10;c&&Ge(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(a+o-p-d[1]-d[3],", ").concat(s+l/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var v=(n=this.style.options)===null||n===void 0?void 0:n.find(function(b){return b.value===r.currentValue}),g=Ee({x:a+d[3]},h);Ge(this.select).selectAll(".placeholder").data(v?[]:[1]).join(function(b){return b.append("text").attr("className","placeholder").styles(g).style("y",function(){var x=this.getBBox();return s+(l-x.height)/2})},function(b){return b.styles(g)},function(b){return b.remove()});var m=it(this.attributes,"optionLabel"),y=Ee({x:a+d[3]},m);Ge(this.select).selectAll(".value").data(v?[v]:[]).join(function(b){return b.append(function(x){return Ka(x.label)}).attr("className","value").styles(y).style("y",function(){var x=this.getBBox();return s+(l-x.height)/2})},function(b){return b.styles(y)},function(b){return b.remove()})},t.prototype.renderDropdown=function(){var r=this,n,i,a=this.style,s=a.x,o=a.y,l=a.width,u=a.height,c=a.options,f=a.onSelect,h=a.open,d=it(this.attributes,"dropdown"),p=it(this.attributes,"option"),v=this.dropdownPadding;Ge(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(c,function(y){return y.value}).join(function(y){return y.append(function(b){return new Dde({className:"dropdown-item",style:Ee(Ee(Ee({},b),p),{width:l-v[1]-v[3],selected:b.value===r.currentValue,onClick:function(x,E,S){r.setValue(x),f==null||f(x,E,S),r.dispatchEvent(new Tr("change",{detail:{value:x,option:E,item:S}})),Fi(r.dropdown)}})})}).each(function(b,x){var E,S=(E=this.parentNode)===null||E===void 0?void 0:E.children,_=S.reduce(function(k,O,P){return P<x&&(k+=O.getBBox().height),k},0);this.attr("transform","translate(".concat(v[3],", ").concat(v[0]+_,")"))})},function(y){return y.update(function(b){return{selected:b.value===r.currentValue}})},function(y){return y.remove()});var g=(i=(n=this.dropdown.getElementsByClassName("dropdown-container"))===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.getBBox(),m=d.spacing;this.dropdown.attr(Ee({transform:"translate(".concat(s,", ").concat(o+u+m,")"),width:g.width+v[1]+v[3],height:g.height+v[0]+v[2]},d)),!h&&Fi(this.dropdown)},t.prototype.render=function(){this.renderSelect(),this.renderDropdown()},t.prototype.bindEvents=function(){var r=this;this.addEventListener("click",function(n){n.stopPropagation()}),this.select.addEventListener("click",function(){r.dropdown.style.visibility==="visible"?Fi(r.dropdown):Zc(r.dropdown)}),this.addEventListener("pointerenter",function(){r.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){r.isPointerInSelect=!1}),document==null||document.addEventListener("click",function(){r.isPointerInSelect||Fi(r.dropdown)})},t.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"请选择",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},t}(mr),Ki=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},{style:{backgroundOpacity:t.backgroundOpacities.default}},t.defaultOptions,r))||this;return n.showBackground=!0,n.background=n.appendChild(new Ds({})),n.icon=n.appendChild(new tn({})),n}return Object.defineProperty(t.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return rn(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconSize",{get:function(){var r=this.attributes.size,n=Y(this.padding,4),i=n[0],a=n[1],s=n[2],o=n[3];return Math.max(r-Math.max(o+a,i+s),this.lineWidth*2+1)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var r=this.attributes,n=r.x,i=r.y,a=r.size,s=a/2,o=it(this.attributes,"background");this.background.attr(Ee({x:n-s,y:i-s,width:a,height:a},o))},t.prototype.showIndicator=function(){if(this.label){var r=this.attributes.size,n=this.background.getBBox(),i=n.x,a=n.y;this.indicator.update({x:i+r/2,y:a-5,labelText:this.label,visibility:"visible"})}},t.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},t.prototype.connectedCallback=function(){var r;e.prototype.connectedCallback.call(this);var n=this.attributes.size,i=this.background.getBBox(),a=i.x,s=i.y,o=(r=this.ownerDocument)===null||r===void 0?void 0:r.defaultView;o&&(this.indicator=o.appendChild(new Lde({style:{x:a+n/2,y:s-n/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},t.prototype.disconnectedCallback=function(){this.indicator.destroy()},t.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},t.prototype.bindEvents=function(){var r=this,n=this.attributes.onClick;if(this.addEventListener("click",function(){n==null||n(r)}),this.showBackground){var i=function(){return r.background.attr({opacity:t.backgroundOpacities.default})},a=function(){return r.background.attr({opacity:t.backgroundOpacities.hover})},s=function(){return r.background.attr({opacity:t.backgroundOpacities.active})};this.addEventListener("pointerenter",function(){a(),r.showIndicator()}),this.addEventListener("pointerleave",function(){i(),r.hideIndicator()}),this.addEventListener("pointerdown",function(){s()}),this.addEventListener("pointerup",function(){i()})}},t.tag="IconBase",t.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},t.backgroundOpacities={default:0,hover:.8,active:1},t}(mr),Mc=function(e,t){return t===void 0&&(t="#565758"),new Gc({style:{fill:t,d:"M ".concat(e,",").concat(e," L -").concat(e,",0 L ").concat(e,",-").concat(e," Z"),transformOrigin:"center"}})},Bde=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.arcPath=function(r,n,i){var a=Y([i,i],2),s=a[0],o=a[1],l=function(v){return[r+i*Math.cos(v),n+i*Math.sin(v)]},u=Y(l(-5/4*Math.PI),2),c=u[0],f=u[1],h=Y(l(1/4*Math.PI),2),d=h[0],p=h[1];return"M".concat(c,",").concat(f,",A").concat(s,",").concat(o,",0,1,1,").concat(d,",").concat(p)},Object.defineProperty(t.prototype,"label",{get:function(){return"重置"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=this.lineWidth,l=o+.5;Ge(this.icon).maybeAppend(".reset","path").styles({stroke:a,lineWidth:o,d:this.arcPath(n,i,s/2-o),markerStart:Mc(l,a)})},t}(Ki),$de=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"快退"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/2,l=s/2/Math.pow(3,.5),u=[[n,i],[n,i-l],[n-o,i],[n,i+l],[n,i],[n+o,i-l],[n+o,i+l],[n,i]];Ge(this.icon).maybeAppend(".backward","polygon").styles({points:u,fill:a})},t}(Ki),qde=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"快进"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/2,l=s/2/Math.pow(3,.5),u=[[n,i],[n,i-l],[n+o,i],[n,i+l],[n,i],[n-o,i-l],[n-o,i+l],[n,i]];Ge(this.icon).maybeAppend(".forward","polygon").styles({points:u,fill:a})},t}(Ki),zde=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"播放"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/3*Math.pow(3,.5)*.8,l=[[n+o,i],[n-o/2,i-s/2*.8],[n-o/2,i+s/2*.8],[n+o,i]];Ge(this.icon).maybeAppend(".play","polygon").styles({points:l,fill:a})},t}(Ki),jde=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"暂停"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/3,l=[[n-o,i-s/2],[n-o,i+s/2],[n-o/2,i+s/2],[n-o/2,i-s/2],[n-o,i-s/2],[n+o/2,i-s/2],[n+o/2,i+s/2],[n+o,i+s/2],[n+o,i-s/2]];Ge(this.icon).maybeAppend(".pause","polygon").styles({points:l,fill:a})},t}(Ki),Gde=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"范围时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth,u=l;Ge(this.icon).maybeAppend(".left-line","line").styles({x1:n-o/2,y1:i-o/2,x2:n-o/2,y2:i+o/2,stroke:a,lineWidth:l}),Ge(this.icon).maybeAppend(".right-line","line").styles({x1:n+o/2,y1:i-o/2,x2:n+o/2,y2:i+o/2,stroke:a,lineWidth:l}),Ge(this.icon).maybeAppend(".left-arrow","line").styles({x1:n,y1:i,x2:n-o/2+u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Mc(l*2,a)}),Ge(this.icon).maybeAppend(".right-arrow","line").styles({x1:n,y1:i,x2:n+o/2-u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Mc(l*2,a)})},t}(Ki),Wde=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"单一时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth;Ge(this.icon).maybeAppend(".line","line").styles({x1:n,y1:i-o/2,x2:n,y2:i+o/2,stroke:a,lineWidth:l});var u=l;Ge(this.icon).maybeAppend(".left-arrow","line").styles({x1:n-o/2-u*2,y1:i,x2:n-u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Mc(l*2,a)}),Ge(this.icon).maybeAppend(".right-arrow","line").styles({x1:n+o/2+u*2,y1:i,x2:n+u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Mc(l*2,a)})},t}(Ki),f$=function(e){return[[-e/2,-e/2],[-e/2,e/2],[e/2,e/2]]},Vde=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"折线图"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth,u=l,c=(o-u*2-l)/4,f=(o-u*2-l)/2,h=Y([n-o/2+u,i+o/2-u*2],2),d=h[0],p=h[1];Ge(this.icon).maybeAppend(".coordinate","polyline").styles({points:f$(o).map(function(v){var g=Y(v,2),m=g[0],y=g[1];return[m+n,y+i]}),stroke:a,lineWidth:l}),Ge(this.icon).maybeAppend(".line","polyline").styles({points:[[d,p],[d+c,p-f],[d+c*2,p],[d+c*4,p-f*2]],stroke:a,lineWidth:l})},t}(Ki),Ude=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"条形图"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.data,n=this.attributes,i=n.x,a=n.y,s=n.color,o=this,l=o.iconSize,u=o.lineWidth,c=u,f=(l-c)/r.length,h=(l-c*2)/4,d=Y([i-l/2+c*2,a+l/2-c],2),p=d[0],v=d[1];Ge(this.icon).maybeAppend(".coordinate","polyline").styles({points:f$(l).map(function(g){var m=Y(g,2),y=m[0],b=m[1];return[y+i,b+a]}),stroke:s,lineWidth:u}),Ge(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(g,m){return{value:g,index:m}})).join(function(g){return g.append("line").attr("className","column").style("x1",function(m){var y=m.index;return p+f*y}).style("y1",v).style("x2",function(m){var y=m.index;return p+f*y}).style("y2",function(m){var y=m.value;return v-h*y}).styles({y1:v,stroke:s,lineWidth:u})})},t}(Ki),Hde=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},{style:{color:"#d8d9d9"}},r))||this;return n.showBackground=!1,n}return t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth;Ge(this.icon).maybeAppend(".split","line").styles({x1:n,y1:i-o/2,x2:n,y2:i+o/2,stroke:a,lineWidth:l})},t}(Ki),Fx=function(e){dt(t,e);function t(){var r=e.apply(this,Ue([],Y(arguments),!1))||this;return r.showBackground=!1,r}return Object.defineProperty(t.prototype,"padding",{get:function(){return rn(0)},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.iconSize,n=this.attributes,i=n.x,a=n.y,s=n.speed,o=s===void 0?1:s,l=RK(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),u=wr(r,20,1/0),c=20,f=Ee(Ee({},l),{x:i-u/2,y:a-c/2,width:u,height:c,defaultValue:o,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:r/5,placeholderFontSize:r/2,optionPadding:0,optionLabelFontSize:r/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});Ge(this.icon).maybeAppend(".speed",function(){return new Fde({style:f})}).attr("className","speed").each(function(){this.update(f)})},t.tag="SpeedSelect",t}(Ki),hE=function(e){dt(t,e);function t(r){var n=e.call(this,r)||this;return n.icon=n.appendChild(new tn({})),n.currentType=n.attributes.type,n}return t.prototype.getType=function(){return this.currentType},t.prototype.render=function(){var r=this,n=this.attributes;n.onChange;var i=gr(n,["onChange"]);Ge(this.icon).selectAll(".icon").data([this.currentType]).join(function(a){return a.append(function(s){var o,l=(o=r.toggles.find(function(u){var c=Y(u,1),f=c[0];return f===s}))===null||o===void 0?void 0:o[1];if(!l)throw new Error("Invalid type: ".concat(s));return new l({})}).attr("className","icon").styles(i,!1).update({})},function(a){return a.styles({restStyles:i}).update({})},function(a){return a.remove()})},t.prototype.bindEvents=function(){var r=this,n=this.attributes.onChange;this.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation();var a=(r.toggles.findIndex(function(o){var l=Y(o,1),u=l[0];return u===r.currentType})+1)%r.toggles.length,s=r.toggles[a][0];n==null||n(r.currentType),r.currentType=s,r.render()})},t.tag="ToggleIcon",t}(mr),Bx=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},{style:{type:"play"}},r))||this;return n.toggles=[["play",zde],["pause",jde]],n}return t}(hE),$x=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},{style:{type:"range"}},r))||this;return n.toggles=[["range",Gde],["value",Wde]],n}return t}(hE),qx=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},{style:{type:"column"}},r))||this;return n.toggles=[["line",Vde],["column",Ude]],n}return t}(hE),Yde={reset:Bde,speed:Fx,backward:$de,playPause:Bx,forward:qde,selectionType:$x,chartType:qx,split:Hde},Xde=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},t.defaultOptions,r))||this;return n.background=n.appendChild(new Ds({})),n.functions=n.appendChild(new tn({})),n}return Object.defineProperty(t.prototype,"padding",{get:function(){return rn(this.attributes.padding)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var r=this.style,n=r.x,i=r.y,a=r.width,s=r.height,o=it(this.attributes,"background");this.background.attr(Ee({x:n,y:i,width:a,height:s},o))},t.prototype.renderFunctions=function(){var r=this,n,i=this.attributes,a=i.functions,s=i.iconSize,o=i.iconSpacing,l=i.x,u=i.y,c=i.width,f=i.height,h=i.align,d=Y(this.padding,4),p=d[1],v=d[3],g=a.reduce(function(b,x){return b.length&&x.length?b.concat.apply(b,Ue(["split"],Y(x),!1)):b.concat.apply(b,Ue([],Y(x),!1))},[]),m=g.length*(s+o)-o,y={left:v+s/2,center:(c-m)/2+s/2,right:c-m-v-p+s/2}[h]||0;(n=this.speedSelect)===null||n===void 0||n.destroy(),this.functions.removeChildren(),g.forEach(function(b,x){var E,S=Yde[b],_={x:l+x*(s+o)+y,y:u+f/2,size:s};if(S===Fx?(_.speed=r.attributes.speed,_.onSelect=function(O){return r.handleFunctionChange(b,{value:O})}):[Bx,$x,qx].includes(S)?(_.onChange=function(O){return r.handleFunctionChange(b,{value:O})},S===Bx&&(_.type=r.attributes.state==="play"?"pause":"play"),S===$x&&(_.type=r.attributes.selectionType==="range"?"value":"range"),S===qx&&(_.type=r.attributes.chartType==="line"?"column":"line")):_.onClick=function(){return r.handleFunctionChange(b,{value:b})},S===Fx){var k=(E=r.ownerDocument)===null||E===void 0?void 0:E.defaultView;k&&(r.speedSelect=new S({style:Ee(Ee({},_),{zIndex:100})}),k.appendChild(r.speedSelect))}else r.functions.appendChild(new S({style:_}))})},t.prototype.disconnectedCallback=function(){var r;e.prototype.disconnectedCallback.call(this),(r=this.speedSelect)===null||r===void 0||r.destroy()},t.prototype.render=function(){this.renderBackground(),this.renderFunctions()},t.prototype.handleFunctionChange=function(r,n){var i=this.attributes.onChange;i==null||i(r,n)},t.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},t}(mr),Kde=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},t.defaultOptions,r))||this;return n.bindEvents(),n}return t.prototype.bindEvents=function(){var r=this;this.addEventListener("mouseenter",function(){r.attr("lineWidth",Math.ceil(+(r.style.r||0)/2))}),this.addEventListener("mouseleave",function(){r.attr("lineWidth",0)})},t.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},t}(jc),Zde=function(e){dt(t,e);function t(r){return e.call(this,Vr({},t.defaultOptions,r))||this}return t.prototype.renderBackground=function(){var r=this.attributes,n=r.x,i=r.y,a=r.width,s=r.height,o=it(this.attributes,"background");Ge(this).maybeAppend("background","rect").attr("className","background").styles(Ee({x:n-a/2,y:i-s/2,width:a,height:s},o))},t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.iconSize,s=it(this.attributes,"icon"),o=1,l=a/2;Ge(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(Ee({x1:n-o,y1:i-l,x2:n-o,y2:i+l},s)),Ge(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(Ee({x1:n+o,y1:i-l,x2:n+o,y2:i+l},s))},t.prototype.renderBorder=function(){var r=this.attributes,n=r.x,i=r.y,a=r.width,s=r.height,o=r.type,l=it(this.attributes,"border"),u=o==="start"?+a/2:-a/2;Ge(this).maybeAppend("border","line").attr("className","border").styles(Ee({x1:u+n,y1:i-s/2,x2:u+n,y2:i+s/2},l))},t.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},t.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},t}(mr);function Qde(e,t){return typeof e=="number"?h$(e):Jde(e,t)}function Jde(e,t){var r=new Date(e);switch(t){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(r.getHours())&&r.getMinutes()===0?Cn(r,`HH:mm
YYYY-MM-DD`):Cn(r,"HH:mm");case"half-day":return r.getHours()<12?`AM
`.concat(Cn(r,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(r.getDate())?Cn(r,`DD
YYYY-MM`):Cn(r,"DD");case"week":return r.getDate()<=7?Cn(r,`DD
YYYY-MM`):Cn(r,"DD");case"month":return[0,6].includes(r.getMonth())?Cn(r,`MM月
YYYY`):Cn(r,"MM月");case"season":return[0].includes(r.getMonth())?Cn(r,`MM月
YYYY`):Cn(r,"MM月");case"year":return Cn(r,"YYYY");default:return Cn(r,"YYYY-MM-DD HH:mm")}}function h$(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),r=String(Math.floor(e%3600/60)).padStart(2,"0"),n=String(Math.floor(e%60)).padStart(2,"0");return e<3600?"".concat(r,":").concat(n):"".concat(t,":").concat(r,":").concat(n)}var ige=function(e){dt(t,e);function t(r){var n=e.call(this,Vr({},t.defaultOptions,r))||this;n.axis=n.appendChild(new Sde({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),n.timeline=n.appendChild(new _he({style:{onChange:function(f){n.handleSliderChange(f)}}})),n.controller=n.appendChild(new Xde({})),n.states={},n.handleSliderChange=function(f){var h=function(){var d=n.states.values;return Array.isArray(d)?Ue([],Y(d),!1):d}();n.setBySliderValues(f),n.dispatchOnChange(h)};var i=n.attributes,a=i.selectionType,s=i.chartType,o=i.speed,l=i.state,u=i.playMode,c=i.values;return n.states={chartType:s,playMode:u,selectionType:a,speed:o,state:l},n.setByTimebarValues(c),n}return Object.defineProperty(t.prototype,"data",{get:function(){var r=this.attributes.data,n=function(i,a){return i.time<a.time?-1:i.time>a.time?1:0};return r.sort(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"space",{get:function(){var r=this.attributes,n=r.x,i=r.y,a=r.width,s=r.height,o=r.type,l=r.controllerHeight,u=wr(+s-l,0,+s),c=new An(n,i+ +s-l,+a,l),f,h=0;o==="chart"?(h=35,f=new An(n,i+u-h,+a,h)):f=new An;var d=o==="time"?10:u,p=new An(n,i+(o==="time"?u:u-d),+a,d-h);return{axisBBox:f,controllerBBox:c,timelineBBox:p}},enumerable:!1,configurable:!0}),t.prototype.setBySliderValues=function(r){var n,i,a=this.data,s=Y(Array.isArray(r)?r:[0,r],2),o=s[0],l=s[1],u=a.length,c=a[Math.floor(o*u)],f=a[Math.ceil(l*u)-(Array.isArray(r)?0:1)];this.states.values=[(n=c==null?void 0:c.time)!==null&&n!==void 0?n:a[0].time,(i=f==null?void 0:f.time)!==null&&i!==void 0?i:1/0]},t.prototype.setByTimebarValues=function(r){var n,i,a,s=this.data,o=Y(Array.isArray(r)?r:[void 0,r],2),l=o[0],u=o[1],c=s.find(function(h){var d=h.time;return d===l}),f=s.find(function(h){var d=h.time;return d===u});this.states.values=[(n=c==null?void 0:c.time)!==null&&n!==void 0?n:(i=s[0])===null||i===void 0?void 0:i.time,(a=f==null?void 0:f.time)!==null&&a!==void 0?a:1/0]},t.prototype.setByIndex=function(r){var n,i,a,s,o=this.data,l=Y(r,2),u=l[0],c=l[1];this.states.values=[(i=(n=o[u])===null||n===void 0?void 0:n.time)!==null&&i!==void 0?i:o[0].time,(s=(a=this.data[c])===null||a===void 0?void 0:a.time)!==null&&s!==void 0?s:1/0]},Object.defineProperty(t.prototype,"sliderValues",{get:function(){var r=this.states,n=r.values,i=r.selectionType,a=Y(Array.isArray(n)?n:[void 0,n],2),s=a[0],o=a[1],l=this.data,u=l.length,c=i==="value",f=function(){var d=l.findIndex(function(p){var v=p.time;return v===s});return c?0:d>-1?d/u:0},h=function(){if(o===1/0)return 1;var d=l.findIndex(function(p){var v=p.time;return v===o});return d>-1?d/u:c?.5:1};return[f(),h()]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var r=this.states,n=r.values,i=r.selectionType,a=Y(Array.isArray(n)?n:[this.data[0].time,n],2),s=a[0],o=a[1];return i==="value"?o:[s,o]},enumerable:!1,configurable:!0}),t.prototype.getDatumByRatio=function(r){var n=this.data,i=n.length,a=Math.floor(r*(i-1));return n[a]},Object.defineProperty(t.prototype,"chartHandleIconShape",{get:function(){var r=this.states.selectionType,n=this.space.timelineBBox.height;return r==="range"?function(i){return new Zde({style:{type:i,height:n,iconSize:n/6}})}:function(){return new vp({style:{x1:0,y1:-n/2,x2:0,y2:n/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),t.prototype.getChartStyle=function(r){var n=this,i=r.x,a=r.y,s=r.width,o=r.height,l=this.states,u=l.selectionType,c=l.chartType,f=this.data,h=this.attributes,d=h.type,p=h.labelFormatter,v=it(this.attributes,"chart");v.type;var g=gr(v,["type"]),m=u==="range";if(d==="time")return Ee({handleIconShape:function(){return new Kde({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:m?-15:0,autoFitLabel:m,handleSpacing:m?-15:0,trackFill:"#edeeef",trackLength:s,trackOpacity:.5,trackRadius:o/2,trackSize:o/2,type:u,values:this.sliderValues,formatter:function(x){if(p)return p(x);var E=n.getDatumByRatio(x).time;return typeof E=="number"?h$(E):Cn(E,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(i,", ").concat(a,")"),zIndex:1},g);var y=u==="range"?5:0,b=f.map(function(x){var E=x.value;return E});return Ee({handleIconOffset:y,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:b,sparklineType:c,sparklineScale:.8,trackLength:s,trackSize:o,type:u,values:this.sliderValues,transform:"translate(".concat(i,", ").concat(a,")"),zIndex:1},g)},t.prototype.renderChart=function(r){r===void 0&&(r=this.space.timelineBBox),this.timeline.update(this.getChartStyle(r))},t.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},t.prototype.getAxisStyle=function(r){var n=this.data,i=this.attributes,a=i.interval,s=i.labelFormatter,o=it(this.attributes,"axis"),l=r.x,u=r.y,c=r.width,f=Ue(Ue([],Y(n),!1),[{time:0}],!1).map(function(d,p,v){var g=d.time;return{label:"".concat(g),value:p/(v.length-1),time:g}}),h=Ee({startPos:[l,u],endPos:[l+c,u],data:f,labelFilter:function(d,p){return p<f.length-1},labelFormatter:function(d){var p=d.time;return s?s(p):Qde(p,a)}},o);return h},t.prototype.renderAxis=function(r){r===void 0&&(r=this.space.axisBBox);var n=this.attributes.type;n==="chart"&&this.axis.update(this.getAxisStyle(r))},t.prototype.renderController=function(r){r===void 0&&(r=this.space.controllerBBox);var n=this.attributes.type,i=this.states,a=i.state,s=i.speed,o=i.selectionType,l=i.chartType,u=it(this.attributes,"controller"),c=this,f=Ee(Ee(Ee({},r),{iconSize:20,speed:s,state:a,selectionType:o,chartType:l,onChange:function(h,d){var p=d.value;switch(h){case"reset":c.internalReset();break;case"speed":c.handleSpeedChange(p);break;case"backward":c.internalBackward();break;case"playPause":p==="play"?c.internalPlay():c.internalPause();break;case"forward":c.internalForward();break;case"selectionType":c.handleSelectionTypeChange(p);break;case"chartType":c.handleChartTypeChange(p);break}}}),u);n==="time"&&(f.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(f)},t.prototype.dispatchOnChange=function(r){var n=this.data,i=this.attributes.onChange,a=this.states,s=a.values,o=a.selectionType,l=Y(s,2),u=l[0],c=l[1],f=c===1/0?n.at(-1).time:c,h=o==="range"?[u,f]:f,d=function(p,v){return Array.isArray(p)?Array.isArray(v)?p[0]===v[0]&&(p[1]===v[1]||p[1]===1/0||v[1]===1/0):!1:Array.isArray(v)?!1:p===v};(!r||!d(r,h))&&(i==null||i(o==="range"?[u,f]:f))},t.prototype.internalReset=function(r){var n,i,a=this.states.selectionType;this.internalPause(),this.setBySliderValues(a==="range"?[0,1]:[0,0]),this.renderController(),this.updateSelection(),r||((i=(n=this.attributes)===null||n===void 0?void 0:n.onReset)===null||i===void 0||i.call(n),this.dispatchOnChange())},t.prototype.reset=function(){this.internalReset()},t.prototype.moveSelection=function(r,n){var i=this.data,a=i.length,s=this.states,o=s.values,l=s.selectionType,u=s.playMode,c=Y(o,2),f=c[0],h=c[1],d=i.findIndex(function(b){var x=b.time;return x===f}),p=i.findIndex(function(b){var x=b.time;return x===h});p===-1&&(p=a);var v=r==="backward"?-1:1,g;l==="range"?u==="acc"?(g=[d,p+v],v===-1&&d===p&&(g=[d,a])):g=[d+v,p+v]:g=[d,p+v];var m=function(b){var x=Y(b.sort(function(k,O){return k-O}),2),E=x[0],S=x[1],_=function(k){return wr(k,0,a)};return S>a?l==="value"?[0,0]:u==="acc"?[_(E),_(E)]:[0,_(S-E)]:E<0?u==="acc"?[0,_(S)]:[_(E+a-S),a]:[_(E),_(S)]},y=m(g);return this.setByIndex(y),this.updateSelection(),y},t.prototype.internalBackward=function(r){var n,i,a=this.moveSelection("backward",r);return r||((i=(n=this.attributes)===null||n===void 0?void 0:n.onBackward)===null||i===void 0||i.call(n),this.dispatchOnChange()),a},t.prototype.backward=function(){this.internalBackward()},t.prototype.internalPlay=function(r){var n=this,i,a,s=this.data,o=this.attributes.loop,l=this.states.speed,u=l===void 0?1:l;this.playInterval=window.setInterval(function(){var c=n.internalForward();c[1]===s.length&&!o&&(n.internalPause(),n.renderController())},1e3/u),this.states.state="play",!r&&((a=(i=this.attributes)===null||i===void 0?void 0:i.onPlay)===null||a===void 0||a.call(i))},t.prototype.play=function(){this.internalPlay()},t.prototype.internalPause=function(r){var n,i;clearInterval(this.playInterval),this.states.state="pause",!r&&((i=(n=this.attributes)===null||n===void 0?void 0:n.onPause)===null||i===void 0||i.call(n))},t.prototype.pause=function(){this.internalPause()},t.prototype.internalForward=function(r){var n,i,a=this.moveSelection("forward",r);return r||((i=(n=this.attributes)===null||n===void 0?void 0:n.onForward)===null||i===void 0||i.call(n),this.dispatchOnChange()),a},t.prototype.forward=function(){this.internalForward()},t.prototype.handleSpeedChange=function(r){var n,i;this.states.speed=r;var a=this.states.state;a==="play"&&(this.internalPause(!0),this.internalPlay(!0)),(i=(n=this.attributes)===null||n===void 0?void 0:n.onSpeedChange)===null||i===void 0||i.call(n,r)},t.prototype.handleSelectionTypeChange=function(r){var n,i;this.states.selectionType=r,this.renderChart(),(i=(n=this.attributes)===null||n===void 0?void 0:n.onSelectionTypeChange)===null||i===void 0||i.call(n,r)},t.prototype.handleChartTypeChange=function(r){var n,i;this.states.chartType=r,this.renderChart(),(i=(n=this.attributes)===null||n===void 0?void 0:n.onChartTypeChange)===null||i===void 0||i.call(n,r)},t.prototype.render=function(){var r=this.space,n=r.axisBBox,i=r.controllerBBox,a=r.timelineBBox;this.renderController(i),this.renderAxis(n),this.renderChart(a),this.states.state==="play"&&this.internalPlay()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.internalPause(!0)},t.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},t}(mr);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.35
 * @date 5/9/2025, 8:20:14 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var d$=function(){function e(t){ke(this,e),this.dragndropPluginOptions=t}return Te(e,[{key:"apply",value:function(r){var n=this,i=r.renderingService,a=r.renderingContext,s=a.root.ownerDocument,o=s.defaultView,l=function(c){var f=c.target,h=f===s,d=h&&n.dragndropPluginOptions.isDocumentDraggable?s:f.closest&&f.closest("[draggable=true]");if(d){var p=!1,v=c.timeStamp,g=[c.clientX,c.clientY],m=null,y=[c.clientX,c.clientY],b=function(){var E=Is(Qr().mark(function S(_){var k,O,P,N,R,L;return Qr().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(p){$.next=8;break}if(k=_.timeStamp-v,O=Rn([_.clientX,_.clientY],g),!(k<=n.dragndropPluginOptions.dragstartTimeThreshold||O<=n.dragndropPluginOptions.dragstartDistanceThreshold)){$.next=5;break}return $.abrupt("return");case 5:_.type="dragstart",d.dispatchEvent(_),p=!0;case 8:if(_.type="drag",_.dx=_.clientX-y[0],_.dy=_.clientY-y[1],d.dispatchEvent(_),y=[_.clientX,_.clientY],h){$.next=21;break}return P=n.dragndropPluginOptions.overlap==="pointer"?[_.canvasX,_.canvasY]:f.getBounds().center,$.next=17,s.elementsFromPoint(P[0],P[1]);case 17:N=$.sent,R=N[N.indexOf(f)+1],L=(R==null?void 0:R.closest("[droppable=true]"))||(n.dragndropPluginOptions.isDocumentDroppable?s:null),m!==L&&(m&&(_.type="dragleave",_.target=m,m.dispatchEvent(_)),L&&(_.type="dragenter",_.target=L,L.dispatchEvent(_)),m=L,m&&(_.type="dragover",_.target=m,m.dispatchEvent(_)));case 21:case"end":return $.stop()}},S)}));return function(_){return E.apply(this,arguments)}}();o.addEventListener("pointermove",b);var x=function(S){if(p){S.detail={preventClick:!0};var _=S.clone();m&&(_.type="drop",_.target=m,m.dispatchEvent(_)),_.type="dragend",d.dispatchEvent(_),p=!1}o.removeEventListener("pointermove",b)};f.addEventListener("pointerup",x,{once:!0}),f.addEventListener("pointerupoutside",x,{once:!0})}};i.hooks.init.tap(e.tag,function(){o.addEventListener("pointerdown",l)}),i.hooks.destroy.tap(e.tag,function(){o.removeEventListener("pointerdown",l)})}}])}();d$.tag="Dragndrop";var age=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,t),r=ut(this,t),r.name="dragndrop",r.options=n,r}return ct(t,e),Te(t,[{key:"init",value:function(){this.addRenderingPlugin(new d$(ot({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(n){Object.assign(this.plugins[0].dragndropPluginOptions,n)}}])}(Xs);const p$=1024;let epe=0;class Qb{constructor(t,r){this.from=t,this.to=r}}class Yt{constructor(t={}){this.id=epe++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=Ui.match(t)),r=>{let n=t(r);return n===void 0?null:[this,n]}}}Yt.closedBy=new Yt({deserialize:e=>e.split(" ")});Yt.openedBy=new Yt({deserialize:e=>e.split(" ")});Yt.group=new Yt({deserialize:e=>e.split(" ")});Yt.isolate=new Yt({deserialize:e=>{if(e&&e!="rtl"&&e!="ltr"&&e!="auto")throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}});Yt.contextHash=new Yt({perNode:!0});Yt.lookAhead=new Yt({perNode:!0});Yt.mounted=new Yt({perNode:!0});class Pd{constructor(t,r,n){this.tree=t,this.overlay=r,this.parser=n}static get(t){return t&&t.props&&t.props[Yt.mounted.id]}}const tpe=Object.create(null);class Ui{constructor(t,r,n,i=0){this.name=t,this.props=r,this.id=n,this.flags=i}static define(t){let r=t.props&&t.props.length?Object.create(null):tpe,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new Ui(t.name||"",r,t.id,n);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let r=this.prop(Yt.group);return r?r.indexOf(t)>-1:!1}return this.id==t}static match(t){let r=Object.create(null);for(let n in t)for(let i of n.split(" "))r[i]=t[n];return n=>{for(let i=n.prop(Yt.group),a=-1;a<(i?i.length:0);a++){let s=r[a<0?n.name:i[a]];if(s)return s}}}}Ui.none=new Ui("",Object.create(null),0,8);class dE{constructor(t){this.types=t;for(let r=0;r<t.length;r++)if(t[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let r=[];for(let n of this.types){let i=null;for(let a of t){let s=a(n);s&&(i||(i=Object.assign({},n.props)),i[s[0].id]=s[1])}r.push(i?new Ui(n.name,i,n.id,n.flags):n)}return new dE(r)}}const hh=new WeakMap,cL=new WeakMap;var Xr;(function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"})(Xr||(Xr={}));class zn{constructor(t,r,n,i,a){if(this.type=t,this.children=r,this.positions=n,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[s,o]of a)this.props[typeof s=="number"?s:s.id]=o}}toString(){let t=Pd.get(this);if(t&&!t.overlay)return t.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(t=0){return new jx(this.topNode,t)}cursorAt(t,r=0,n=0){let i=hh.get(this)||this.topNode,a=new jx(i);return a.moveTo(t,r),hh.set(this,a._tree),a}get topNode(){return new bi(this,0,0,null)}resolve(t,r=0){let n=Ac(hh.get(this)||this.topNode,t,r,!1);return hh.set(this,n),n}resolveInner(t,r=0){let n=Ac(cL.get(this)||this.topNode,t,r,!0);return cL.set(this,n),n}resolveStack(t,r=0){return ipe(this,t,r)}iterate(t){let{enter:r,leave:n,from:i=0,to:a=this.length}=t,s=t.mode||0,o=(s&Xr.IncludeAnonymous)>0;for(let l=this.cursor(s|Xr.IncludeAnonymous);;){let u=!1;if(l.from<=a&&l.to>=i&&(!o&&l.type.isAnonymous||r(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&n&&(o||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let r in this.props)t.push([+r,this.props[r]]);return t}balance(t={}){return this.children.length<=8?this:gE(Ui.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new zn(this.type,r,n,i,this.propValues),t.makeTree||((r,n,i)=>new zn(Ui.none,r,n,i)))}static build(t){return ape(t)}}zn.empty=new zn(Ui.none,[],[],0);class pE{constructor(t,r){this.buffer=t,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new pE(this.buffer,this.index)}}class Bs{constructor(t,r,n){this.buffer=t,this.length=r,this.set=n}get type(){return Ui.none}toString(){let t=[];for(let r=0;r<this.buffer.length;)t.push(this.childString(r)),r=this.buffer[r+3];return t.join(",")}childString(t){let r=this.buffer[t],n=this.buffer[t+3],i=this.set.types[r],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),t+=4,n==t)return a;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return a+"("+s.join(",")+")"}findChild(t,r,n,i,a){let{buffer:s}=this,o=-1;for(let l=t;l!=r&&!(v$(a,i,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,r,n){let i=this.buffer,a=new Uint16Array(r-t),s=0;for(let o=t,l=0;o<r;){a[l++]=i[o++],a[l++]=i[o++]-n;let u=a[l++]=i[o++]-n;a[l++]=i[o++]-t,s=Math.max(s,u)}return new Bs(a,s,this.set)}}function v$(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function Ac(e,t,r,n){for(var i;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let s=!n&&e instanceof bi&&e.index<0?null:e.parent;if(!s)return e;e=s}let a=n?0:Xr.IgnoreOverlays;if(n)for(let s=e,o=s.parent;o;s=o,o=s.parent)s instanceof bi&&s.index<0&&((i=o.enter(t,r,a))===null||i===void 0?void 0:i.from)!=s.from&&(e=o);for(;;){let s=e.enter(t,r,a);if(!s)return e;e=s}}class g${cursor(t=0){return new jx(this,t)}getChild(t,r=null,n=null){let i=fL(this,t,r,n);return i.length?i[0]:null}getChildren(t,r=null,n=null){return fL(this,t,r,n)}resolve(t,r=0){return Ac(this,t,r,!1)}resolveInner(t,r=0){return Ac(this,t,r,!0)}matchContext(t){return zx(this.parent,t)}enterUnfinishedNodesBefore(t){let r=this.childBefore(t),n=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(n=r,r=i.prevSibling):r=i}return n}get node(){return this}get next(){return this.parent}}class bi extends g${constructor(t,r,n,i){super(),this._tree=t,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,r,n,i,a=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,u=r>0?o.length:-1;t!=u;t+=r){let c=o[t],f=l[t]+s.from;if(v$(i,n,f,f+c.length)){if(c instanceof Bs){if(a&Xr.ExcludeBuffers)continue;let h=c.findChild(0,c.buffer.length,r,n-f,i);if(h>-1)return new Ms(new rpe(s,c,t,f),null,h)}else if(a&Xr.IncludeAnonymous||!c.type.isAnonymous||vE(c)){let h;if(!(a&Xr.IgnoreMounts)&&(h=Pd.get(c))&&!h.overlay)return new bi(h.tree,f,t,s);let d=new bi(c,f,t,s);return a&Xr.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(r<0?c.children.length-1:0,r,n,i)}}}if(a&Xr.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?t=s.index+r:t=r<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,r,n=0){let i;if(!(n&Xr.IgnoreOverlays)&&(i=Pd.get(this._tree))&&i.overlay){let a=t-this.from;for(let{from:s,to:o}of i.overlay)if((r>0?s<=a:s<a)&&(r<0?o>=a:o>a))return new bi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,r,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function fL(e,t,r,n){let i=e.cursor(),a=[];if(!i.firstChild())return a;if(r!=null){for(let s=!1;!s;)if(s=i.type.is(r),!i.nextSibling())return a}for(;;){if(n!=null&&i.type.is(n))return a;if(i.type.is(t)&&a.push(i.node),!i.nextSibling())return n==null?a:[]}}function zx(e,t,r=t.length-1){for(let n=e;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class rpe{constructor(t,r,n,i){this.parent=t,this.buffer=r,this.index=n,this.start=i}}class Ms extends g${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,r,n){super(),this.context=t,this._parent=r,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,r,n){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],t,r-this.context.start,n);return a<0?null:new Ms(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,r,n=0){if(n&Xr.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,t-this.context.start,r);return a<0?null:new Ms(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,r=t.buffer[this.index+3];return r<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Ms(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new Ms(this.context,this._parent,t.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],r=[],{buffer:n}=this.context,i=this.index+4,a=n.buffer[this.index+3];if(a>i){let s=n.buffer[this.index+1];t.push(n.slice(i,a,s)),r.push(0)}return new zn(this.type,t,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function m$(e){if(!e.length)return null;let t=0,r=e[0];for(let a=1;a<e.length;a++){let s=e[a];(s.from>r.from||s.to<r.to)&&(r=s,t=a)}let n=r instanceof bi&&r.index<0?null:r.parent,i=e.slice();return n?i[t]=n:i.splice(t,1),new npe(i,r)}class npe{constructor(t,r){this.heads=t,this.node=r}get next(){return m$(this.heads)}}function ipe(e,t,r){let n=e.resolveInner(t,r),i=null;for(let a=n instanceof bi?n:n.context.parent;a;a=a.parent)if(a.index<0){let s=a.parent;(i||(i=[n])).push(s.resolve(t,r)),a=s}else{let s=Pd.get(a.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let o=new bi(s.tree,s.overlay[0].from+a.from,-1,a);(i||(i=[n])).push(Ac(o,t,r,!1))}}return i?m$(i):n}class jx{get name(){return this.type.name}constructor(t,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof bi)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let n=t._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,r){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return t?t instanceof bi?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,r,n,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],t,r-this.buffer.start,n);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,r,n=this.mode){return this.buffer?n&Xr.ExcludeBuffers?!1:this.enterChild(1,t,r):this.yield(this._tree.enter(t,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Xr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Xr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(t<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let r,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let a=r+t,s=t<0?-1:n._tree.children.length;a!=s;a+=t){let o=n._tree.children[a];if(this.mode&Xr.IncludeAnonymous||o instanceof Bs||!o.type.isAnonymous||vE(o))return!1}return!0}move(t,r){if(r&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,r=0){for(;(this.from==this.to||(r<1?this.from>=t:this.from>t)||(r>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,r););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,r=null,n=0;if(t&&t.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;r=s,n=a+1;break e}i=this.stack[--a]}for(let i=n;i<this.stack.length;i++)r=new Ms(this.buffer,r,this.stack[i]);return this.bufferNode=new Ms(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&r&&r(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return zx(this.node.parent,t);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=t.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return zx(this._tree,t,i);let s=n[r.buffer[this.stack[a]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function vE(e){return e.children.some(t=>t instanceof Bs||!t.type.isAnonymous||vE(t))}function ape(e){var t;let{buffer:r,nodeSet:n,maxBufferLength:i=p$,reused:a=[],minRepeatType:s=n.types.length}=e,o=Array.isArray(r)?new pE(r,r.length):r,l=n.types,u=0,c=0;function f(E,S,_,k,O,P){let{id:N,start:R,end:L,size:D}=o,$=c,X=u;for(;D<0;)if(o.next(),D==-1){let Se=a[N];_.push(Se),k.push(R-E);return}else if(D==-3){u=N;return}else if(D==-4){c=N;return}else throw new RangeError(`Unrecognized record size: ${D}`);let K=l[N],V,ne,we=R-E;if(L-R<=i&&(ne=g(o.pos-S,O))){let Se=new Uint16Array(ne.size-ne.skip),pe=o.pos-ne.size,qe=Se.length;for(;o.pos>pe;)qe=m(ne.start,Se,qe);V=new Bs(Se,L-ne.start,n),we=ne.start-E}else{let Se=o.pos-D;o.next();let pe=[],qe=[],ee=N>=s?N:-1,U=0,le=L;for(;o.pos>Se;)ee>=0&&o.id==ee&&o.size>=0?(o.end<=le-i&&(p(pe,qe,R,U,o.end,le,ee,$,X),U=pe.length,le=o.end),o.next()):P>2500?h(R,Se,pe,qe):f(R,Se,pe,qe,ee,P+1);if(ee>=0&&U>0&&U<pe.length&&p(pe,qe,R,U,R,le,ee,$,X),pe.reverse(),qe.reverse(),ee>-1&&U>0){let Z=d(K,X);V=gE(K,pe,qe,0,pe.length,0,L-R,Z,Z)}else V=v(K,pe,qe,L-R,$-L,X)}_.push(V),k.push(we)}function h(E,S,_,k){let O=[],P=0,N=-1;for(;o.pos>S;){let{id:R,start:L,end:D,size:$}=o;if($>4)o.next();else{if(N>-1&&L<N)break;N<0&&(N=D-i),O.push(R,L,D),P++,o.next()}}if(P){let R=new Uint16Array(P*4),L=O[O.length-2];for(let D=O.length-3,$=0;D>=0;D-=3)R[$++]=O[D],R[$++]=O[D+1]-L,R[$++]=O[D+2]-L,R[$++]=$;_.push(new Bs(R,O[2]-L,n)),k.push(L-E)}}function d(E,S){return(_,k,O)=>{let P=0,N=_.length-1,R,L;if(N>=0&&(R=_[N])instanceof zn){if(!N&&R.type==E&&R.length==O)return R;(L=R.prop(Yt.lookAhead))&&(P=k[N]+R.length+L)}return v(E,_,k,O,P,S)}}function p(E,S,_,k,O,P,N,R,L){let D=[],$=[];for(;E.length>k;)D.push(E.pop()),$.push(S.pop()+_-O);E.push(v(n.types[N],D,$,P-O,R-P,L)),S.push(O-_)}function v(E,S,_,k,O,P,N){if(P){let R=[Yt.contextHash,P];N=N?[R].concat(N):[R]}if(O>25){let R=[Yt.lookAhead,O];N=N?[R].concat(N):[R]}return new zn(E,S,_,k,N)}function g(E,S){let _=o.fork(),k=0,O=0,P=0,N=_.end-i,R={size:0,start:0,skip:0};e:for(let L=_.pos-E;_.pos>L;){let D=_.size;if(_.id==S&&D>=0){R.size=k,R.start=O,R.skip=P,P+=4,k+=4,_.next();continue}let $=_.pos-D;if(D<0||$<L||_.start<N)break;let X=_.id>=s?4:0,K=_.start;for(_.next();_.pos>$;){if(_.size<0)if(_.size==-3)X+=4;else break e;else _.id>=s&&(X+=4);_.next()}O=K,k+=D,P+=X}return(S<0||k==E)&&(R.size=k,R.start=O,R.skip=P),R.size>4?R:void 0}function m(E,S,_){let{id:k,start:O,end:P,size:N}=o;if(o.next(),N>=0&&k<s){let R=_;if(N>4){let L=o.pos-(N-4);for(;o.pos>L;)_=m(E,S,_)}S[--_]=R,S[--_]=P-E,S[--_]=O-E,S[--_]=k}else N==-3?u=k:N==-4&&(c=k);return _}let y=[],b=[];for(;o.pos>0;)f(e.start||0,e.bufferStart||0,y,b,-1,0);let x=(t=e.length)!==null&&t!==void 0?t:y.length?b[0]+y[0].length:0;return new zn(l[e.topID],y.reverse(),b.reverse(),x)}const hL=new WeakMap;function Rh(e,t){if(!e.isAnonymous||t instanceof Bs||t.type!=e)return 1;let r=hL.get(t);if(r==null){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof zn)){r=1;break}r+=Rh(e,n)}hL.set(t,r)}return r}function gE(e,t,r,n,i,a,s,o,l){let u=0;for(let p=n;p<i;p++)u+=Rh(e,t[p]);let c=Math.ceil(u*1.5/8),f=[],h=[];function d(p,v,g,m,y){for(let b=g;b<m;){let x=b,E=v[b],S=Rh(e,p[b]);for(b++;b<m;b++){let _=Rh(e,p[b]);if(S+_>=c)break;S+=_}if(b==x+1){if(S>c){let _=p[x];d(_.children,_.positions,0,_.children.length,v[x]+y);continue}f.push(p[x])}else{let _=v[b-1]+p[b-1].length-E;f.push(gE(e,p,v,x,b,E,_,null,l))}h.push(E+y-a)}}return d(t,r,n,i,0),(o||l)(f,h,s)}class Gx{constructor(t,r,n,i,a=!1,s=!1){this.from=t,this.to=r,this.tree=n,this.offset=i,this.open=(a?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,r=[],n=!1){let i=[new Gx(0,t.length,t,0,!1,n)];for(let a of r)a.to>t.length&&i.push(a);return i}static applyChanges(t,r,n=128){if(!r.length)return t;let i=[],a=1,s=t.length?t[0]:null;for(let o=0,l=0,u=0;;o++){let c=o<r.length?r[o]:null,f=c?c.fromA:1e9;if(f-l>=n)for(;s&&s.from<f;){let h=s;if(l>=h.from||f<=h.to||u){let d=Math.max(h.from,l)-u,p=Math.min(h.to,f)-u;h=d>=p?null:new Gx(d,p,h.tree,h.offset+u,o>0,!!c)}if(h&&i.push(h),s.to>f)break;s=a<t.length?t[a++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class spe{startParse(t,r,n){return typeof t=="string"&&(t=new ope(t)),n=n?n.length?n.map(i=>new Qb(i.from,i.to)):[new Qb(0,0)]:[new Qb(0,t.length)],this.createParse(t,r||[],n)}parse(t,r,n){let i=this.startParse(t,r,n);for(;;){let a=i.advance();if(a)return a}}}class ope{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,r){return this.string.slice(t,r)}}new Yt({perNode:!0});var dL={};class Nd{constructor(t,r,n,i,a,s,o,l,u,c=0,f){this.p=t,this.stack=r,this.state=n,this.reducePos=i,this.pos=a,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((t,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,r,n=0){let i=t.parser.context;return new Nd(t,[],r,n,n,0,[],0,i?new pL(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var r;let n=t>>19,i=t&65535,{parser:a}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let o=a.dynamicPrecedence(i);if(o&&(this.score+=o),n==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(n-1)*3-(t&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let f=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-f;if(i<a.minRepeatTerm||t&131072){let d=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,d,h+4,!0)}if(t&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=a.getGoto(d,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(t,r,n,i=4,a=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,o=this.buffer.length;if(o==0&&s.parent&&(o=s.bufferBase-s.parent.bufferBase,s=s.parent),o>0&&s.buffer[o-4]==0&&s.buffer[o-1]>-1){if(r==n)return;if(s.buffer[o-2]>=r){s.buffer[o-2]=n;return}}}if(!a||this.pos==n)this.buffer.push(t,r,n,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let o=!1;for(let l=s;l>0&&this.buffer[l-2]>n;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;s>0&&this.buffer[s-2]>n;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=t,this.buffer[s+1]=r,this.buffer[s+2]=n,this.buffer[s+3]=i}}shift(t,r,n,i){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let a=t,{parser:s}=this.p;(i>this.pos||r<=s.maxNode)&&(this.pos=i,s.stateFlag(a,1)||(this.reducePos=i)),this.pushState(a,n),this.shiftContext(r,n),r<=s.maxNode&&this.buffer.push(r,n,i,4)}else this.pos=i,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,i,4)}apply(t,r,n,i){t&65536?this.reduce(t):this.shift(t,r,n,i)}useNode(t,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(r,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,r=t.buffer.length;for(;r>0&&t.buffer[r-2]>t.reducePos;)r-=4;let n=t.buffer.slice(r),i=t.bufferBase+r;for(;t&&i==t.bufferBase;)t=t.parent;return new Nd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,r){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,r,4),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(t){for(let r=new lpe(this);;){let n=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,t);if(n==0)return!1;if((n&65536)==0)return!0;r.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let a=0,s;a<r.length;a+=2)(s=r[a+1])!=this.state&&this.p.parser.hasAction(s,t)&&i.push(r[a],s);if(this.stack.length<120)for(let a=0;i.length<8&&a<r.length;a+=2){let s=r[a+1];i.some((o,l)=>l&1&&o==s)||i.push(r[a],s)}r=i}let n=[];for(let i=0;i<r.length&&n.length<4;i+=2){let a=r[i+1];if(a==this.state)continue;let s=this.split();s.pushState(a,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(r[i],this.pos),s.reducePos=this.pos,s.score-=200,n.push(s)}return n}forceReduce(){let{parser:t}=this.p,r=t.stateSlot(this.state,5);if((r&65536)==0)return!1;if(!t.validAction(this.state,r)){let n=r>>19,i=r&65535,a=this.stack.length-n*3;if(a<0||t.getGoto(this.stack[a],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;r=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:t}=this.p,r=[],n=(i,a)=>{if(!r.includes(i))return r.push(i),t.allActions(i,s=>{if(!(s&393216))if(s&65536){let o=(s>>19)-a;if(o>1){let l=s&65535,u=this.stack.length-o*3;if(u>=0&&t.getGoto(this.stack[u],l,!1)>=0)return o<<19|65536|l}}else{let o=n(s,a+1);if(o!=null)return o}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=t.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(r)))}reduceContext(t,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(r)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let r=new pL(this.curContext.tracker,t);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class pL{constructor(t,r){this.tracker=t,this.context=r,this.hash=t.strict?t.hash(r):0}}class lpe{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let r=t&65535,n=t>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}}class Cd{constructor(t,r,n){this.stack=t,this.pos=r,this.index=n,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,r=t.bufferBase+t.buffer.length){return new Cd(t,r,r-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Cd(this.stack,this.pos,this.index)}}function dh(e,t=Uint16Array){if(typeof e!="string")return e;let r=null;for(let n=0,i=0;n<e.length;){let a=0;for(;;){let s=e.charCodeAt(n++),o=!1;if(s==126){a=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,o=!0),a+=l,o)break;a*=46}r?r[i++]=a:r=new t(a)}return r}class Lh{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const vL=new Lh;class upe{constructor(t,r){this.input=t,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=vL,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(t,r){let n=this.range,i=this.rangeIndex,a=this.pos+t;for(;a<n.from;){if(!i)return null;let s=this.ranges[--i];a-=n.from-s.to,n=s}for(;r<0?a>n.to:a>=n.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];a+=s.from-n.to,n=s}return a}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let r of this.ranges)if(r.to>t)return Math.max(t,r.from);return this.end}peek(t){let r=this.chunkOff+t,n,i;if(r>=0&&r<this.chunk.length)n=this.pos+t,i=this.chunk.charCodeAt(r);else{let a=this.resolveOffset(t,1);if(a==null)return-1;if(n=a,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let s=this.rangeIndex,o=this.range;for(;o.to<=n;)o=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(t,r=0){let n=r?this.resolveOffset(r,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,r){this.token.value=t,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),r=this.pos+t.length;this.chunk=r>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,r){if(r?(this.token=r,r.start=t,r.lookAhead=t+1,r.value=r.extended=-1):this.token=vL,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,r){if(t>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,r-this.chunkPos);if(t>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,r-this.chunk2Pos);if(t>=this.range.from&&r<=this.range.to)return this.input.read(t,r);let n="";for(let i of this.ranges){if(i.from>=r)break;i.to>t&&(n+=this.input.read(Math.max(i.from,t),Math.min(i.to,r)))}return n}}class _l{constructor(t,r){this.data=t,this.id=r}token(t,r){let{parser:n}=r.p;cpe(this.data,t,r,this.id,n.data,n.tokenPrecTable)}}_l.prototype.contextual=_l.prototype.fallback=_l.prototype.extend=!1;_l.prototype.fallback=_l.prototype.extend=!1;function cpe(e,t,r,n,i,a){let s=0,o=1<<n,{dialect:l}=r.p.parser;e:for(;(o&e[s])!=0;){let u=e[s+1];for(let d=s+3;d<u;d+=2)if((e[d+1]&o)>0){let p=e[d];if(l.allows(p)&&(t.token.value==-1||t.token.value==p||fpe(p,t.token.value,i,a))){t.acceptToken(p);break}}let c=t.next,f=0,h=e[s+2];if(t.next<0&&h>f&&e[u+h*3-3]==65535){s=e[u+h*3-1];continue e}for(;f<h;){let d=f+h>>1,p=u+d+(d<<1),v=e[p],g=e[p+1]||65536;if(c<v)h=d;else if(c>=g)f=d+1;else{s=e[p+2],t.advance();continue e}}break}}function gL(e,t,r){for(let n=t,i;(i=e[n])!=65535;n++)if(i==r)return n-t;return-1}function fpe(e,t,r,n){let i=gL(r,n,t);return i<0||gL(r,n,e)<i}const Hn=typeof process<"u"&&dL&&/\bparse\b/.test(dL.LOG);let Jb=null;function mL(e,t,r){let n=e.cursor(Xr.IncludeAnonymous);for(n.moveTo(t);;)if(!(r<0?n.childBefore(t):n.childAfter(t)))for(;;){if((r<0?n.to<t:n.from>t)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(e.length,Math.max(n.from+1,t+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:e.length}}class hpe{constructor(t,r){this.fragments=t,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?mL(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?mL(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],i=this.index[r];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=n.children[i],s=this.start[r]+n.positions[i];if(s>t)return this.nextStart=s,null;if(a instanceof zn){if(s==t){if(s<this.safeFrom)return null;let o=s+a.length;if(o<=this.safeTo){let l=a.prop(Yt.lookAhead);if(!l||o+l<this.fragment.to)return a}}this.index[r]++,s+a.length>=Math.max(this.safeFrom,t)&&(this.trees.push(a),this.start.push(s),this.index.push(0))}else this.index[r]++,this.nextStart=s+a.length}}}class dpe{constructor(t,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(n=>new Lh)}getActions(t){let r=0,n=null,{parser:i}=t.p,{tokenizers:a}=i,s=i.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let u=0;u<a.length;u++){if((1<<u&s)==0)continue;let c=a[u],f=this.tokens[u];if(!(n&&!c.fallback)&&((c.contextual||f.start!=t.pos||f.mask!=s||f.context!=o)&&(this.updateCachedToken(f,c,t),f.mask=s,f.context=o),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let h=r;if(f.extended>-1&&(r=this.addActions(t,f.extended,f.end,r)),r=this.addActions(t,f.value,f.end,r),!c.extend&&(n=f,r>h))break}}for(;this.actions.length>r;)this.actions.pop();return l&&t.setLookAhead(l),!n&&t.pos==this.stream.end&&(n=new Lh,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,r=this.addActions(t,n.value,n.end,r)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let r=new Lh,{pos:n,p:i}=t;return r.start=n,r.end=Math.min(n+1,i.stream.end),r.value=n==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(t,r,n){let i=this.stream.clipPos(n.pos);if(r.token(this.stream.reset(i,t),n),t.value>-1){let{parser:a}=n.p;for(let s=0;s<a.specialized.length;s++)if(a.specialized[s]==t.value){let o=a.specializers[s](this.stream.read(t.start,t.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){(o&1)==0?t.value=o>>1:t.extended=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,r,n,i){for(let a=0;a<i;a+=3)if(this.actions[a]==t)return i;return this.actions[i++]=t,this.actions[i++]=r,this.actions[i++]=n,i}addActions(t,r,n,i){let{state:a}=t,{parser:s}=t.p,{data:o}=s;for(let l=0;l<2;l++)for(let u=s.stateSlot(a,l?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=La(o,u+2);else{i==0&&o[u+1]==2&&(i=this.putAction(La(o,u+2),r,n,i));break}o[u]==r&&(i=this.putAction(La(o,u+1),r,n,i))}return i}}class ppe{constructor(t,r,n,i){this.parser=t,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new upe(r,i),this.tokens=new dpe(t,this.stream),this.topTerm=t.top[1];let{from:a}=i[0];this.stacks=[Nd.start(this,t.top[0],a)],this.fragments=n.length&&this.stream.end-a>t.bufferLength*4?new hpe(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,r=this.minStackPos,n=this.stacks=[],i,a;if(this.bigReductionCount>300&&t.length==1){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let o=t[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)n.push(o);else{if(this.advanceStack(o,n,t))continue;{i||(i=[],a=[]),i.push(o);let l=this.tokens.getMainToken(o);a.push(l.value,l.end)}}break}}if(!n.length){let s=i&&gpe(i);if(s)return Hn&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Hn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,n);if(s)return Hn&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(n.length>s)for(n.sort((o,l)=>l.score-o.score);n.length>s;)n.pop();n.some(o=>o.reducePos>r)&&this.recovering--}else if(n.length>1){e:for(let s=0;s<n.length-1;s++){let o=n[s];for(let l=s+1;l<n.length;l++){let u=n[l];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)n.splice(l--,1);else{n.splice(s--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let s=1;s<n.length;s++)n[s].pos<this.minStackPos&&(this.minStackPos=n[s].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,r,n){let i=t.pos,{parser:a}=this,s=Hn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let u=t.curContext&&t.curContext.tracker.strict,c=u?t.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?a.getGoto(t.state,f.type.id):-1;if(h>-1&&f.length&&(!u||(f.prop(Yt.contextHash)||0)==c))return t.useNode(f,h),Hn&&console.log(s+this.stackID(t)+` (via reuse of ${a.getName(f.type.id)})`),!0;if(!(f instanceof zn)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof zn&&f.positions[0]==0)f=d;else break}}let o=a.stateSlot(t.state,4);if(o>0)return t.reduce(o),Hn&&console.log(s+this.stackID(t)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let u=0;u<l.length;){let c=l[u++],f=l[u++],h=l[u++],d=u==l.length||!n,p=d?t:t.split(),v=this.tokens.mainToken;if(p.apply(c,f,v?v.start:p.pos,h),Hn&&console.log(s+this.stackID(p)+` (via ${(c&65536)==0?"shift":`reduce of ${a.getName(c&65535)}`} for ${a.getName(f)} @ ${i}${p==t?"":", split"})`),d)return!0;p.pos>i?r.push(p):n.push(p)}return!1}advanceFully(t,r){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return yL(t,r),!0}}runRecovery(t,r,n){let i=null,a=!1;for(let s=0;s<t.length;s++){let o=t[s],l=r[s<<1],u=r[(s<<1)+1],c=Hn?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),Hn&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))))continue;let f=o.split(),h=c;for(let d=0;f.forceReduce()&&d<10&&(Hn&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,n));d++)Hn&&(h=this.stackID(f)+" -> ");for(let d of o.recoverByInsert(l))Hn&&console.log(c+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,n);this.stream.end>o.pos?(u==o.pos&&(u++,l=0),o.recoverByDelete(l,u),Hn&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),yL(o,n)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(t){return t.close(),zn.build({buffer:Cd.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let r=(Jb||(Jb=new WeakMap)).get(t);return r||Jb.set(t,r=String.fromCodePoint(this.nextStackID++)),r+t}}function yL(e,t){for(let r=0;r<t.length;r++){let n=t[r];if(n.pos==e.pos&&n.sameState(e)){t[r].score<e.score&&(t[r]=e);return}}t.push(e)}class vpe{constructor(t,r,n){this.source=t,this.flags=r,this.disabled=n}allows(t){return!this.disabled||this.disabled[t]==0}}class Rd extends spe{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let r=t.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let o=0;o<t.repeatNodeCount;o++)r.push("");let n=Object.keys(t.topRules).map(o=>t.topRules[o][1]),i=[];for(let o=0;o<r.length;o++)i.push([]);function a(o,l,u){i[o].push([l,l.deserialize(String(u))])}if(t.nodeProps)for(let o of t.nodeProps){let l=o[0];typeof l=="string"&&(l=Yt[l]);for(let u=1;u<o.length;){let c=o[u++];if(c>=0)a(c,l,o[u++]);else{let f=o[u+-c];for(let h=-c;h>0;h--)a(o[u++],l,f);u++}}}this.nodeSet=new dE(r.map((o,l)=>Ui.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:i[l],top:n.indexOf(l)>-1,error:l==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(l)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=p$;let s=dh(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(bL),this.states=dh(t.states,Uint32Array),this.data=dh(t.stateData),this.goto=dh(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new _l(s,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,r,n){let i=new ppe(this,t,r,n);for(let a of this.wrappers)i=a(i,t,r,n);return i}getGoto(t,r,n=!1){let i=this.goto;if(r>=i[0])return-1;for(let a=i[r+1];;){let s=i[a++],o=s&1,l=i[a++];if(o&&n)return l;for(let u=a+(s>>1);a<u;a++)if(i[a]==t)return l;if(o)return-1}}hasAction(t,r){let n=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(t,i?2:1),s;;a+=3){if((s=n[a])==65535)if(n[a+1]==1)s=n[a=La(n,a+2)];else{if(n[a+1]==2)return La(n,a+2);break}if(s==r||s==0)return La(n,a+1)}return 0}stateSlot(t,r){return this.states[t*6+r]}stateFlag(t,r){return(this.stateSlot(t,0)&r)>0}validAction(t,r){return!!this.allActions(t,n=>n==r?!0:null)}allActions(t,r){let n=this.stateSlot(t,4),i=n?r(n):void 0;for(let a=this.stateSlot(t,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=La(this.data,a+2);else break;i=r(La(this.data,a+1))}return i}nextStates(t){let r=[];for(let n=this.stateSlot(t,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=La(this.data,n+2);else break;if((this.data[n+2]&1)==0){let i=this.data[n+1];r.some((a,s)=>s&1&&a==i)||r.push(this.data[n],i)}}return r}configure(t){let r=Object.assign(Object.create(Rd.prototype),this);if(t.props&&(r.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);r.top=n}return t.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let i=t.tokenizers.find(a=>a.from==n);return i?i.to:n})),t.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((n,i)=>{let a=t.specializers.find(o=>o.from==n.external);if(!a)return n;let s=Object.assign(Object.assign({},n),{external:a.to});return r.specializers[i]=bL(s),s})),t.contextTracker&&(r.context=t.contextTracker),t.dialect&&(r.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(r.strict=t.strict),t.wrap&&(r.wrappers=r.wrappers.concat(t.wrap)),t.bufferLength!=null&&(r.bufferLength=t.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let r=this.dynamicPrecedences;return r==null?0:r[t]||0}parseDialect(t){let r=Object.keys(this.dialects),n=r.map(()=>!1);if(t)for(let a of t.split(" ")){let s=r.indexOf(a);s>=0&&(n[s]=!0)}let i=null;for(let a=0;a<r.length;a++)if(!n[a])for(let s=this.dialects[r[a]],o;(o=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new vpe(t,n,i)}static deserialize(t){return new Rd(t)}}function La(e,t){return e[t]|e[t+1]<<16}function gpe(e){let t=null;for(let r of e){let n=r.p.stoppedAt;(r.pos==r.p.stream.end||n!=null&&r.pos>n)&&r.p.parser.stateFlag(r.state,2)&&(!t||t.score<r.score)&&(t=r)}return t}function bL(e){if(e.external){let t=e.extend?1:0;return(r,n)=>e.external(r,n)<<1|t}return e.get}let mpe=0;class vi{constructor(t,r,n,i){this.name=t,this.set=r,this.base=n,this.modified=i,this.id=mpe++}toString(){let{name:t}=this;for(let r of this.modified)r.name&&(t=`${r.name}(${t})`);return t}static define(t,r){let n=typeof t=="string"?t:"?";if(t instanceof vi&&(r=t),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let i=new vi(n,[],null,[]);if(i.set.push(i),r)for(let a of r.set)i.set.push(a);return i}static defineModifier(t){let r=new Ld(t);return n=>n.modified.indexOf(r)>-1?n:Ld.get(n.base||n,n.modified.concat(r).sort((i,a)=>i.id-a.id))}}let ype=0;class Ld{constructor(t){this.name=t,this.instances=[],this.id=ype++}static get(t,r){if(!r.length)return t;let n=r[0].instances.find(o=>o.base==t&&bpe(r,o.modified));if(n)return n;let i=[],a=new vi(t.name,i,t,r);for(let o of r)o.instances.push(a);let s=wpe(r);for(let o of t.set)if(!o.modified.length)for(let l of s)i.push(Ld.get(o,l));return a}}function bpe(e,t){return e.length==t.length&&e.every((r,n)=>r==t[n])}function wpe(e){let t=[[]];for(let r=0;r<e.length;r++)for(let n=0,i=t.length;n<i;n++)t.push(t[n].concat(e[r]));return t.sort((r,n)=>n.length-r.length)}function xpe(e){let t=Object.create(null);for(let r in e){let n=e[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let a=[],s=2,o=i;for(let f=0;;){if(o=="..."&&f>0&&f+3==i.length){s=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+i);if(a.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);o=i.slice(f)}let l=a.length-1,u=a[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new Id(n,s,l>0?a.slice(0,l):null);t[u]=c.sort(t[u])}}return y$.add(t)}const y$=new Yt;class Id{constructor(t,r,n,i){this.tags=t,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Id.empty=new Id([],2,null);function _pe(e,t){let r=Object.create(null);for(let a of e)if(!Array.isArray(a.tag))r[a.tag.id]=a.class;else for(let s of a.tag)r[s.id]=a.class;let{scope:n,all:i=null}=t||{};return{style:a=>{let s=i;for(let o of a)for(let l of o.set){let u=r[l.id];if(u){s=s?s+" "+u:u;break}}return s},scope:n}}function Epe(e,t){let r=null;for(let n of e){let i=n.style(t);i&&(r=r?r+" "+i:i)}return r}function sge(e,t,r,n=0,i=e.length){let a=new Spe(n,Array.isArray(t)?t:[t],r);a.highlightRange(e.cursor(),n,i,"",a.highlighters),a.flush(i)}class Spe{constructor(t,r,n){this.at=t,this.highlighters=r,this.span=n,this.class=""}startSpan(t,r){r!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=r)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,r,n,i,a){let{type:s,from:o,to:l}=t;if(o>=n||l<=r)return;s.isTop&&(a=this.highlighters.filter(d=>!d.scope||d.scope(s)));let u=i,c=kpe(t)||Id.empty,f=Epe(a,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(r,o),u),c.opaque)return;let h=t.tree&&t.tree.prop(Yt.mounted);if(h&&h.overlay){let d=t.node.enter(h.overlay[0].from+o,1),p=this.highlighters.filter(g=>!g.scope||g.scope(h.tree.type)),v=t.firstChild();for(let g=0,m=o;;g++){let y=g<h.overlay.length?h.overlay[g]:null,b=y?y.from+o:l,x=Math.max(r,m),E=Math.min(n,b);if(x<E&&v)for(;t.from<E&&(this.highlightRange(t,x,E,i,a),this.startSpan(Math.min(E,t.to),u),!(t.to>=b||!t.nextSibling())););if(!y||b>n)break;m=y.to+o,m>r&&(this.highlightRange(d.cursor(),Math.max(r,y.from+o),Math.min(n,m),"",p),this.startSpan(Math.min(n,m),u))}v&&t.parent()}else if(t.firstChild()){h&&(i="");do if(!(t.to<=r)){if(t.from>=n)break;this.highlightRange(t,r,n,i,a),this.startSpan(Math.min(n,t.to),u)}while(t.nextSibling());t.parent()}}}function kpe(e){let t=e.type.prop(y$);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const Be=vi.define,ph=Be(),gs=Be(),wL=Be(gs),xL=Be(gs),ms=Be(),vh=Be(ms),ew=Be(ms),oa=Be(),oo=Be(oa),na=Be(),ia=Be(),Wx=Be(),_u=Be(Wx),gh=Be(),rt={comment:ph,lineComment:Be(ph),blockComment:Be(ph),docComment:Be(ph),name:gs,variableName:Be(gs),typeName:wL,tagName:Be(wL),propertyName:xL,attributeName:Be(xL),className:Be(gs),labelName:Be(gs),namespace:Be(gs),macroName:Be(gs),literal:ms,string:vh,docString:Be(vh),character:Be(vh),attributeValue:Be(vh),number:ew,integer:Be(ew),float:Be(ew),bool:Be(ms),regexp:Be(ms),escape:Be(ms),color:Be(ms),url:Be(ms),keyword:na,self:Be(na),null:Be(na),atom:Be(na),unit:Be(na),modifier:Be(na),operatorKeyword:Be(na),controlKeyword:Be(na),definitionKeyword:Be(na),moduleKeyword:Be(na),operator:ia,derefOperator:Be(ia),arithmeticOperator:Be(ia),logicOperator:Be(ia),bitwiseOperator:Be(ia),compareOperator:Be(ia),updateOperator:Be(ia),definitionOperator:Be(ia),typeOperator:Be(ia),controlOperator:Be(ia),punctuation:Wx,separator:Be(Wx),bracket:_u,angleBracket:Be(_u),squareBracket:Be(_u),paren:Be(_u),brace:Be(_u),content:oa,heading:oo,heading1:Be(oo),heading2:Be(oo),heading3:Be(oo),heading4:Be(oo),heading5:Be(oo),heading6:Be(oo),contentSeparator:Be(oa),list:Be(oa),quote:Be(oa),emphasis:Be(oa),strong:Be(oa),link:Be(oa),monospace:Be(oa),strikethrough:Be(oa),inserted:Be(),deleted:Be(),changed:Be(),invalid:Be(),meta:gh,documentMeta:Be(gh),annotation:Be(gh),processingInstruction:Be(gh),definition:vi.defineModifier("definition"),constant:vi.defineModifier("constant"),function:vi.defineModifier("function"),standard:vi.defineModifier("standard"),local:vi.defineModifier("local"),special:vi.defineModifier("special")};for(let e in rt){let t=rt[e];t instanceof vi&&(t.name=e)}_pe([{tag:rt.link,class:"tok-link"},{tag:rt.heading,class:"tok-heading"},{tag:rt.emphasis,class:"tok-emphasis"},{tag:rt.strong,class:"tok-strong"},{tag:rt.keyword,class:"tok-keyword"},{tag:rt.atom,class:"tok-atom"},{tag:rt.bool,class:"tok-bool"},{tag:rt.url,class:"tok-url"},{tag:rt.labelName,class:"tok-labelName"},{tag:rt.inserted,class:"tok-inserted"},{tag:rt.deleted,class:"tok-deleted"},{tag:rt.literal,class:"tok-literal"},{tag:rt.string,class:"tok-string"},{tag:rt.number,class:"tok-number"},{tag:[rt.regexp,rt.escape,rt.special(rt.string)],class:"tok-string2"},{tag:rt.variableName,class:"tok-variableName"},{tag:rt.local(rt.variableName),class:"tok-variableName tok-local"},{tag:rt.definition(rt.variableName),class:"tok-variableName tok-definition"},{tag:rt.special(rt.variableName),class:"tok-variableName2"},{tag:rt.definition(rt.propertyName),class:"tok-propertyName tok-definition"},{tag:rt.typeName,class:"tok-typeName"},{tag:rt.namespace,class:"tok-namespace"},{tag:rt.className,class:"tok-className"},{tag:rt.macroName,class:"tok-macroName"},{tag:rt.propertyName,class:"tok-propertyName"},{tag:rt.operator,class:"tok-operator"},{tag:rt.comment,class:"tok-comment"},{tag:rt.meta,class:"tok-meta"},{tag:rt.invalid,class:"tok-invalid"},{tag:rt.punctuation,class:"tok-punctuation"}]);const Tpe=xpe({String:rt.string,Number:rt.number,"True False":rt.bool,PropertyName:rt.propertyName,Null:rt.null,", :":rt.separator,"[ ]":rt.squareBracket,"{ }":rt.brace}),oge=Rd.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[Tpe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});let Vx=[],b$=[];(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,r=0;t<e.length;t++)(t%2?b$:Vx).push(r=r+e[t])})();function Mpe(e){if(e<768)return!1;for(let t=0,r=Vx.length;;){let n=t+r>>1;if(e<Vx[n])r=n;else if(e>=b$[n])t=n+1;else return!0;if(t==r)return!1}}function _L(e){return e>=127462&&e<=127487}const EL=8205;function lge(e,t,r=!0,n=!0){return(r?w$:Ape)(e,t,n)}function w$(e,t,r){if(t==e.length)return t;t&&x$(e.charCodeAt(t))&&_$(e.charCodeAt(t-1))&&t--;let n=tw(e,t);for(t+=SL(n);t<e.length;){let i=tw(e,t);if(n==EL||i==EL||r&&Mpe(i))t+=SL(i),n=i;else if(_L(i)){let a=0,s=t-2;for(;s>=0&&_L(tw(e,s));)a++,s-=2;if(a%2==0)break;t+=2}else break}return t}function Ape(e,t,r){for(;t>0;){let n=w$(e,t-2,r);if(n<t)return n;t--}return 0}function tw(e,t){let r=e.charCodeAt(t);if(!_$(r)||t+1==e.length)return r;let n=e.charCodeAt(t+1);return x$(n)?(r-55296<<10)+(n-56320)+65536:r}function x$(e){return e>=56320&&e<57344}function _$(e){return e>=55296&&e<56320}function SL(e){return e<65536?1:2}const Ux="ͼ",kL=typeof Symbol>"u"?"__"+Ux:Symbol.for(Ux),Hx=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),TL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class uge{constructor(t,r){this.rules=[];let{finish:n}=r||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function a(s,o,l,u){let c=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&o==null)return l.push(s[0]+";");for(let d in o){let p=o[d];if(/&/.test(d))a(d.split(/,\s*/).map(v=>s.map(g=>v.replace(/&/,g))).reduce((v,g)=>v.concat(g)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");a(i(d),p,c,h)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+p+";")}(c.length||h)&&l.push((n&&!f&&!u?s.map(n):s).join(", ")+" {"+c.join(" ")+"}")}for(let s in t)a(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=TL[kL]||1;return TL[kL]=t+1,Ux+t.toString(36)}static mount(t,r,n){let i=t[Hx],a=n&&n.nonce;i?a&&i.setNonce(a):i=new Ope(t,a),i.mount(Array.isArray(r)?r:[r],t)}}let ML=new Map;class Ope{constructor(t,r){let n=t.ownerDocument||t,i=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let a=ML.get(n);if(a)return t[Hx]=a;this.sheet=new i.CSSStyleSheet,ML.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],t[Hx]=this}mount(t,r){let n=this.sheet,i=0,a=0;for(let s=0;s<t.length;s++){let o=t[s],l=this.modules.indexOf(o);if(l<a&&l>-1&&(this.modules.splice(l,1),a--,l=-1),l==-1){if(this.modules.splice(a++,0,o),n)for(let u=0;u<o.rules.length;u++)n.insertRule(o.rules[u],i++)}else{for(;a<l;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let o=r.head||r;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Bo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Dd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ppe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Npe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Kr=0;Kr<10;Kr++)Bo[48+Kr]=Bo[96+Kr]=String(Kr);for(var Kr=1;Kr<=24;Kr++)Bo[Kr+111]="F"+Kr;for(var Kr=65;Kr<=90;Kr++)Bo[Kr]=String.fromCharCode(Kr+32),Dd[Kr]=String.fromCharCode(Kr);for(var rw in Bo)Dd.hasOwnProperty(rw)||(Dd[rw]=Bo[rw]);function cge(e){var t=Ppe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Npe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?Dd:Bo)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function fge(){var e=arguments[0];typeof e=="string"&&(e=document.createElement(e));var t=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];typeof i=="string"?e.setAttribute(n,i):i!=null&&(e[n]=i)}t++}for(;t<arguments.length;t++)E$(e,arguments[t]);return e}function E$(e,t){if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var r=0;r<t.length;r++)E$(e,t[r]);else throw new RangeError("Unsupported child node: "+t)}const hge={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(e,{emit:t}){const r=t,n=e,i=_z(),a=Gr([]),s=kt(()=>a.value.reduce((Z,se)=>(Z[~~se.id]=se)&&Z,{})),o=kt(()=>a.value.length),l=Gr(null),u=Gr(!1),c=Gr({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),f=Gr({splitter:null,timeoutId:null}),h=kt(()=>({[`splitpanes splitpanes--${n.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":c.value.dragging})),d=()=>{document.addEventListener("mousemove",g,{passive:!1}),document.addEventListener("mouseup",m),"ontouchstart"in window&&(document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",m))},p=()=>{document.removeEventListener("mousemove",g,{passive:!1}),document.removeEventListener("mouseup",m),"ontouchstart"in window&&(document.removeEventListener("touchmove",g,{passive:!1}),document.removeEventListener("touchend",m))},v=(Z,se)=>{const ve=Z.target.closest(".splitpanes__splitter");if(ve){const{left:ge,top:Me}=ve.getBoundingClientRect(),{clientX:W,clientY:H}="ontouchstart"in window&&Z.touches?Z.touches[0]:Z;c.value.cursorOffset=n.horizontal?H-Me:W-ge}d(),c.value.mouseDown=!0,c.value.activeSplitter=se},g=Z=>{c.value.mouseDown&&(Z.preventDefault(),c.value.dragging=!0,requestAnimationFrame(()=>{_(E(Z)),U("resize",{event:Z},!0)}))},m=Z=>{c.value.dragging&&U("resized",{event:Z},!0),c.value.mouseDown=!1,c.value.activeSplitter=null,setTimeout(()=>{c.value.dragging=!1,p()},100)},y=(Z,se)=>{"ontouchstart"in window&&(Z.preventDefault(),f.value.splitter===se?(clearTimeout(f.value.timeoutId),f.value.timeoutId=null,b(Z,se),f.value.splitter=null):(f.value.splitter=se,f.value.timeoutId=setTimeout(()=>f.value.splitter=null,500))),c.value.dragging||U("splitter-click",{event:Z,index:se},!0)},b=(Z,se)=>{if(U("splitter-dblclick",{event:Z,index:se},!0),n.maximizePanes){let ve=0;a.value=a.value.map((ge,Me)=>(ge.size=Me===se?ge.max:ge.min,Me!==se&&(ve+=ge.min),ge)),a.value[se].size-=ve,U("pane-maximize",{event:Z,index:se,pane:a.value[se]}),U("resized",{event:Z,index:se},!0)}},x=(Z,se)=>{U("pane-click",{event:Z,index:s.value[se].index,pane:s.value[se]})},E=Z=>{const se=l.value.getBoundingClientRect(),{clientX:ve,clientY:ge}="ontouchstart"in window&&Z.touches?Z.touches[0]:Z;return{x:ve-(n.horizontal?0:c.value.cursorOffset)-se.left,y:ge-(n.horizontal?c.value.cursorOffset:0)-se.top}},S=Z=>{Z=Z[n.horizontal?"y":"x"];const se=l.value[n.horizontal?"clientHeight":"clientWidth"];return n.rtl&&!n.horizontal&&(Z=se-Z),Z*100/se},_=Z=>{const se=c.value.activeSplitter;let ve={prevPanesSize:O(se),nextPanesSize:P(se),prevReachedMinPanes:0,nextReachedMinPanes:0};const ge=0+(n.pushOtherPanes?0:ve.prevPanesSize),Me=100-(n.pushOtherPanes?0:ve.nextPanesSize),W=Math.max(Math.min(S(Z),Me),ge);let H=[se,se+1],oe=a.value[H[0]]||null,ce=a.value[H[1]]||null;const xe=oe.max<100&&W>=oe.max+ve.prevPanesSize,de=ce.max<100&&W<=100-(ce.max+P(se+1));if(xe||de){xe?(oe.size=oe.max,ce.size=Math.max(100-oe.max-ve.prevPanesSize-ve.nextPanesSize,0)):(oe.size=Math.max(100-ce.max-ve.prevPanesSize-P(se+1),0),ce.size=ce.max);return}if(n.pushOtherPanes){const G=k(ve,W);if(!G)return;({sums:ve,panesToResize:H}=G),oe=a.value[H[0]]||null,ce=a.value[H[1]]||null}oe!==null&&(oe.size=Math.min(Math.max(W-ve.prevPanesSize-ve.prevReachedMinPanes,oe.min),oe.max)),ce!==null&&(ce.size=Math.min(Math.max(100-W-ve.nextPanesSize-ve.nextReachedMinPanes,ce.min),ce.max))},k=(Z,se)=>{const ve=c.value.activeSplitter,ge=[ve,ve+1];return se<Z.prevPanesSize+a.value[ge[0]].min&&(ge[0]=N(ve).index,Z.prevReachedMinPanes=0,ge[0]<ve&&a.value.forEach((Me,W)=>{W>ge[0]&&W<=ve&&(Me.size=Me.min,Z.prevReachedMinPanes+=Me.min)}),Z.prevPanesSize=O(ge[0]),ge[0]===void 0)?(Z.prevReachedMinPanes=0,a.value[0].size=a.value[0].min,a.value.forEach((Me,W)=>{W>0&&W<=ve&&(Me.size=Me.min,Z.prevReachedMinPanes+=Me.min)}),a.value[ge[1]].size=100-Z.prevReachedMinPanes-a.value[0].min-Z.prevPanesSize-Z.nextPanesSize,null):se>100-Z.nextPanesSize-a.value[ge[1]].min&&(ge[1]=R(ve).index,Z.nextReachedMinPanes=0,ge[1]>ve+1&&a.value.forEach((Me,W)=>{W>ve&&W<ge[1]&&(Me.size=Me.min,Z.nextReachedMinPanes+=Me.min)}),Z.nextPanesSize=P(ge[1]-1),ge[1]===void 0)?(Z.nextReachedMinPanes=0,a.value.forEach((Me,W)=>{W<o.value-1&&W>=ve+1&&(Me.size=Me.min,Z.nextReachedMinPanes+=Me.min)}),a.value[ge[0]].size=100-Z.prevPanesSize-P(ge[0]-1),null):{sums:Z,panesToResize:ge}},O=Z=>a.value.reduce((se,ve,ge)=>se+(ge<Z?ve.size:0),0),P=Z=>a.value.reduce((se,ve,ge)=>se+(ge>Z+1?ve.size:0),0),N=Z=>[...a.value].reverse().find(se=>se.index<Z&&se.size>se.min)||{},R=Z=>a.value.find(se=>se.index>Z+1&&se.size>se.min)||{},L=()=>{var Z;const se=Array.from(((Z=l.value)==null?void 0:Z.children)||[]);for(const ve of se){const ge=ve.classList.contains("splitpanes__pane"),Me=ve.classList.contains("splitpanes__splitter");!ge&&!Me&&(ve.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},D=(Z,se,ve=!1)=>{const ge=Z-1,Me=document.createElement("div");Me.classList.add("splitpanes__splitter"),ve||(Me.onmousedown=W=>v(W,ge),typeof window<"u"&&"ontouchstart"in window&&(Me.ontouchstart=W=>v(W,ge)),Me.onclick=W=>y(W,ge+1)),Me.ondblclick=W=>b(W,ge+1),se.parentNode.insertBefore(Me,se)},$=Z=>{Z.onmousedown=void 0,Z.onclick=void 0,Z.ondblclick=void 0,Z.remove()},X=()=>{var Z;const se=Array.from(((Z=l.value)==null?void 0:Z.children)||[]);for(const ge of se)ge.className.includes("splitpanes__splitter")&&$(ge);let ve=0;for(const ge of se)ge.className.includes("splitpanes__pane")&&(!ve&&n.firstSplitter?D(ve,ge,!0):ve&&D(ve,ge),ve++)},K=({uid:Z,...se})=>{const ve=s.value[Z];for(const[ge,Me]of Object.entries(se))ve[ge]=Me},V=Z=>{var se;let ve=-1;Array.from(((se=l.value)==null?void 0:se.children)||[]).some(ge=>(ge.className.includes("splitpanes__pane")&&ve++,ge.isSameNode(Z.el))),a.value.splice(ve,0,{...Z,index:ve}),a.value.forEach((ge,Me)=>ge.index=Me),u.value&&As(()=>{X(),we({addedPane:a.value[ve]}),U("pane-add",{pane:a.value[ve]})})},ne=Z=>{const se=a.value.findIndex(ge=>ge.id===Z);a.value[se].el=null;const ve=a.value.splice(se,1)[0];a.value.forEach((ge,Me)=>ge.index=Me),As(()=>{X(),U("pane-remove",{pane:ve}),we({removedPane:{...ve}})})},we=(Z={})=>{!Z.addedPane&&!Z.removedPane?pe():a.value.some(se=>se.givenSize!==null||se.min||se.max<100)?qe(Z):Se(),u.value&&U("resized")},Se=()=>{const Z=100/o.value;let se=0;const ve=[],ge=[];for(const Me of a.value)Me.size=Math.max(Math.min(Z,Me.max),Me.min),se-=Me.size,Me.size>=Me.max&&ve.push(Me.id),Me.size<=Me.min&&ge.push(Me.id);se>.1&&ee(se,ve,ge)},pe=()=>{let Z=100;const se=[],ve=[];let ge=0;for(const W of a.value)Z-=W.size,W.givenSize!==null&&ge++,W.size>=W.max&&se.push(W.id),W.size<=W.min&&ve.push(W.id);let Me=100;if(Z>.1){for(const W of a.value)W.givenSize===null&&(W.size=Math.max(Math.min(Z/(o.value-ge),W.max),W.min)),Me-=W.size;Me>.1&&ee(Me,se,ve)}},qe=({addedPane:Z,removedPane:se}={})=>{let ve=100/o.value,ge=0;const Me=[],W=[];((Z==null?void 0:Z.givenSize)??null)!==null&&(ve=(100-Z.givenSize)/(o.value-1));for(const H of a.value)ge-=H.size,H.size>=H.max&&Me.push(H.id),H.size<=H.min&&W.push(H.id);if(!(Math.abs(ge)<.1)){for(const H of a.value)(Z==null?void 0:Z.givenSize)!==null&&(Z==null?void 0:Z.id)===H.id||(H.size=Math.max(Math.min(ve,H.max),H.min)),ge-=H.size,H.size>=H.max&&Me.push(H.id),H.size<=H.min&&W.push(H.id);ge>.1&&ee(ge,Me,W)}},ee=(Z,se,ve)=>{let ge;Z>0?ge=Z/(o.value-se.length):ge=Z/(o.value-ve.length),a.value.forEach((Me,W)=>{if(Z>0&&!se.includes(Me.id)){const H=Math.max(Math.min(Me.size+ge,Me.max),Me.min),oe=H-Me.size;Z-=oe,Me.size=H}else if(!ve.includes(Me.id)){const H=Math.max(Math.min(Me.size+ge,Me.max),Me.min),oe=H-Me.size;Z-=oe,Me.size=H}}),Math.abs(Z)>.1&&As(()=>{u.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},U=(Z,se=void 0,ve=!1)=>{const ge=(se==null?void 0:se.index)??c.value.activeSplitter??null;r(Z,{...se,...ge!==null&&{index:ge},...ve&&ge!==null&&{prevPane:a.value[ge-(n.firstSplitter?1:0)],nextPane:a.value[ge+(n.firstSplitter?0:1)]},panes:a.value.map(Me=>({min:Me.min,max:Me.max,size:Me.size}))})};xr(()=>n.firstSplitter,()=>X()),Ws(()=>{L(),X(),we(),U("ready"),u.value=!0}),Zd(()=>u.value=!1);const le=()=>{var Z;return tp("div",{ref:l,class:h.value},(Z=i.default)==null?void 0:Z.call(i))};return us("panes",a),us("indexedPanes",s),us("horizontal",kt(()=>n.horizontal)),us("requestUpdate",K),us("onPaneAdd",V),us("onPaneRemove",ne),us("onPaneClick",x),(Z,se)=>(oc(),Wh(yz(le)))}},dge={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(e){var t;const r=e,n=Qn("requestUpdate"),i=Qn("onPaneAdd"),a=Qn("horizontal"),s=Qn("onPaneRemove"),o=Qn("onPaneClick"),l=(t=jn())==null?void 0:t.uid,u=Qn("indexedPanes"),c=kt(()=>u.value[l]),f=Gr(null),h=kt(()=>{const g=isNaN(r.size)||r.size===void 0?0:parseFloat(r.size);return Math.max(Math.min(g,p.value),d.value)}),d=kt(()=>{const g=parseFloat(r.minSize);return isNaN(g)?0:g}),p=kt(()=>{const g=parseFloat(r.maxSize);return isNaN(g)?100:g}),v=kt(()=>{var g;return`${a.value?"height":"width"}: ${(g=c.value)==null?void 0:g.size}%`});return xr(()=>h.value,g=>n({uid:l,size:g})),xr(()=>d.value,g=>n({uid:l,min:g})),xr(()=>p.value,g=>n({uid:l,max:g})),Ws(()=>{i({id:l,el:f.value,min:d.value,max:p.value,givenSize:r.size===void 0?null:h.value,size:h.value})}),Zd(()=>s(l)),(g,m)=>(oc(),Zz("div",{ref_key:"paneEl",ref:f,class:"splitpanes__pane",onClick:m[0]||(m[0]=y=>Pc(o)(y,g._.uid)),style:Wd(v.value)},[wz(g.$slots,"default")],4))}};export{pi as $,kr as A,wr as B,mF as C,MK as D,gt as E,px as F,Wr as G,b2 as H,w2 as I,RK as J,NB as K,ege as L,Jr as M,Sn as N,lT as O,Gc as P,qF as Q,Ds as R,Bve as S,gp as T,rge as U,vp as V,Si as W,Lve as X,ige as Y,nge as Z,vT as _,Zw as a,ni as a$,age as a0,Kee as a1,Pve as a2,tn as a3,Jve as a4,rse as a5,hi as a6,x2 as a7,Qve as a8,Zve as a9,xpe as aA,oge as aB,fge as aC,Xd as aD,Fn as aE,Qn as aF,kt as aG,_t as aH,Ws as aI,xr as aJ,Zd as aK,tp as aL,jn as aM,Gr as aN,Pc as aO,yve as aP,dr as aQ,X_ as aR,ar as aS,pve as aT,mve as aU,qt as aV,Ot as aW,jpe as aX,nt as aY,xve as aZ,us as a_,jve as aa,Jae as ab,Kve as ac,Xve as ad,qae as ae,Q2 as af,GM as ag,Vve as ah,Yve as ai,Hve as aj,Uve as ak,Wve as al,lge as am,uge as an,cge as ao,Bo as ap,Dd as aq,zn as ar,Yt as as,_pe as at,sge as au,Xr as av,Gx as aw,spe as ax,Ui as ay,rt as az,Xa as b,ive as b$,Bi as b0,Zz as b1,oc as b2,wz as b3,tj as b4,o3 as b5,wve as b6,_ve as b7,wI as b8,m_ as b9,fz as bA,kve as bB,Gpe as bC,Wpe as bD,Wl as bE,uz as bF,Ave as bG,Yd as bH,Hpe as bI,ej as bJ,Hq as bK,e3 as bL,s_ as bM,Sve as bN,Fpe as bO,vve as bP,FI as bQ,Eve as bR,gve as bS,Vpe as bT,fp as bU,Xpe as bV,XL as bW,uc as bX,Kpe as bY,Qpe as bZ,tve as b_,kv as ba,As as bb,Bpe as bc,_z as bd,Tve as be,zpe as bf,fn as bg,i_ as bh,Wh as bi,nz as bj,yz as bk,Or as bl,Ype as bm,Eq as bn,Wd as bo,Rpe as bp,Ns as bq,Lc as br,Tn as bs,ul as bt,zD as bu,Mve as bv,bve as bw,K_ as bx,Ke as by,Lpe as bz,Ye as c,ove as c0,cve as c1,sve as c2,uve as c3,Q9 as c4,lve as c5,ave as c6,k_ as c7,fve as c8,rve as c9,Ipe as ca,Upe as cb,hve as cc,Dpe as cd,$pe as ce,qpe as cf,hge as cg,dge as ch,eve as ci,nve as cj,Zpe as ck,Et as cl,dve as cm,Lo as d,Ht as e,$ve as f,Nve as g,Ft as h,Qe as i,Ls as j,Ive as k,Cve as l,jc as m,Wc as n,y2 as o,qve as p,uT as q,er as r,NK as s,Dve as t,Rve as u,zve as v,Ove as w,A5 as x,Fve as y,kK as z};
